---
timezone: Asia/Shanghai
---

> 请在上边的 timezone 添加你的当地时区，这会有助于你的打卡状态的自动化更新，如果没有添加，默认为北京时间 UTC+8 时区
> 时区请参考以下列表，请移除 # 以后的内容


---

# {Punkcan}

1. Optimism 治理新手...
2. 你认为你会完成本次残酷学习吗？
	- 应该是可以的

## Notes

<!-- Content_START -->

### 2025.01.06

后续的笔记我都尽可能白话

### 用最白话的方式，解释Optimism是什么？

假设以太坊是一条高速公路，但是他限速100，當大家都想在上面開車時，就會開始塞車，導致速度變慢、而且上公路要费用，如果人太多就只能把手續費變貴，让出的起较高手续的车子先上。

Optimism 就是在高速公路旁邊蓋了一條新的快速道路。
虽然他也有限速，但是设计不同，所以他限速更高，例如300，這條快速道路的目標是讓大家可以在上面快速、便宜地開車（進行交易），然後再把結果匯回高速公路（以太坊），以確保安全。

把结果存回以太坊的这个动作很重要，因为Optimism跟L1相比，并没有所谓的验证者，所以他仰赖以太坊上面的安全机制，来确保他的数据是可信任的。

### Optimistic Rollup

Optimism 使用一種叫做「Optimistic Rollup」的技術。

就是先假設所有交易都是沒問題的，除非有人跳出來說有問題。

如果沒人說有問題，那這些交易就被視為有效。然後再將很多筆交易「捲起來」打包成一批，再送回以太坊。

### OP Stack

Optimism 的技術是基於 OP Stack 開發的，OP Stack 是一套開源的軟體組件，可以讓大家更容易建立新的 Layer 2 區塊鏈。

**主要特点：**
- 将区块链的各个功能拆分成独立的模块，如数据存储、交易排序、执行等。开发者可以根据需要选择、替换或修改这些模块。
- 支持不同的虚拟机（如 EVM），开发者可以根据应用需求选择最适合的执行环境。
- 支持不同链之间的互操作性。

### Superchain愿景

Optimism 的目標是建立一個「Superchain」，也就是一個由很多條鏈組成的網路，這些鏈都可以共享安全、溝通層和開發工具。

另外Optimism 有自己的代幣，叫做 OP 代幣。OP 代幣持有者可以參與 Optimism 的治理，也就是決定 Optimism 的未來發展方向。

---

### OP 的 Gas 是怎么计算的？

在 Optimism 网络中，交易费用（Gas 费）主要由两部分组成：

1. L2 执行费用：这部分费用与在以太坊主网（L1）上执行交易类似，按照交易在 L2 上执行所消耗的 Gas 量计算。由于 L2 的 Gas 价格较低，这部分费用通常占总费用的比例很小。
2. L1 数据费用：这是将 L2 交易数据打包并提交到以太坊主网时产生的费用。具体而言，Optimism 会将多笔 L2 交易打包成一个批次（batch），并以 calldata 的形式提交到 L1。每个字节的 calldata 在 L1 上都会产生相应的 Gas 费用。因此，交易数据越大，L1 数据费用就越高。

L1 数据费用通常占总交易费用的绝大部分，超过 90%。
Optimism 通过数据压缩等技术手段，努力减少提交到 L1 的数据量，降低用户的交易成本。

为了将交易数据从 Layer 2（L2）提交到以太坊主网（Layer 1，L1），需要支付一定的费用。为确保这些费用的合理性并应对 L1 Gas 价格的波动，Optimism 引入了以下参数：

- **固定开销（Fixed Overhead）**：每笔交易都会产生一个固定的基础费用，用于覆盖将交易数据打包并提交至 L1 的基本处理成本。例如，Optimism 曾将固定开销从 2750 Gas 减少至 2100 Gas，以降低用户的交易费用。
- **费用比例系数（Fee Scalar）**：这是一个动态调整的系数，用于应对 L1 Gas 价格的波动。当 L1 Gas 价格上涨时，费用比例系数可以提高，以确保有足够的资金覆盖提交数据的成本；当 L1 Gas 价格下降时，该系数可以降低，以减少用户的交易费用。Optimism 曾将费用比例系数从 1.5 降低到 1.24，以优化用户的交易成本。

公式：`L1 数据费用 = 费用比例系数 × L1 Gas 价格 ×（交易数据大小 + 固定开销）`

举例：`L1 数据费用 = 1.24 × L1 Gas 价格 ×（交易数据大小 + 2100）`

### 2025.01.07

### Plasma 和 Optimistic rollups 的区别和历史

Plasma 是由以太坊创始人 Vitalik Buterin 和 Joseph Poon 于 2017 年提出的一种扩容解决方案。通过在主链上建立多个子链，来将大量计算和数据处理转移到子链，从而减轻主链负担。

交易放到子链上处理，只有子链的最终结果提交到以太坊主链，基本上就是验证状态，例如哈希根之类的

这样就可以把计算的负担分到子链上。

但这里我不太理解是不是大家太相信密码学了，对于这种显著的问题会避而不见，就是如果只储存验证状态，只能相信子链不会出问题。

原本机制是认为子链即便出问题，还是有退回机制跟挑战机制（质疑交易错误）
但等于把诈骗证明跟退回机制也分散各个子链，还不能全状态回滚，这样反而提高了难度跟安全风险。

目前看下来Plasma跟最大的差别在于
Plasma把验证机制交给子链，验证结果交给主网（这样数据存的少，计算也少）
Rollups把验证机制交给主网，也不需要另外处理验证结果

也因为Plasma的验证方式，导致他的退出机制更加复杂，不过还好现在大家都不太用了。

对应Plasma的诸多问题，Rollups有点像是针对这些问题的改良版本，优化了解决了 Plasma 的一些设计问题，并引入了新的机制，使得数据验证和状态更新更高效。

### Rollups优化了哪些部分？

目前比较常讲到的两种Rollups：Optimistic Rollups 和 ZK Rollups 

两者都是将数据压缩后储存在主链上（用calldata的方式），而且都确保主链上存储的数据确保了所有交易可以被重新验证，无需依赖L2数据，减少了验证的复杂性。

### 验证机制效率

#### **Optimistic Rollups**

- 假设所有交易都是有效的（所以叫乐观Optimistic），只有在争议发生时才进行欺诈证明。
- 挑战期内仅验证有争议的部分，其他交易无需逐笔验证（Plasma 需要在欺诈证明中逐笔回溯）。
- 数据直接存储在主链，不需要从链下重新获取数据。

#### **ZK Rollups**

- 使用零知识证明，在提交交易时就生成一个证明，证明所有交易都是有效的。
- 主链只需要验证零知识证明，就可以确认交易是否正确，无需逐笔检查交易。
- 零知识证明的验证时间极短。
- 这边可以理解到ZK并不是为了隐私，而是为了降低验证成本

也因为完成证明的条件更加简单，退出机制更短




### 2025.01.08

### ZK Rollups 如何产生证明？，具体来说主链上跟链下个别储存了什么？产生流程是什么？

这次主题是Optimistic，所以我们不解释ZK是什么，反正解释了我自己也看不懂。
具体储存如下：
- 主链：
	- 存储压缩后的交易数据（calldata）
	- 零知识证明（ZK Proof），这个证明是确保交易数据是有效的
	-  Layer 2 状态树的根哈希值，而且只存最后的状态（这个不细说了，区块链的基础，区块链本身就是依赖根哈希值去确认整条链的数据未篡改）
- 链下：具体交易和完整状态变化，可以理解成原本在L1交易时有什么，他就有什么（大多都有，但他没有验证者资料，因为L2不完全是透过验证节点处理验证，有些L2用排序器）

具体流程：
- 交易提交到 L2 网络
- 交易并处理状态更新
- L2 网络将多个交易打包成一个批次
- L2 网络计算出新的状态树的根哈希
- 将所有交易压缩成 calldata 格式，准备提交到主链
- 生成零知识证明
	- **输入**：当前状态根哈希、交易批次、最终状态根哈希
	- 输出证明，证明从初始状态到最终状态的所有交易处理都是正确的
- L2 将以下内容提交到主链
	- 压缩的交易数据
	- 零知识证明
	- 最终的状态根哈希

Optimistic则是假设所有提交的交易都是合法的，主链只记录交易摘要和数据，而不逐笔验证。

不像ZK还要产出证明，因此效率更高，成本更低。

至于为什么Optimistic不做验证呢？在逻辑上个人觉得比较像是成本后置的概念。

ZK是每个打包都需要验证，成本在发生挑战（有人质疑数据有误）前就已经有了，但实际上链上发生挑战的频率极低（至少目前上很少发生）

后续如果发生时再进行诈欺证明就可以了，这样可以有效降低成本。

具体流程：
- 交易提交到 L2 网络
- L2 处理交易并更新状态
- L2 将多个交易打包成一个批次，生成新的状态根哈希值。
- L2 将以下内容提交到主链
	- 压缩的交易数据（calldata）。
	- 更新后的状态摘要（Merkle Root）。
- 主链不验证交易，默认假设提交的数据和状态是正确的

是不是简易很多？手续费也降很多（实际操作会明显感受到手续费的差异）

### Tokenomics（代币经济）

鉴于 OP 一直没涨，我们有必要了解一下OP的代币经济，不过今天花太多时间理解Rollups的流程了，我先抄写一下OP目前官方的代币经济

1. OP 代币的初始总供应量为 4,294,967,296 个，并计划以每年 2% 的速度通胀。

2. 代币分配：
	1. 生态系统基金（25%）用于直接资助推动生态系统扩展的社区和公司，包括治理基金、合作伙伴基金、种子基金等。
	2. 追溯性公共产品资助（20%）：通过 Citizens’ House 分发，旨在奖励对生态系统有积极贡献的项目和个人。
	3. 用户空投（19%）：分多次向 Optimism 和以太坊社区的成员分配，第一次空投占 5%，未来还将空投 14%。
	4. 核心贡献者（19%）：分配给帮助将 Optimism 从概念变为现实的人员，所有代币都将受到锁定期的约束。
	5. 投资者（17%）：用于奖励资助 Optimism 发展的投资者，所有代币都将受到锁定期的约束。

3. 治理机制：
	1. 双院制治理体系：由 Token House 和 Citizens’ House 共同管理（必考！丢笔，你可以不懂反捕获委员会，但不能不懂双院制）。
	2. Token House：由 OP 持有者组成，负责项目激励的分配、协议升级等决策投票（目前只能投票跟请愿不能提案）。
	3. Citizens’ House：负责追溯性公共产品资金的分配，成员通过不可转让的 NFT 授予，集合会随着时间的推移而增长，另外部分跟规章政策相关的核心提案，也会需要Citizens’ House投票。
	4. Optimism 基金会
		1. 能提案，但不能投票
		2. 负责推动 Optimism 网络的早期发展（非完全去中心化之前）和技术方向
		3. 

4. 激励机制：
	1. Sequencer 收入再分配：网络交易费用和 Sequencer 收入主要用于资助公共产品，从而创造生态系统价值并推动对区块空间的需求（这个要研究一下跟追溯性公共产品资助是不是同一个）。




### 2025.01.09

#### 代币经济跟OP的币价问题

虽然币圈往往不讲供需，但我们从供需的角度看看OP的币价问题：

OP除了治理之外，就是用来激励，但激励又会让市场进行抛售，进而压制币价，长期以来说这其实是健康的，毕竟一个币的流动性跟他的经济模型健康程度呈现正相关性。

OP的供应量月约42.9亿，并每年增发2%，这是预期OP生态规模增长下，为了维持币价健康的一种设计，当然这种增发如果在未来发生失衡的状态，

虽然激励会带来一定的抛压，但是也会促进生态增长，简单来说，币价如果缓慢下跌（排除行情的影响），最主要的原因反倒是生态增长不够快造成的。

目前币价压制的主要几个因素：
- 初始供应量大，释放节奏较快。
- 年度通胀持续稀释。
- 激励，空投和锁仓解锁带来的抛压。

再加上预期抛压持续存在，因此投机需求也会下降，资本进场的意愿也会下降。

几个未来可能提高币价的可能：
- 更大比例的空投，投资，激励等OP释出后，市场对抛售的预期下降
- OP有更多的应用，例如支付等等
- 生态增长，成为L2的寡头
- 进行销毁（但目前想不到销毁的理由）

至于当Gas 币，会有以下几个问题：
- L2 Gas 费用有大部分是要缴回L1，如果用OP当Gas，缴回L1还要换算，会产生更大的波动
- 超级链如果人人都要用自己的代币当本币，超级链之间的汇率，Gas等等就会变的很混乱，不易超级链的推广，OP开这个头，可能会将整个超级链生态带往混乱
- 不用ETH当本币了还算是L2吗？意识形态问题，当然还是可以用Rollups机制，但整个意识形态会发生纷争
- 替代方案：可以用OP成为Gas Account的通货，也就是说用户可以用OP购买Gas Account的额度，但实际上交易还是扣Gas Account的ETH
- 根据Q老师解释，技术不是问题
- 根据Bruce老师解释，任何问题都可以协调

以上都不是无法克服，如果用OP做Gas币，可以提升OP的消耗，有助于OP的币价提升，但万一后面接着生态混乱纷争等等，生态可能会因此受伤萎缩，反而对币价是不好的

我觉得如果只有利好没有利空，不会一直到现在都不用OP当本币......

### Rollups 的 Stages 框架

Stages 框架是Vitalik Buterin 和 Rollups 开发团队提出一种引导Rollups 发展的概念：

- #### Stage 0: Minimal Rollup：
	- 实行基础功能
	- 数据可用
	- 验证也可用
- #### Stage 1: Data Availability Independence
	- 减少对以太坊主链的依赖，数据产生更大的扩展能力
	- 提高处理能力
- #### Stage 2: Decentralized Sequencers
	- Sequencer 不再由单一实体控制，而是通过共识机制（如 PoS）或去中心化网络运行
- #### Stage 3: Interoperability
	- 不同 Rollups 之间实现互操作性，支持跨 Rollup 资产和数据流转，也就是Superchain现在要做的事情
- #### Stage 4: Full Decentralization
	- Rollups 完全实现去中心化，所有核心组件（Sequencer、数据可用性、验证者）均由分布式网络管理。

话说现在大部分的Rpllups L2 ，多处于 Stage 1 的阶段，Optimistic 目前有计划性的往2跟3前进中。

这个1,2,3不一定是依序进行，也可能并行，例如从讨论上来看，Optimistic 的 Superchain的进度是要比 Decentralized Sequencers 要早些启动的

### 2025.01.10

谈谈EIP-4488跟EIP-4844
EIP-4488 和 EIP-4844 都是为降低 Layer 2 Rollups 的交易成本而设计的提案

EIP-4488
- 降低 Rollups 提交数据到以太坊主链的成本。
- 把数据的存储费用（calldata）从每字节 16 gas 降到 3 gas，同时限制每个区块的数据量。
- 降低 Rollups 的交易成本，大约减少 3-5 倍。

EIP-4844
- 引入一种新的交易类型，专门为 Rollups 存储临时数据（叫 blobs）。
- 数据不长期存储在主链，只验证可用性，减少存储压力。
- 大幅降低 Rollups 成本，可减少 10-100 倍
- 为未来分片扩展（Danksharding）奠定基础

EIP-4844数据不长期存储在主链，那是存储在哪？
- 当 Rollups 把交易数据提交到L1时，所有交易细节会被打包成一个“blob”。
- blobs 是随交易一起提交的临时数据块，它们只需要一两周内存储在以太坊网络的节点中。
- 在数据存储的短期内，所有验证者和节点都能访问 blobs 数据。
- Rollups 数据在 blobs 中存储时间有限，仅用于在挑战期内验证数据。
- 一旦挑战期结束（通常是 7 天），这些数据的验证需求就结束，存储也可以被释放。
- 主链只存储 blobs 的摘要（例如 Merkle 根），用于长期证明 Rollups 的状态是正确的。
- 完整数据的长期存储由 Rollups 或第三方数据网络。

除了Plasma之外，还有一种叫Validium的机制
与 ZK Rollups 类似，它也利用了 零知识证明来确保安全性和正确性。
Validium 和 ZK Rollups 的关键区别在于 数据可用性（Data Availability） 的处理方式。

**Validium 的核心特点**
- Validium 将交易数据存储在链下，不是像 ZK Rollups 那样将数据压缩后存储在以太坊主链上。
- 主链仅存储状态的证明和摘要，链下的数据由专门的 数据可用性委员会（Data Availability Committee, DAC） 来管理。
- Validium 使用零知识证明技术（如 zk-SNARK 或 zk-STARK），主链通过验证证明来确保链下处理的交易是正确的。
- 由于数据存储不依赖主链，Validium 的数据存储成本更低，扩展性更高，可以处理数千笔交易每秒。

但是！
跟Plasma的安全性源自于子链的管理，Validium 的安全性部分依赖于数据可用性委员会，用户必须信任 DAC 不会恶意丢失或拒绝提供链下数据。

跟Plasma不同的是，Validium因为采用了ZKP验证，也可以用主链验证状态正确性

简单来说就是一个再验证部分往ZK靠拢的Plasma，可以做到Plasma的高吞吐低成本，安全性又比Plasma更加可控一些。

但是因为他的设计更加中心化，通常用来处理支付或游戏等不需要长期确保价值的场景



### 2025.01.13

### Optimism Collective 是什么？

Optimism Collective 简单解释就是Optimism的的治理制度跟经济模型，是一种结合商业运营，去中心化治理，公共物品，社区运营的大型实验。

其中包含了：

- 两院制治理
- 公共物品资助：采用追溯性资助，也就是激励已经完成的项目，减少激励使用的不确定性
- 治理实验：
	- 阶段性制度，持续实验后修正，完善整个治理制度，长期成为一个永久的制度
	- 最小化治理：追求治理的高效
- 价值观
	- 影响力=利润
	- 减少不公平性
	- 开源透明，促进协作跟创新
	- 分叉自由，确保社区的自主权

Optimism Collective的目标

- 创建可持续的生态系统：通过公平的资金分配和治理方式，确保社区和开发者的长期参与。
- 解决全球协调问题：鼓励资源分配效率最大化，通过支持公共产品来解决更广泛的社会问题。
- 促进去中心化：通过逐步分散 Optimism 基金会的权力，将治理权交给社区。

累积到现在Optimism已经形成一个很不错的版模，可以提供未来一些商务公司融合社区治理或是社区治理要进入商业化的各种可能性，透过这类结合，让公共物品，创新，协作，商业等等各个面向能够形成平衡，创造效益最大化。

### Optimism Collective 有哪些委员会？

在治理架构中，Optimism设立了多个委员会，以确保生态系统的有效运作和去中心化发展。

1. 安全委员会（Security Council），负责监督和保障 OP 主网及超级链中所有 OP 链的安全。其目标是将管理密钥移交给一组对乐观治理负责的公共、去中心化的个人参与者。

2. 赠款委员会（Grants Council），旨在减少代表的工作量，使其有更多时间参与高影响力的投票。该委员会负责管理赠款流程，确保代币持有者治理的职责范围内的赠款分配。

3. 行为准则委员会（Code of Conduct Council），设立于第五季，负责执行行为准则，确保基金会和非理事会代表遵守既定的行为标准。

4. 反捕获委员会（Anticapture Commission），由集体中影响力最大的代表组成，旨在保护代币持有者不被任何单一利益相关者所控制，维护治理的公平性。

5. 开发者顾问委员会（Developer Advisory Board），协助赠款委员会评估技术提案的优点，并为技术里程碑的完成情况提供建议，促进生态系统的技术发展。
6. 里程碑和指标委员会（Milestones and Metrics Council），主要职责是监督和评估 **Optimism Collective** 赠款和项目的执行情况，确保受赠者能够按计划达成目标，并根据完成情况进行资金分配

这些委员会都是透过请愿，基金会提案，最后社区投票选举的

### 2025.01.14
之前我们谈到治理结构
今天我们看看投票机制，主要有拨款提案跟治理提案，例如会员会成员变更等都属于治理提案，分为三个阶段，每个阶段持续一周：

**提案反馈阶段（Feedback Phase）**
- 提案人在 **Optimism Governance Forum** 提交提案草案（Proposal Draft）。
- 社区成员在论坛留言，对提案的可行性、优缺点等方面提出建议。
- 提案可能根据反馈进行修改，以更好地符合社区需求。

**提案审查阶段（Review Phase）**
- 由治理委员会（如 Grants Council 或 Milestones and Metrics Council）或 Optimism 基金会负责评估，对提案进行正式的技术、经济和可行性评估，确保提案质量。
- 如果提案通过审查，它将进入正式的投票阶段。

**投票阶段（Voting Phase）**
- 社区成员正式对提案进行投票，决定是否批准。
- 投票结束后，系统记录投票结果并将其执行。
- 若为链上投票，投票结果会直接触发智能合约的自动执行。

### 有效提案类型

**OPerating Manual** 的有效提案类型包括以下几种，分别有其特定目标和规则。这些提案是 Optimism Collective 的治理核心。
1. 治理基金（Governance Funds）：对治理基金的使用进行提案和决策，通常用于资助与生态系统相关的项目或计划。
2. 协议或调速器升级（Protocol or Sequencer Upgrades）：对 Optimism 网络的技术协议或交易调速器进行升级或改进。
3. 通胀调整（Inflation Adjustments）：调整 OP 代币的通胀率，以支持生态发展或控制代币供给。
4. 董事罢免（Director Removal）：罢免 Optimism 基金会董事会成员，以维护治理的公平性和透明性。
5. 国库拨款（Treasury Allocations）：从国库中拨款用于特定用途，例如资助新的项目或生态开发。
6. 违反行为准则（Code of Conduct Violations）：对违反社区行为准则的成员或组织采取行动。
7. 代表罢免（Delegate Removal）：罢免未履行职责的社区代表，确保代表制度的有效性。
8. 代表性结构解散（Representative Structure Dissolution）：解散现有代表性结构并重新设计或构建新的治理架构。
9. 权益保护（Equity Protection）：保护社区和生态系统中的权益，避免对公民或代币持有者的不公平对待。
10. 选举（Elections）：选举新的治理机构成员，如委员会成员或代表。
11. 批准（Approvals）：批准或否决需要社区同意的决策。
12. 反思期（元治理，Metagovernance）：对当前治理模式进行审查和反思，以提出改进方案。


以下是官方的表格

|提案类型|求婚之家|描述|提交要求|投票持续时间|法定人数|批准门槛|否决门槛|否决权|
|---|---|---|---|---|---|---|---|---|
|治理基金（任务请求）|代币屋|治理基金可用于通过任务框架支持集体的发展和/或生态系统的增长。|论坛+链上投票|两周审核期加一周投票窗口|30%|51%|不适用|不适用|
|协议或调速器升级|代币屋|对包含主网 Optimism 协议或治理合约的链上智能合约进行预定更改。请参考[协议升级框架](https://github.com/ethereum-optimism/OPerating-manual/blob/main/Framework%20for%20Protocol%20Upgrades.md)以了解何时需要治理批准。|论坛+链上投票|两周审核期加一周投票窗口|30%|76%|30%|市民之家|
|通胀调整|代币屋|新铸造 OP 通货膨胀率的变化（目前每年上限为 2%）|论坛+链上投票。提案应遵循[此模板](https://gov.optimism.io/t/inflation-adjustment-proposal-template/5923)。|两周审核期加一周投票窗口|30%|76%|TBD|市民之家|
|董事罢免|代币屋|解除乐观基金会董事职务|论坛+链上投票|两周审核期加一周投票窗口|30%|76%|不适用|不适用|
|国库拨款|代币屋|从成立的第 2 年开始，乐观基金会每年可以支出或分配的 OP 数量（第 1 年预算为初始 OP 供应总量的 30%）|基金会发起的提案|两周审核期加一周投票窗口|30%|51%|不适用|不适用|
|权益保护|代币屋|OP 持有者必须同意乐观基金会创始文件的任何变更，如果这些变更会实质性地减少他们的权利|基金会发起的提案|两周审核期加一周投票窗口|30%|51%|不适用|不适用|
|违反行为准则|任一院|行为准则的执行行动（包括违反拨款政策）将受到相应众议院的否决。|由执行方提出的概述任何执行行动的提案。|两周审核期加一周投票窗口|不适用|不适用|12%|对应房屋|
|代表罢免|代币屋|集体理事会、董事会和委员会成员可能因未能履行相关章程中规定的责任或未能根据[《参与规则》](https://gov.optimism.io/t/rules-of-engagement-2-0/5728)诚实和透明地行事（包括不参与自我交易）而被免职。 。|论坛+链上投票。|两周审核期加一周投票窗口|30%|51%|不适用|不适用|
|持久结构溶解|代币屋|如果持久性结构不再履行其章程，则可以解散|论坛+链上投票|两周审核期加一周投票窗口|30%|51|不适用|不适用|
|批准|代币屋|治理文件的批准|基金会发起的提案|两周审核期加一周投票窗口|30%|51|不适用|不适用|
|反思期提案（元治理）|代币屋|尝试新的治理结构、计划和/或流程|基金会发起的提案|两周审核期加一周投票窗口|30%|51|不适用|不适用|

### 2025.01.15

### Retro Funding

Retro Funding 提倡基于成果的奖励机制，避免传统资助模式中因未交付承诺而造成的资源浪费。它直接奖励已经产生价值的项目，鼓励更多开发者和团队为生态系统的长期利益而努力。

这种循环可以创造出生态的需求，进一步刺激活跃度。

Retro Funding 为公共产品项目提供了潜在的退出流动性，为公共产品项目打开一个全新的市场，支持项目早期融资并减少财务压力，从而吸引更多团队投入无直接盈利模式的基础设施或开源项目。

Retro Funding 是一项长期实验，旨在打造一个符合未来愿景的生态系统。Collective 定期举办 Retro Funding 轮次，每一轮都会有所不同，这是一个需要社区参与的动态过程。

通过轮次迭代，逐步优化流程和资助标准。

Retro Funding 包括三个核心组件
1. **影响范围（Impact Scoping）**：应该资助哪些内容？如何定义和决定资助范围？
2. **影响评分（Impact Scoring）**：如何评估贡献的影响？使用哪些单位、流程或工具？
3. **影响结算（Impact Settlement）**：投票如何进行？

这呼应了价值观中「影响力=利润」的概念

在最初的几轮中，Optimism 基金会会根据社区意见决定资助范围和投票机制。未来，这些变量（如资助什么、资助多少、如何投票）将由 Citizens’ House 决定，并由 Token House 制衡。

随着时间推移，Collective 计划扩大 Retro Funding 的范围，支持超出 Optimism 生态的公共产品生产。为了实现这一目标，需要基于定期实验来完善 Retro Funding 的工具和流程。

同时我们也可以看到所谓的实验也是在治理中重要的一环，Optimism 的目标不仅是提升其自身生态系统，还希望通过资助全球范围内的公共产品，为更广泛的 Web3 生态做出贡献。

对于Retro Funding历史的进程我就不再整理，重要的是这种模式可以替未来带来什么。


### 2025.01.16
从RetroPGF的项目中我们看到一个显著的现象，就是属于治理分析的总金额占比相当高，而且排名都比较前面。

从项目数量来看，基础设施跟工具占了46/88，这里分析仅仅占了22/88，但是 资助的占比却是1:7.2

这也反映到排行上，前10名，治理分析跟治理领导力都占4个，反倒基础设施仅占2个。

从资金占比，治理领导力也有20个，资金占比是0.67M

基本上跟治理分析差不多，而且里面很多是更偏向数据科学跟管理科学，并非编程技术相关的，也就是说之前论坛里面有人抱怨非技术类评分过低的问题，跟RetroPGF 6的实际结果并不一致，相反地，治理分析加上治理领导力的数量跟基础设施大约是55开，而且分配到的资金整体远大于基础设施。

在这其中，有些是利用现有的数据分析工具，有些则是自行假设数据分析的平台。

不过这其中也是要排除一些标签为治理分析，但更多的是进行现有数据可视化和仪表板等等

治理领导力是一个比较特殊的分类，他有点像是发给「社区贡献者」的薪资，例如各个委员会或是特定贡献者，这一点可以深刻体现出「影响力=利润」的价值观。

马老师说RetroPGF 7主要以开发工具为主，也就是说每一季的回溯性激励主题不尽相同，如果要争取这方面的激励，最好是常态的关注OP发出的官方公示

事多，累了，今天到这里


### 2025.01.17
### Superchain
superchain是我觉得OP生态中非常有趣的一个设计

他主要强调几个点：
- 只要是在Superchain上的链可以有相当高的互操作性，也就是不同链之间的资源可以互相连接又或者是遵循一个架构，可以快速耦合
- Superchain采用的是OP Stack架构，有相当程度的模组化，开发者可以根据自己需求，调整链能提供的功能，例如以游戏开发为目标的RedStone，他Index的效率就非常高，Gas非常低，这样可以有效提高游戏物件载入的效率，并允许更高的并发量（不过即便如此还是有很多细节要克服，例如连续并发时，Nonce是跟不上的，所以得要提高Gas才能让连续并发的要求发出去，但比起很多L2，RedStone已经可以瞬间发出十几个Request，而不会被RPC给踹了）
- 因为扩展性更高，因此在不同领域的需求，可以尽可能贴近用户的需求，提升友善度

因为他的优势，采用的项目也越来越多，包括本身已经有BNB链的币安，也建设了一条opBNB的相容公链。

### OP Stack 的主要模块

以下是对**OP Stack 组件**的重点分析，帮助你理解其模块化设计和关键部分。根据学习报告的需求，以下提供了分层介绍和每一部分的核心内容。

- 数据可用性层（Data Availability Layer）：定义链的原始输入数据存储位置，使用以太坊的 calldata、事件或 EIP-4844 数据 blobs。
- 排序层（Sequencing Layer）：决定用户交易如何被收集并发布到数据可用性层，可以由单一实体处理交易排序，从多个预定义的排序器中选取一个作为当前的排序器。
- 派生层（Derivation Layer）：处理数据可用性层的原始数据，形成供执行层使用的输入，与数据可用性层高度相关，因为需要解析原始数据，分成两大模块：
	- Rollup 模块：从以太坊区块数据、排序器交易批次和交易事件中派生输入。
	- Indexer 模块：派生与特定智能合约相关的数据，如交易、事件和存储修改。
- 执行层（Execution Layer）：定义链的状态结构和状态转换函数，例如EVM的功能等等都是在这里，这个抽离有另一种好处，可支持未来的其他虚拟机（如 zkEVM 或 WASM）。
- 结算层（Settlement Layer）：将 OP Stack 链的状态与外部链（包括其他 OP Stack 链）的状态进行同步，包括乐观故障证明（Fault Proof Optimistic Settlement）跟有效性证明（Validity Proof Settlement）
- 治理层（Governance Layer）：管理系统配置、升级和设计决策的工具与流程集合，例如多签合约（MultiSig Contracts），治理代币（Governance Tokens）等等

### 2025.01.20

尝试假设一个测试网的OP Stack，还搞不太懂
我尝试用Podman的环境建置
参考： https://docs.optimism.io/builders/chain-operators/tools/op-deployer

利用op-deployer，先在L1的测试网布署一个对应合约

首先要初始化
`./bin/op-deployer init --l1-chain-id 11155111 --l2-chain-ids <l2-chain-id> --workdir .deployer`

产生初始档案后，可以自己进去改


`configType = "standard"`
`l1ChainID = 11155111`
`fundDevAccounts = false`
`useInterop = false`
`l1ContractsLocator = "tag://op-contracts/v1.8.0-rc.4"`
`l2ContractsLocator = "tag://op-contracts/v1.7.0-beta.1+l2-contracts"`

`[superchainRoles]`
  `proxyAdminOwner = "0x1eb2ffc903729a0f03966b917003800b145f56e2"`
  `protocolVersionsOwner = "0x79add5713b383daa0a138d3c4780c7a1804a8090"`
  `guardian = "0x7a50f00e8d05b95f98fe38d8bee366a7324dcf7e"`

`[[chains]]`
  `id = "0x0000000000000000000000000000000000000000000000000000000005f5e0fe"`
  `baseFeeVaultRecipient = "0xd48E34c1b95b7dA633e86534482F50c32b243F2d"`
  `l1FeeVaultRecipient = "0xd48E34c1b95b7dA633e86534482F50c32b243F2d"`
  `sequencerFeeVaultRecipient = "0xd48E34c1b95b7dA633e86534482F50c32b243F2d"`
  `eip1559DenominatorCanyon = 250`
  `eip1559Denominator = 50`
  `eip1559Elasticity = 6`
  `[chains.roles]`
    `l1ProxyAdminOwner = "0xd48E34c1b95b7dA633e86534482F50c32b243F2d"`
    `l2ProxyAdminOwner = "0xd48E34c1b95b7dA633e86534482F50c32b243F2d"`
    `systemConfigOwner = "0xd48E34c1b95b7dA633e86534482F50c32b243F2d"`
    `unsafeBlockSigner = "0xd48E34c1b95b7dA633e86534482F50c32b243F2d"`
    `batcher = "0xd48E34c1b95b7dA633e86534482F50c32b243F2d"`
    `proposer = "0xd48E34c1b95b7dA633e86534482F50c32b243F2d"`
    `challenger = "0xd48E34c1b95b7dA633e86534482F50c32b243F2d"`

总之按照步骤将环境设定好了之后

就可以下载op-node op-geth op-batcher op-proposer


### 2025.01.22

体验了OP的一键发链后，我们回到 Superchain

Superchain 是Optimism接下来的大计划，也可以说是Optimism在L2逐渐奠定的产业门槛，可以逐渐巩固Optimism成为L2龙头的条件。

目前看来有几个重点：
- 共享基础设施和标准化协议
- 多个链之间能够无缝交互和高效协作，资产多链之间跨转更快，合约资源可以互相调度
- 多条区块链组成的去中心化网络，共享相同的协议、工具和安全性
- 符合共同协议下可以针对各自的需求去扩展
- 每个链又可以有独立的自有经济体

从一键发链的过程中可以看到 Superchain的组成
- L1：设置打包的合约，用来储存验证跟数据
- L2：设置各种治理角色
	- Proxy Admin Owner：负责管理合约的代理设置和升级
	- Protocol Versions Owner：负责管理协议版本的发布和更新
	- Guardian：负责紧急情况下的治理决策，例如暂停网络或修复漏洞

同样地如果Protocol Versions必须要控制在同一个范围内，确保跨链操作的一致性

这个设计也促进了未来链游的可能性，例如Redstone上采用的Gas费用更低，更好的index效能，但又同享跨链操作跟安全性。


<!-- Content_END -->
