---
timezone: Asia/Shanghai
---


# MRzzz-cyber

1. 自我介绍
我是 Marcus，LXDAO，OP 中文力量成员，我想通过这场学习，更系统的了解 Optimism 以及 Layer2 生态


2. 你认为你会完成本次残酷学习吗？
会完成，通过学习更深入的了解 Optimism

## Notes

<!-- Content_START -->

### 2025.01.06

### 什么是 Optimism？

基本介绍:Optimism 是一个利用 optimistic rollup 技术的的以太坊 L2 解决方案，目的是解决以太坊吞吐量不高，交易成本过高的问题，同时又保证了安全性和去中心化

区块链不可能三角：在区块链不可能三角中，去中心化，安全性和高 TPS，是不可能三角，以太坊足够安全，也具有去中心化，但是牺牲了吞吐量，而 Optimism 牺牲了哪方面，从而解决了以太坊的问题呢，在我看来是牺牲了一部分的去中心化，以为 Optimism 的共识层是基于以太坊的，其实是略微牺牲了一部分去中心化，但是保证了足够高的吞吐量

大规模应用：同时，Layer2 被认为是以太坊大规模应用的重要一步，没有人会因为一次交互而负担超过 10 刀甚至 100 刀以上的 Gas 费，在通过 EIP 4844 之后，Optimism 上交互一次的成本已经达到了小于 0.01 美金，在未来，大规模应用应该会逐渐爆发

Optimism 采取了 Optimistic rollup 的机制

Rollup 概念：将大量交易数据“打包”并压缩后提交到以太坊主网（Layer 1）(以太坊计算是一笔交易都多节点一起同步，Rollup 类似是把一笔交易里面打包多笔交易，提交给以太坊主网)
“Optimistic”设计：默认假设所有交易都是有效的，只有在有人提出争议时才进行验证。这种设计减少了计算量，提升了效率。（7 天验证有效期这个其实我目前还有一些问题，如何保证一些最基础的诚实节点，或者说如何从利益设计上解决这些问题，我看到了故障证明的设计，明天学习故障证明）

以太坊兼容性

EVM 等效性：Optimism 100% 兼容以太坊虚拟机（EVM），支持以太坊上的所有智能合约和工具。
开发者友好：开发者可以将现有的以太坊应用无缝迁移到 Optimism，无需重新编写代码。

安全性

所有数据都存储在以太坊主网，确保数据的完整性和可用性。
使用欺诈证明（Fraud Proof）机制检测并惩罚恶意行为。

经济性

大幅降低交易费用，通常比以太坊主网便宜 10-100 倍（通过 EIP 4844 之后，这个应该是便宜 1000 倍了）
通过高效的 Rollup 压缩技术，优化了存储和 gas 使用。




### Optimistic rollups 的演变历史
Layer2 的存在是是为了解决以太坊吞吐量不大的问题，以太坊目前的处理速度限制在每秒约 15-20 笔交易，这降低了短期内扩展以处理更多用户的可能性。这个问题存在的主要原因是以太坊的共识机制需要许多对等节点来验证区块链状态的每次更新
而这是很难满足大规模应用的，在之前，
在 Optimistic rollups 之前，有一个 Plsma 的扩容方案，Plsma 的扩容方案在 Optimistic rollups 推出之前，一直都是以太坊的重要扩容方案，Polygon 之前也是沿用 plsma 的设计

Plasma 是一种链下扩展方案，利用子链（或称 Plasma 链）处理大部分交易，同时仅将必要的信息提交到以太坊主网。

工作原理
子链结构：Plasma 链是独立的区块链，定期将“状态摘要”提交到以太坊主网。
安全性依赖主网：通过以太坊主网的共识机制和数据可用性，确保 Plasma 子链的安全性。
交易处理：用户在 Plasma 子链上进行交易，只有在需要结算或争议时才回到主网。
退出机制：用户通过“挑战期”（Challenge Period）来确保资金安全，避免恶意行为。

优点
高吞吐量：交易大部分在子链完成，主网压力小。
成本低：相比主网，子链上的交易费用更低。

缺点
数据可用性问题：如果子链运营者恶意，可能导致数据丢失。
通用性低：Plasma 更适合简单支付和转账，不擅长复杂智能合约。
用户体验不佳：退出主网时需要等待挑战期，可能长达数天。


![image](https://github.com/user-attachments/assets/e86821bd-6509-464a-8df9-9cf48604ddcf)

Plasma 上并不能跑 Uniswap，为了解决这个问题，Plasma Group 推出了 Optimistic rollups

由于 Plasma 子链 (Child Chain) 架构的一大缺点，就是在 L2 和 L1 层之间转移资金的耗时很长，有时用户甚至需要等上 1 周之久。这也使得像 Uniswap 这样的通用型智能合约无法运用在 Plasma 上。尽管 Ben 带领技术团队做了很多尝试，但「跑 Uniswap」的问题始终没有被解决。

就这样，Plasma Group 被自己亲手培养出的独角兽给难住了，Plasma 这个曾经被视为以太坊扩容「EndGame」的方案，也似乎走进了技术死胡同。现在，Plasma Group 的三位「扩容性先驱」必须找出新的解决方案。

Optimistic rollups 的论文来源是 Vitalik 2014 年发布的一篇论文，里面提到了 Shadow chain 的概念（有点类似于比特币的闪电网络），从而推出了 Optimistic Rollup

Optimistic Rollup 借鉴了 Plasma 的设计，但牺牲了其几乎无限的扩容性，以运行被叫做 OVM (Optimistic Virtual Machine) 的 EVM 兼容虚拟机，这也使 Optimistic Rollup 能够运行以太坊上能够运行的所有应用。

这一次，团队总算解决了 Plasma 面对的终极问题——OR 可以跑 Uniswap 了！


工作原理

Rollup 机制：Optimism Rollups 将交易数据和状态变化压缩后提交到以太坊主网，同时借助欺诈证明（Fraud Proof）来确保状态的正确性。
数据可用性：所有交易数据都会发布到以太坊主网，确保完整的数据可用性。
兼容性：与以太坊的 EVM（以太坊虚拟机）完全兼容，因此支持所有以太坊智能合约和工具。

优点

高通用性：可以运行复杂的智能合约。
安全性强：所有数据都存储在以太坊主网，保证数据可用性。
用户体验较好：相比 Plasma，退出时间短（通常几分钟到几小时）。

缺点

成本较高：由于 Rollup 仍需要将所有数据提交到主网，成本比 Plasma 高。
欺诈证明延迟：在极端情况下，欺诈证明可能需要一定时间。


### Next Step
1. 研究一下故障证明
2. 研究一下 Plasma 的实现原理，以及和 Optimistic rollups 的更进一步的区别
3. 精读一下 Vitalik 2014 年的文章：https://blog.ethereum.org/2014/09/17/scalability-part-1-building-top


### Reference
https://blog.ethereum.org/2014/09/17/scalability-part-1-building-top (Vitalik: Shadow Chain)

https://foresightnews.pro/article/detail/5893 (Optimisic rollup 成长史)

https://ethereum.org/en/developers/docs/scaling/plasma/

https://ethereum.org/en/developers/docs/scaling/optimistic-rollups/


### 2025.01.07

昨天已完整的了解了 Optimmism 的演变史，以及一些基本工作原理
今天学习目标，学习一下故障证明的概念

### 什么是 Optimistic 挑战期
Optimism 是将多笔交易打包给y以太坊主网，所以提交了 TPS,但是打包的交易如何确定是有效交易，没有人作祟呢，这就出来了挑战期机制，Optimistic 挑战期默认 7 天，Optimism 默认交易批次（Batch）都是诚实有效的，除非有人提出挑战，挑战期为 7 天，

在交易批次提交到主链（Layer 1）后，有一个 7 天的挑战窗口，允许任何人验证这些数据并提出争议，如果某人认为提交的交易批次无效，可以通过提交 故障证明（Fault Proof）来挑战。

Optimmistic 的交易有被挑战成功过得吗？ 答案是没有，主要原因有几个
1. 目前主流的 Optimistic Rollups（例如 Optimism 和 Arbitrum）的 Sequencer 是运行在 中心化模式 下，由 OP Lab 运行，所以基本上没有被挑战
2. 提交者本身有经济激励确保数据有效。
3. 系统运行时间尚短，未遇到复杂的攻击或无效交易

其实只要是因为目前的排序器还是 OP lab 在运行，主要原因是

可信的运营者：
当前的 Sequencer 由 Rollup 项目的核心团队或其授权实体运行。他们有强烈的经济和声誉动机来确保网络的正常运行，避免提交无效交易批次或恶意行为。

集中管理减少混乱：
中心化的 Sequencer 能高效处理交易排序和批次提交，避免多参与者竞争可能带来的混乱或错误。

经济激励和押金机制：
即使中心化，Sequencer 通常也需提交押金（例如保证金）作为担保。如果提交无效交易批次并被挑战成功，他们会面临经济损失。


### 什么是故障证明

故障证明（Fault Proof），有时也被称为 欺诈证明（Fraud Proof），是 Optimistic Rollups 的核心安全机制之一，用于在发生错误或恶意行为时保护网络的正确性和安全性。

1. 故障证明的核心概念
Optimistic Rollups 的默认假设是 提交的交易批次是正确的，因此交易数据会被直接记录在 L1（以太坊主网） 上，而不逐笔验证交易的有效性。然而，为了防止恶意行为，故障证明机制允许任何人对交易批次提出挑战。

乐观假设：交易数据被假定为正确，只有在有人提出挑战时才进行验证。

挑战者角色：如果有人认为某个交易批次无效，可以通过提交故障证明来启动验证过程。


2. 故障证明的工作流程
   
交易批次提交：

Sequencer 将一批交易打包并提交到 L1。
默认假设交易批次是正确的，并等待一段时间（挑战期）。

挑战期（7 天）：

在这段时间内，任何人都可以对某个交易批次的有效性提出质疑。
质疑者需要提交故障证明，并为验证过程支付保证金。

运行故障证明：

故障证明通过回滚交易状态，逐步验证交易的正确性。
若证明批次无效：交易状态会被回滚，Sequencer 的押金被罚没，挑战者获得奖励。
若证明批次有效：挑战者的押金被罚没，Sequencer 保持无事。

最终确认：如果在挑战期内没有质疑，交易批次被认为有效并不可逆转。


3. 故障证明的技术实现
   
故障证明需要 Rollup 和以太坊主网之间的协同工作：

状态分解：将 Rollup 的状态切分成多个步骤（例如交易的中间状态）。
逐步验证：通过二分搜索找到具体的错误步骤，避免全量验证。
最终裁决：在以太坊上运行完整的状态验证，确定批次的有效性。




### Next step
故障证明的具体技术实现，如何状态分解的，我还是不太懂，明天继续深入学习



### 2025.01.08
学习目标：今天深入学习和搞懂故障证明

### 为什么 Optimism 要做故障(欺诈)证明

简单来说：故障证明是一种旨在取代安全委员会的去中心化机制。请记住，Optimism 是一种乐观的汇总，这意味着它假设所有交易都是有效的，除非证明相反。故障证明提供了证明交易无效的工具。

Optimistic Rollups 依靠以下三个因素的组合来确保安全性；

乐观汇总机制：此机制假设一批交易中的所有交易都是有效的，除非另有证明。它允许更快、更便宜的交易，但引入了欺诈活动的风险。

七天挑战期：这一时期是一个至关重要的安全网。它允许任何人挑战状态根的有效性。如果挑战成功，乐观链可以回滚到之前的有效状态。

乐观安全委员会：一组值得信赖的实体，负责监督网络并做出关键决策。在挑战期间出现问题时，它们充当后盾。


传统上，安理会负责质疑和解决欺诈交易纠纷。虽然这种集中式方法有效，但它引入了潜在的故障点并引发了对信任的担忧。为了解决这个问题，Optimism 引入了故障证明。


![image](https://github.com/user-attachments/assets/2f0632b8-6224-42b0-99fa-dd531950e86a)


这个图可以看出来，当一个不诚实的提案者提出来时，其他诚实的节点会提出提案去挑战不诚实节点的提案

交易批处理

分组交易：将用户发起的交易集合收集起来并组合成一个单元。此批处理过程大大减少了以太坊主网上需要处理的数据量。

效率提升：通过同时处理多个交易，Optimism 可以优化计算资源的使用，从而缩短交易时间并降低成本。

州根提交

快照创建：在处理一批交易后，Optimism 会生成一个状态根，它本质上是一个加密哈希，代表特定时间点区块链的整个状态。
数据压缩：状态根简洁地表示区块链的数据，大大减少了需要传输到以太坊的信息量。
以太坊交互：计算出的状态根被提交到以太坊主网，并记录在区块链上。

挑战期

争议窗口：提交状态根后会建立一个指定的时间范围，在此期间任何人都可以质疑其有效性。
激励：为了鼓励参与，成功识别和挑战欺诈性国家根源的个人通常会获得奖励或激励。
安全机制：此期限充当安全网，允许在错误变为永久性错误之前检测并纠正错误。


争议游戏

挑战发起：如果有人认为状态根不正确，他们可以通过提供错误的证据来发起争议。
提交证明：挑战者必须提交一份欺诈证明，即证明状态根无效的数据。
验证过程：Optimism 网络随后进入争议解决过程，在此过程中评估防欺诈的有效性。





### Stage 标准
Stage 标准：这里面其实比较重要的原因是 Vitalik 提到的这个 Rollup 里程碑的初步框架，在之前的 Rollup 推出中，几乎所有项目都采用一种模式，即使用临时训练轮：当项目技术尚不成熟时，项目会尽早启动，以便生态系统开始形成，但并非完全依赖其欺诈证明或 ZK 证明，而是采用某种多重签名，能够在代码出现错误时强制执行特定结果。
Vitalik 根据 Rollup 对辅助工具的依赖程度，将 Rollup 分为三个不同的阶段：

第 0 阶段 — 全面训练：在此阶段，rollup 由操作员有效运行。不过，有一个源可用软件，可以根据 L1 上发布的数据重建状态，用于将状态根与提议的根进行比较。

第 1 阶段 — 有限的训练轮：在此阶段，rollup 过渡到由智能合约管理。但是，可能会保留一个安全委员会来解决潜在的错误。此阶段的特点是实施功能齐全的证明系统、分散欺诈证明提交，并提供无需运营商协调的用户退出。由多元化参与者组成的安全委员会提供了安全网，但其权力也带来了潜在风险。

第 2 阶段 — 无需训练：这是 Rollup 完全由智能合约管理的最后阶段。此时，防欺诈系统无需许可，如果出现不必要的升级，用户有充足的时间退出。安理会的作用严格限于解决可以在链上裁决的健全性错误，并保护用户免受治理攻击。


Optimism 为了实现 Stage 1 阶段，即必须有一个正在运行的欺诈证明或有效性证明方案，该方案具有实际权力来接受或拒绝哪些状态根被汇总合约所接受。


### 链运营商（其他基于 OP Stack 开发的 L2）应该留出多少 ETH 来运行故障证明系统？
运行 FP 的名义运营成本（即假设没有无效提案或恶意行为者）将取决于初始债券的设定FaultDisputeGame和发布提案的频率。假设 OP Mainnet 参数每小时发布一次提案，即每小时 0.08 ETH。假设争议窗口为 7 天，您将需要大约 14 ETH（包括 gas 成本）来提出提案。如果链使用与 OP Mainnet 类似的 FP 部署配置，建议坚持使用 0.08 ETH 的初始债券。
然而，运营 FP 链本身的资本要求远大于 14 ETH。使用 FP 保护其链的运营商必须愿意投入大量 ETH 来保护链。有人可能会认为资本要求不值得，而只使用许可的 FP 系统。在故障证明的后期阶段，资本要求将得到改善，使其更适用于较小的链。


### referencce
https://dev.to/modenetworkl2/what-is-optimism-faultproofs-db7(故障证明)
https://docs.optimism.io/stack/fault-proofs/explainer

### Next Step
了解一下 Vitalik 提出 Stage 阶段的历程，以前发生过那些不合规的情况，以及目前达到 stage 阶段的一些 L2 


### 2025.01.09
学习目标：了解一下 Vitalik 提出 Stage 阶段的历程，以前发生过那些不合规的情况，以及目前达到 stage 阶段的一些 L2 

### Rollup 成熟度演变：stage 评级
现在的基于 Rollup 的 L2 很多，但是如何评判 Rollup 的成熟度，去中心化以及足够有安全性呢，之前 L2Beat 有过关于 L2 Rollup 成熟度的讨论

Rollup 的成熟度体现在三个方面：运行欺诈证明系统/有效性证明系统，可升级性，去中心化/逃生舱的存在

运行欺诈证明系统/有效性证明系统（无计划、正在建设中、部署在测试网上、部署在主网上但位于白名单之后、部署在主网上且无需许可）
可升级性（通过 EOA 立即升级、通过社区 MultiSig / 安全委员会立即升级、通过内置覆盖机制在时间锁后升级等...）
去中心化/逃生舱的存在等... - 中央序列器、无需许可的序列器、L1 强制队列的存在、逃生舱等...

成熟度最高的评级（“ A ”）将留给在三个维度上都成熟的 Rollup。只要实施过程中没有漏洞，这些结构基本上是“由以太坊保护的”，但可能存在一些小问题。

下一个成熟度等级（“ B ”）将留给拥有可运行的有效性/防欺诈系统但缺少一个或两个其余领域的 Rollup。这是为了承认拥有可运行的防欺诈/有效性证明可以说是 Rollup 中最困难的部分，而将其投入生产对任何团队来说都是一项重大成就。同时，这些构造可能仍可立即升级，或者它们可能暂时没有抗审查机制。

最后，“ C ”级排名将保留给在主网上没有部署有效性 / 防欺诈系统的 Rollup


最早 L2beat 提出了一种评分模型，即在 A,B,C 的评级上加上‘+-’，例如，在测试网上为“ C ”级 Rollup 运行有效性/欺诈证明），我们可能会添加“ +”符号，这种评级方法引起了 L2Beat 社区的讨论，L2beat 的评级系统过于‘排名’化而缺少了‘里程碑’制，所以最终的讨论是变成 3 种评级系统，然后是里程碑式认证


### Stage 0, Stage 1, Stgae 2

Stage 0

项目是否自称为 Rollup？
项目必须标识为 Rollup，以区分与其他扩展解决方案（如 Optimistic Chains、Validiums、桥梁等）。

L2 状态根是否发布在 L1 上？
必须将 L2 状态根发布到 L1，以确保提现功能，这是 Rollup 的核心特性。

是否提供 L1 上的数据可用性 (DA)？
L1 上的全部数据需可用，以保证 Rollup 的安全性、透明度和可审计性。

是否有重建 Rollup 状态的软件？
提供可从 L1 数据重建 L2 状态的软件，使任何人能够审查和验证状态根。

Stage 1

是否使用适当的证明系统？
使用证明系统验证状态根的正确性，针对 zk Rollups，必须使用合适的 zk 证明来确认状态。

是否有至少 5 位外部参与者提交欺诈证明？
欺诈证明系统至少允许 5 位外部参与者提出异议，确保验证机制的可信度。

用户是否能独立退出？
用户应能在不依赖运营商的情况下提取资产，确保其资产的自主控制。

升级是否允许至少 7 天的退出时间？
用户应有至少 7 天的时间来退出，保护用户在系统发生不想要的变化时有足够的反应时间。

安全委员会是否设置得当？
安全委员会必须由至少 8 名参与者组成的多签设置，并确保至少一半成员来自 Rollup 之外，以防止集中化风险。

Stgae 2

欺诈证明系统是否无需许可？
欺诈证明系统应去中心化，任何人都可以提交欺诈证明，确保社区的集体审查和控制。

用户是否至少有 30 天的时间退出？
对于不希望的升级，用户有至少 30 天的时间来撤回资产，除非是链上错误引发的紧急升级。

安全委员会是否只能在链上错误时采取行动？
安全委员会应仅在链上发生不可修复的错误时采取行动，减少对其信任和干预，增强系统去中心化。


### 一些 Stage 的例子
目前达到了 Stage 1 的 Rollup 的 L2 也就 2 个，arb 和 OP

![image](https://github.com/user-attachments/assets/2dffda54-6b09-42a8-8563-6df9415fd70b)


Base 还差 2 个条件才满足 Stage 1: 安全委员会还未设定，用户在不足 7 天的时间就可退出（未有足够的反应时间）
![image](https://github.com/user-attachments/assets/461d746d-64d2-4d8a-b747-ee6480384486)



### Reference
https://medium.com/l2beat/introducing-stages-a-framework-to-evaluate-rollups-maturity-d290bb22befe(介绍 Stages — 评估 Rollups 成熟度的框架)
https://l2beat.com/scaling/summary



### Next step
学习目标：搞清楚数据可用性风险框架评估，然后精读 vitalik 2014 可扩展性文章
https://forum.l2beat.com/t/the-data-availability-risk-framework/318


### 2025.01.10
学习目标：搞清楚数据可用性风险框架评估，然后精读 vitalik 2014 可扩展性文章

### 什么是 DA (Data Availability)

Data Availability（数据可用性）是指数据是否能够被链上的所有参与者访问和验证。在区块链中，数据的可用性至关重要，因为它确保了链上的交易和状态能够被节点和用户正确地访问、存储和验证。如果数据不可用，节点可能会无法验证交易，进而影响区块链的安全性和一致性。

之前我们学习到 Plasma 和 rollup 其中一个明显区别是关于数据的完全可用上，rollup 对于发送到 L1 的数据是完全可用的，因为 Plasma 使用的是“退出机制”，即如果子链无法提供有效的数据（例如，如果数据丢失或不可用），用户可能无法退出 Plasma 子链并安全地转移资产。

以下是 Rollup 和 Plasma 在数据可用性上的对比

数据可用性：

Rollup：Rollup 方案通常确保数据的可用性，即使某个节点没有直接存储交易数据，它也能从主链或其他来源访问这些数据。这意味着 Rollup 更加依赖于链上数据的可用性。
Plasma：Plasma 中，数据可用性是一个较大的挑战。因为 Plasma 使用的是“退出机制”，即如果子链无法提供有效的数据（例如，如果数据丢失或不可用），用户可能无法退出 Plasma 子链并安全地转移资产。
安全性：

Rollup：通过将所有数据和计算的最终结果提交到主链，Rollup 方案可以利用主链的安全性，确保其高度可靠。
Plasma：Plasma 子链的安全性相对较弱，因为 Plasma 侧重于通过链下计算来提高效率，这使得它更依赖于外部数据源的可用性。
交易处理：

Rollup：Rollup 将计算和数据存储迁移到 Layer 2，主链只负责验证交易的数据。由于数据可用性通常由主链保障，因此交易处理更高效且安全。
Plasma：Plasma 将大部分的交易处理迁移到子链，而主链只负责提交关键数据。由于数据可用性不足，Plasma 在很多情况下不能确保所有参与者都能访问完整的数据。


### 为什么 DA 非常重要
我这里是把 DA 理解为一个 中转站 或 桥梁，它的作用是确保链上或链外的数据能够被有效地访问和验证。
在 ZK Rollups 和 Optimistic Rollups 中，DA 层的角色就是确保 L2 的数据能够公开且可访问，以便用户、验证者和其他参与者能够验证交易并执行操作（例如提款、挑战不诚实的状态等）。

DA 层的具体作用：
ZK Rollups：ZK Rollups 会生成零知识证明并发布状态数据，DA 层保证这些数据能被参与者访问，以便重建和推进状态。

Optimistic Rollups：Optimistic Rollups 假设交易是有效的，但允许有人质疑和挑战不诚实的状态。DA 层为这种挑战提供数据支持，确保能够访问完整的交易数据，以便进行挑战和验证。

DA 桥：如果 L2 使用外部 DA 提供商，DA 桥会通过承诺验证来确保 L2 数据的完整性和可访问性。这就像是一个 “桥梁”，连接主链和外部数据源，充当数据可用性的保证。

![image](https://github.com/user-attachments/assets/7108d2e0-75c4-4c35-99ab-e964ec2c78ee)


### Reference
https://forum.l2beat.com/t/data-availability-risk-framework-call-for-feedback/275

### Next Step
周六看要不要休息一天，如果不休息，那么就继续学习 DA 的风险化评估这个框架
https://forum.l2beat.com/t/the-data-availability-risk-framework/318

### 2025.01.11
休息一天
### 2025.01.12
学习目标：今天是系统的学习 DA 的风险化评估框架

### DA 的风险是什么
DA 最大的风险来自于 2 个类目，DA 层安全性和 DA 桥安全性
DA 安全性的角度来思考，主要的风险是来自于经济安全和欺诈验证机制
从经济安全的角度来看，具体的量化指标为 DA 层委员会为成功执行数据扣留攻击而需要消耗的资金量，分成三种状态：绿色，黄色，红色，决定这种状态的主要在与可削减资产和担保资产的价值比例，然后就是委员会成员的披露情况

从欺诈验证机制的角度来看， DA 层上数据扣留攻击和无效擦除编码数据的机制，例如，绿色的状态：为 DA 层可以检测到数据扣留攻击和无效的擦除编码数据。数据可用性采样 (DAS) 具有强大的块重建功能，可用于擦除编码欺诈证明（如果适用），并且网络上存在最少数量的轻节点，以便能够检测无效块并集体重建数据。


DA 桥的安全性主要来自于委员会构成，可升级性，以及中继器构成等

委员会构成来自于委员会的规模、成员多样性以及数据可用性认证和可检索性阈值，越多的诚实节点（最少三分之一的诚实节点）以及越多的外部委员会人员参与，代表着安全性越强，绿色状态的安全性为：稳健而多元化的委员会：委员会要求，安全证明数据可用性所需的诚实成员（或网络质押）的最低比例不超过 1/3。进入运营商集是无需许可的，仅需满足质押要求和委员会成员诚实的大多数（或去中心化治理流程）。

可升级性评估上面：重点关注允许用户在升级时有足够时间退出的机制，主要表现在退出时间以及验证性上，绿色状态保持 30 天的退出延迟期，黄色状态为 7 天，红色状态为少于 7 天，

中继器故障方面，中继器是负责将 DA 承诺从 DA 层转发到以太坊上的 DA 桥的实体，最佳状态是用户可以无需许可地自我提议 DA 承诺。


### Reference
https://forum.l2beat.com/t/the-data-availability-risk-framework/318/3


### Next Step
开始深入学习 OP 治理





### 2025.01.13
学习目标：OP 治理的体系

### Optimism Collective

Optimism Collective 是由一群公司、社区和公民组成的团体，他们共同努力奖励公共物品并为以太坊打造可持续的未来。以下是基金会对集体如何共同打造超级链的愿景。

超级链是 OP 所打造的超级链愿景，链的标准化实现了大规模的去中心化和可组合性，超级链最初是 15~50 条超级链，然后扩展到 1000 条以上，通过治理去保障超级链的安全和创造可持续性增长和发展的飞轮

### 治理概述

OP 治理的二个院系是代币屋和公民屋，代币屋，这二院系制度代表着 OP 的核心力量，代币屋代表着 OP 治理的核心，决定着每个季度 OP 的资金发放，委员会成立，通胀系数，委员会选举等等，OP 采取的是每个季度运行，一个季度为 5~6 个月，中间有 1 个月的反思期，在反思期各个代表去思考 OP 的下个季度的计划，同时反思上个季度问题

![image](https://github.com/user-attachments/assets/1845a910-557d-4d5a-b959-be68f53cf2be)

### 去中心化里程碑

Optimism 去中心化里程碑工作模型是一个工作模型，展示了基金会对主要去中心化里程碑、其依赖关系以及从一个阶段进入下一个阶段所需完成的工作的思考。这个模型是方向性的，而不是规范性的。
整个去中心化里程碑包括排序器，Rollup stage,国库控制，链的法则等方面

### 2025.01.14

### Token House & Citizen House

在 Token House 中，OP 持有者负责提交、审议和投票各种类型的 Optimism Collective 治理提案。他们可以通过直接投票给 OP（将 OP 投票权委托给自己的地址后）或将 OP 投票权委托给符合条件的第三方来做到这一点。拥有委托 OP 投票权的地址称为“代表”。

在公民之家，乐观公民负责通过称为“追溯公共物品资助”（追溯资助）的过程向公共物品的建设者分配奖励。参与追溯资助 3 的徽章持有者（通过 AttestationStation 智能合约中的条目进行划分）现在是公民。公民身份目前是暂时的。公民还负责对升级提案的否决进行投票。



### 投票过程

提案流程

两院均通过治理提案做出决定。提案通过投票程序接受或拒绝。任何人都可以向治理提交提案。提案必须是下列有效提案类型之一，并且必须遵循此处描述的投票程序。

投票流程

所有治理提案都要经过三周的周期。

每个“星期”从星期四 19:00 GMT（下午 12 点太平洋标准时间）到星期三 19:00 GMT（下午 12 点太平洋标准时间）


有效提案类型

所有 v0.3 治理提案必须属于以下类别之一：

治理基金
协议或州长升级
通货膨胀调整
董事罢免
财政拨款
违反行为准则
代表罢免
代表性结构溶解
权利保护
选举
批准
反思期（元治理）
每种提案类型的提交和批准要求总结如下。如果下文未指定特定模板，则提案应遵循此标准提案模板。未来季度可能会添加其他提案类型。

不同提案的投票阈值
![image](https://github.com/user-attachments/assets/0187656d-9ea7-4eb9-97fb-d9ccd14f187e)



### 2025.01.15
### OP 最近提案阅读和分析

目前是特别投票周期#31B

1. 第七季：链式委托计划修订

这个提案主要是帮助超级链加入治理计划，有几个明显的指标：满足标准 Rollup 章程标准的链将有资格获得 50 万 OP 的委托，

符合以下条件的 OP 链将有资格获得额外的 250k OP 委托：
在Superchain Registry（或类似）
致力于将收入回馈集体，并连续至少 2 个月每月产生 > 1 ETH 的序列器收入
满足以下要求的 OP 链将有资格获得额外的 750k OP 委托：
连续至少 2 个月，每月交易量达到 100 万（每个季度开始时，将根据此指标重新评估合格连锁店。）此指标与私人赠款里程碑更紧密相关，取代了之前的收入产生指标（部分原因是 4844 的影响）。

2. 开发者顾问委员会选举
开发者顾问委员会将承担审计合约，op stack 技术升级，Grants 里程碑验证等各方面的工作，在 S7 季度，提供了以下岗位竞选
开发者咨询委员会治理使命团队（3 个职位）
基金会使命团队开发者顾问委员会成员（2 个职位）
开发者咨询委员会审计请求团队（2 个职位）

3. 安全理事会 B 组选举

主要职责为：

参与者之间的沟通与协调；
安全密钥管理；
验证并及时实施 Optimism Governance 批准的升级和权限变更；
将已定义的紧急情况通知其他参与者，并真诚合作，迅速解决；以及
通过定期的活性检查来证明对密钥的持续访问，参与者必须证明他们可以在设定的时间限制内访问他们的密钥。
根据理事会领导提交并经代币之家批准的运营预算，会员将获得 OP 津贴支持。运营费用将由基金会报销。
安全理事会的法律协议还规定参与者须承担某些责任。
最后，所有安全理事会参与者均须通过操作手册中概述的代表罢免提案类型进行罢免

4. 政府资助委员会选举

主要职责：每个季度的委员会申请审核，拨款等
选举的职位有
资助委员会 GrantNerds（3 个职位）
拨款委员会运作 (1 个职位)
资助委员会最终审核员（4 个职位）

5. 第 7 季里程碑和指标委员会运营预算
里程碑和指标团队作为拨款理事会内的一个委员会运作。对于 S7，正如S7 指南中所强调的那样，现在“要求里程碑和指标职能成为其自己的理事会”。


### Reference
https://gov.optimism.io/t/optimism-community-call-recaps-recordings-thread/6937/59

### Next Step
看一下不同 delegate 的投票倾向



### 2025.01.16
今天当选了 OP S7 GovNERDs，很开心，在系统学习 GovNERDs 需要做的事情

govNERDs

必需上下文
所有背景均来自先前的角色。
保持对治理发展的最新了解。
收集并传达社区反馈给 govNERD 团队。

可用贡献
出席并参与社区电话会议。
加入新的代表和治理参与者。
收集和验证数据，例如代表认可和奖励分配。
确保提案符合标准并指导代表了解季节之间的变化。
講師新人 govNERDs-in-training。
向乐观治理团队汇报潜在问题或误解。
监控并报告治理论坛中不适当或不相关的内容。

活动最低要求
每个投票周期至少完成三项贡献。
加入社区电话会议并参与 govNERDs 电话会议（实时或异步）。
govNERDs-in-training 有空时指导新人。

一些过往的 GovNERDs 任务，我正在梳理
https://www.notion.so/e6e73d8af8324622b41a426ad91a3d4e?v=114e1926b96e41ce80db47f990148ab1



### 2025.01.17

今天系统的整理了一下 GovNERDs 相关的工作，发现大部分工作其实都比较偏通知和教育
比如：https://www.notion.so/e6e73d8af8324622b41a426ad91a3d4e?v=11fc8cb0712543d494105f6378f207bd&p=9043ab0518e54d97b357c894cf576524&pm=s
让更多团队参与 Optimism Retro Funding, 还有就是这个内容，关于创建一个日历等，我想做这个贡献任务路径的原因是让更多不太懂治理的人通过做一些简单的治理任务了解治理，比如提案进程之类的

今天和整个 Optimism GovNERDs 交流了一下，发现了一个题，很多项目申请超级链并没有一个完整的贡献路径，除了填写表格就没了，我在想需不需要做点什么

### 2025.01.18

今天休息一天


# 2025.01.19
## 什么是超级链?
Bedrock 之后，OP Stack 的下一个重大可扩展性改进是引入超级链的概念：一个共享桥接、去中心化治理、升级、通信层等的链网络——全部建立在 OP Stack 上。
超级链的推出将把 OP 主网和其他链合并为一个统一的 OP 链网络（即超级链内的链），并标志着向世界带来可扩展和去中心化计算的重要一步。

以上是官方解释，我对于超级链的想法其实来自于通过 OP Stack 构建一个一套体系，标准化的链，然后所有信息和数据进行共享，超级链其实我觉得就是未来是属于多链还是单链的问题的一个答案


## Superchain 和 波卡，Cosmos 的区别

### 1. Superchain（基于 OP Stack）
理念：Superchain 主要是通过 OP Stack 构建一个多链生态，特别是在 Optimism 生态系统内扩展。它旨在通过 Rollup 技术实现区块链的可扩展性和互操作性，简化链与链之间的交互。
技术核心：基于 Optimism 的技术栈，使用 Optimistic Rollups 来提高交易处理速度并降低成本。Superchain 的设计侧重于通过 共享安全性 和 互操作性，使多个链能在同一个框架下共存并保持低延迟、高吞吐量。
特点：Superchain 不仅关注跨链互操作性，还利用 Layer 2 的扩展性优势，提升整体网络的吞吐量，优化链间通信。
### 2. Polkadot
理念：Polkadot 是由 Gavin Wood（以太坊的联合创始人）提出的，它的设计目标是通过 中继链（Relay Chain） 和 平行链（Parachains） 连接不同的区块链，提供一种集中的共享安全性和互操作性。
技术核心：Polkadot 使用 Substrate 框架来快速构建定制化的区块链，并通过 Relay Chain 连接这些区块链。Relay Chain 提供跨链通信和共享安全性，而平行链则是可以定制化的应用链。
特点：Polkadot 强调的是 跨链通信 和 共享安全性，而且它的网络结构是通过 中继链 统一管理的，跨链之间的交互通过中继链的验证器来实现。它的核心优势在于 网络的高安全性和灵活性。
### 3. Cosmos
理念：Cosmos 的设计目标是建立一个 互联网区块链，通过 IBC（Inter-Blockchain Communication） 协议使不同区块链之间能够自由互通。它更侧重于去中心化的多链架构，每个区块链（称为 Zone）都有自己的共识机制，但可以通过 Hub 实现跨链通信。
技术核心：Cosmos 使用 Tendermint 共识算法，并通过 Cosmos SDK 构建定制化区块链。各个 Zone 通过 Hub 连接，并使用 IBC 协议实现跨链资产和信息的交换。
特点：Cosmos 强调的是 去中心化和自由度，每个链都可以有自己的治理、共识机制和代币，同时通过 IBC 协议实现跨链操作，核心优势在于 跨链的去中心化 和 高自由度的定制化。
### 核心区别：
安全性模型：Superchain 和 Polkadot 都有共享安全性模型，特别是在 Superchain 中，所有链都共享一个底层的 Rollup 安全性；而 Cosmos 则采用去中心化的模型，每个链独立运行，但通过 IBC 协议实现跨链互操作。
链间互操作性：Polkadot 的中继链是通过一个集中式的链来实现多个平行链的连接，而 Cosmos 是通过 Hub 与 IBC 协议来实现多个独立区块链的互联。
治理与定制性：Cosmos 提供更高的定制性，允许每个链有独立的治理机制，而 Polkadot 和 Superchain 可能在链的安全性和治理方面更加集中。

# 2025.01.20
今天休息一天，有点 emo，看到最近都是 Meme 热之后


<!-- Content_END -->
