---
timezone: Asia/Shanghai
---

> 请在上边的 timezone 添加你的当地时区，这会有助于你的打卡状态的自动化更新，如果没有添加，默认为北京时间 UTC+8 时区
> 时区请参考以下列表，请移除 # 以后的内容

timezone: Pacific/Honolulu # 夏威夷-阿留申标准时间 (UTC-10)

timezone: America/Anchorage # 阿拉斯加标准时间 (UTC-9)

timezone: America/Los_Angeles # 太平洋标准时间 (UTC-8)

timezone: America/Denver # 山地标准时间 (UTC-7)

timezone: America/Chicago # 中部标准时间 (UTC-6)

timezone: America/New_York # 东部标准时间 (UTC-5)

timezone: America/Halifax # 大西洋标准时间 (UTC-4)

timezone: America/St_Johns # 纽芬兰标准时间 (UTC-3:30)

timezone: America/Sao_Paulo # 巴西利亚时间 (UTC-3)

timezone: Atlantic/Azores # 亚速尔群岛时间 (UTC-1)

timezone: Europe/London # 格林威治标准时间 (UTC+0)

timezone: Europe/Berlin # 中欧标准时间 (UTC+1)

timezone: Europe/Helsinki # 东欧标准时间 (UTC+2)

timezone: Europe/Moscow # 莫斯科标准时间 (UTC+3)

timezone: Asia/Dubai # 海湾标准时间 (UTC+4)

timezone: Asia/Kolkata # 印度标准时间 (UTC+5:30)

timezone: Asia/Dhaka # 孟加拉国标准时间 (UTC+6)

timezone: Asia/Bangkok # 中南半岛时间 (UTC+7)

timezone: Asia/Shanghai # 中国标准时间 (UTC+8)

timezone: Asia/Tokyo # 日本标准时间 (UTC+9)

timezone: Australia/Sydney # 澳大利亚东部标准时间 (UTC+10)

timezone: Pacific/Auckland # 新西兰标准时间 (UTC+12)

---

# StarryDesert

1. 自我介绍

   大家好啊，我是参加过上次Arbitrum的共学的StarryDesert，我想继续我的以太坊知识学习之路

2. 你认为你会完成本次残酷学习吗？

   如果没有意外的话，上次我完成了，这次我也会完成，我会加油的

## Notes

<!-- Content_START -->

### 2025.01.06

笔记内容

#### Optimistic Rollup的本质

- Optimistic Rollup是一种依赖于"父链"安全性的区块链解决方案
- 它不需要自己的共识机制，而是利用父链(在这里是以太坊)的共识机制
- 这种设计可以大幅降低成本同时保持安全性

##### 区块存储机制

- 使用非合约地址(0xff00..0010)在以太坊上存储L2区块
- 采用 **EIP-4844** blobs提交交易
- 使用压缩格式写入以降低成本
- 继承了以太坊的可用性和完整性保证

##### 区块生产特点

- 由单一实体"排序者"(**sequencer**)管理
- 每2秒产生一个区块
- 具有私有交易池(**mempool**)以避免MEV
- 交易提交有两种方式：
  * 直接提交给排序者(成本低但可能被审查)
  * 通过L1提交(称为存款，具有抗审查性)

##### 跨层资产桥接

- 支持L1和L2之间的ETH和代币转移
- 从以太坊到OP Mainnet称为"存款"
- 从OP Mainnet到以太坊称为"提款"，需要经过三个阶段：
  * 初始化提款
  * 提交提款证明
  * 等待质疑期后完成提款

##### 错误证明机制

- 状态承诺在没有直接证明的情况下发布到L1
- 状态提交后有7天的质疑窗口期
- 在质疑期内可以通过"错误证明"(**fault proof**)流程挑战
- 成功的质疑只会影响已发布的状态承诺，不会回滚链本身

#### Optimistic Rollup的创新点和优势：

1. 扩展性优势
- 通过将大部分计算和存储转移到L2，显著提升吞吐量
- 保持与以太坊主网的安全性连接，实现可扩展性和安全性的平衡

2. 成本效益
- 通过数据压缩和批处理降低交易成本
- 继承以太坊的安全性而无需额外的共识成本

3. 兼容性
- 与以太坊完全兼容，支持智能合约
- 开发者可以轻松将以太坊应用迁移到Optimism

4. 安全设计
- 采用乐观验证机制，假设大多数交易都是诚实的
- 通过质疑期和错误证明机制确保安全性
- 继承以太坊的安全属性

5. 创新的跨链桥接
- 设计了安全的跨链通信机制
- 引入了多步骤验证流程增强安全性

**Optimistic Rollup** 的设计充分考虑了扩容性、安全性和去中心化这三个区块链的核心特性，是一个相对平衡的解决方案。虽然存在7天提款期这样的限制，但这是为了确保系统安全性的必要妥协。随着技术的发展，这些限制可能会在未来得到优化。



### 2025.01.08

笔记内容

#### Arbitrum 和 Optimism —— 以太坊扩展方案的异同点

技术架构对比：

- Arbitrum：使用 Arbitrum VM 执行智能合约，采用 Fraud Proof 验证机制
- Optimism：使用 OVM (Optimistic Virtual Machine) 执行智能合约，采用 Fraud Prover 机制

验证机制：

- 两者都采用 Optimistic Rollup 技术
- 主要区别在于验证过程：
  - Arbitrum：所有验证人都可参与投票验证交易
  - Optimism：使用 Sequencer 机制，只有特定验证人可以打包交易

技术创新：

- Arbitrum：
  - 可定制的聚合签名
  - 优化的区块链交互技术
  - 高度优化的虚拟机
- Optimism：
  - OVM 虚拟机对 EVM 的兼容性优化
  - 简化的验证流程

安全机制：

- 两者都使用欺诈式证明（Fraud Proof）
- 核心区别：
  - Arbitrum 的验证更分散化
  - Optimism 的验证更中心化但效率更高

这些技术特点反映了两个项目在扩容方案上的不同侧重点：Arbitrum 更注重去中心化和安全性，而 Optimism 更注重处理效率和兼容性。



### 2025.01.09

笔记内容

#### 引入 Stages — 评估 Rollup 成熟度的框架

##### 框架概述

框架将Rollup分为三个阶段，根据其对“训练轮”的依赖程度进行分类：

1. **阶段0——完全训练轮**：在这个阶段，Rollup由运营者完全控制，但源代码是公开的，允许从第一层（L1）发布的数据中重建状态，以便与提出的状态根进行比较。
2. **阶段1——有限训练轮**：此阶段Rollup由智能合约管理，但仍有一个安全委员会处理潜在的漏洞。此阶段的特点是实施了完全功能的证明系统，欺诈证明提交去中心化，并且用户可以在没有运营者协调的情况下退出。
3. **阶段2——无训练轮**：最终阶段是Rollup由智能合约完全管理，欺诈证明系统是无许可的，用户在不受欢迎的升级事件中有足够的时间退出，安全委员会仅限于处理可在链上裁决的错误。

###### 阶段0要求

1. **项目是否自称为Rollup**：项目必须自我认定为Rollup，以便与其他扩展解决方案区分开来。
2. **第二层（L2）状态根是否发布在第一层（L1）**：发布状态根是Rollup的关键特征，允许进行提现。
3. **项目是否提供L1上的数据可用性（DA）**：确保L1上的数据可用性对于Rollup的安全性和可靠性至关重要。
4. **是否有能够重建Rollup状态的源代码**：Rollup节点软件应能够从L1数据重建L2状态，以增强透明度和信任。

###### 阶段1要求

1. **项目是否使用适当的证明系统**：证明系统用于裁定提出的状态根是否正确。在欺诈证明系统中，允许拒绝无效的证明。
2. **至少有5个外部参与者可以提交欺诈证明**：一个有效的欺诈证明系统需要至少一个诚实的参与者来验证提出的状态根的正确性。
3. **用户是否可以在没有运营者协调的情况下退出**：系统应设计为用户可以独立提现，确保他们始终可以访问和控制自己的资产。
4. **用户在不受欢迎的升级情况下至少有7天的退出时间**：此要求旨在保护用户，使他们有足够的时间在系统进行重大变更时退出。
5. **安全委员会是否正确设置**：安全委员会在系统中作为保障，必须通过多签机制运行，至少有8名参与者，要求50%的共识阈值，且至少一半参与者需为外部人员。

###### 阶段2要求

1. **欺诈证明系统是否无许可**：在这个阶段，欺诈证明系统应完全去中心化，任何人都可以提交欺诈证明。
2. **用户在不受欢迎的升级情况下至少有30天的退出时间**：用户应有至少30天的时间在系统进行重大变更时退出。
3. **安全委员会的权限仅限于处理链上检测到的错误**：安全委员会只能在发生严重错误时介入，确保系统进一步向信任最小化的方向发展。



### 2025.01.10

笔记内容

#### Optimism 代币经济学

##### 核心理念和价值分配机制

Optimism Collective的基本理念是**健康的公共产品能创造繁荣的生态系统**。价值主要通过三个方面产生：

1. **排序器收入**：主要用于资助公共产品
2. **贡献者和建设者获益**：通过回溯性公共产品资助(RetroPGF)
3. **用户和社区成员获益**：通过持续的OP空投和生态系统补助

##### OP代币分配比例

1. **生态系统基金(25%)**
   - 治理基金: 5.4%
   - 合作伙伴基金: 5.4%
   - 种子基金: 5.4%
   - 未分配资金: 8.8%
2. **回溯性公共产品资助(20%)**
   - 通过公民院进行分配
   - 由网络交易费和排序器收入支持
3. **用户空投(19%)**
   - 已完成四轮空投
   - 仍有14%储备用于未来空投
4. **核心贡献者(19%)**
   - 给予早期开发团队
   - 设有锁定期
5. **投资者(17%)**
   - 也称"Sugar Xaddies"
   - 同样设有锁定期

##### 重要的空投历史

1. **空投#1**: 向248,699个地址分配5%代币供应
2. **空投#2**: 向307,965个地址分配约1,174万OP
3. **空投#3**: 向31,870个地址分配约1,941万OP
4. **空投#4**: 向22,998个地址分配约1,034万OP（2024年2月）

##### 代币发行细节

- 初始总供应量：4,294,967,296 OP
- 第一年释放30%的初始代币供应量
- 之后的释放需要通过代币持有者投票决定
- 如果基金会授权的OP支出低于初始供应量的10%，预计会请求额外分配

##### 核心机制：回溯性公共产品资助(RetroPGF)

这是Optimism最重要的创新机制之一：

- 通过季度投票分配资金给提供价值的项目和个人
- 为公共产品项目提供退出流动性
- 创造了早期投资公共产品的市场机会

##### 生态系统价值循环

1. OP区块空间需求产生收入
2. 收入通过公共产品分配回生态系统
3. 公共产品创造价值推动更多区块空间需求
4. 形成可持续的价值创造循环

这个经济模型的独特之处在于它创造了一个可持续的价值循环系统，通过激励公共产品的开发来推动整个生态系统的增长。它不仅仅是一个代币分配方案，而是一个完整的经济生态系统设计。



### 2025.01.11

笔记内容

#### Optimism Collective的愿景与使命

**愿景**：构建一个由公司、社区和公民共同努力，奖励公共产品并为以太坊建立可持续未来的超级链（Superchain）。

**使命**：创建一个所有人受益且无人拥有的互联网，简而言之，即“影响=利润”（Impact=Profit）。通过创建一种新的经济模式，让有益的影响获得回报。

##### Superchain产品愿景

1. **标准化链**：实现去中心化和大规模可组合性。
2. **超级链规模**：最初由15-50条链组成，随着时间推移扩展到1000+条。
3. **治理保障安全**：治理机制保护超级链的安全。
4. **治理促进可持续增长**：治理机制创造一个可持续增长和发展的飞轮效应。

##### 治理概述

Optimism Collective采用实验性和敏捷的治理方法，不断迭代以建立一个经得起时间考验的系统。治理模式包括两个议院：代币议院（Token House）和公民议院（Citizens' House），共同形成一个两院制的治理系统。

##### 代币议院（Token House）

- **功能**：OP代币持有者负责提交、讨论和投票各种治理提案。他们可以直接投票或将投票权委托给他人。
- **职责**：代币议院的职责详见《运营手册》（Operating Manual）。

##### 公民议院（Citizens' House）

- **功能**：基于声誉的一人一票治理实验，负责回溯性公共产品资助（Retro Funding）。
- **回溯性公共产品资助**：奖励对Collective和超级链有正面影响的贡献者，基于过去有用的成果而非未来的不确定性。

##### 两院如何协同工作

代币议院和公民议院共同确保Collective实现其愿景。具体职责分工详见两院责任划分图示：<img src="StarryDeserts_assets/代币议院和公民议院具体协作图示.png" alt="代币议院和公民议院具体协作图示" style="zoom:80%;" />

##### 治理文件

1. **《工作宪法》（Working Constitution）**：制定了Collective的治理条款和原则，2022年4月通过。
2. **《运营手册》（Operating Manual）**：描述了代币议院的当前治理流程，会随着Collective的成长而演变。

##### 去中心化模型

1. **去中心化里程碑工作模型**：展示了主要去中心化里程碑及其依赖关系，以及从一个阶段到下一个阶段需要完成的工作。
2. **决策图工作模型**：展示了Optimism治理的完整决策表面，提供了决策设计的框架。



### 2025.01.12

笔记内容

#### Optimism Collective治理提案流程

##### 操作手册 v0.3.9: 代币议院和公民议院

Optimism Collective由两个议院治理：代币议院（Token House）和公民议院（Citizens’ House）。

在代币议院中，OP持有者负责提交、讨论和投票各种类型的Optimism Collective治理提案。他们可以通过将OP投票权委托给自己的地址直接投票，或者将OP投票权委托给合格的第三方。拥有委托OP投票权的地址称为“代表”。

在公民议院中，Optimism公民负责通过“回溯性公共产品资助”（Retro Funding）分配奖励给公共产品的建设者。参与Retro  Funding  3的徽章持有者（通过AttestationStation智能合约的条目标记）现在是公民。公民身份目前是临时的。公民还负责对升级提案进行否决投票。

所有代币和公民议院的代表都应负责任地行使其权力，并遵守《参与规则》和《Optimist期望》。

##### Optimism治理工具包

当前代币议院治理的主要工具包括：

- **代币议院治理合约**：用于代币议院治理提案的链上投票合约。所有符合条件的治理提案都在此提交投票。
- **Optimism治理门户**：一个前端界面，允许代币议院成员委托和投票其链上的OP。
- **公民议院快照空间**：一个前端界面，允许公民议院成员否决代币议院提案。
- **Optimism论坛**：讨论和审议治理提案的平台。
- **Discord**：用于非正式治理讨论和反馈。
- **Github**：通过该公共github仓库管理补助金（任务请求）。
- **Charmverse**：社区主导的Optimism补助金委员会的家园。

随着治理的演变，这些工具或其使用方法可能会发生变化。例如，未来可能会开发专门用于治理委员会的其他用户界面。目前，投票通过治理合约在链上进行，成功的投票由Optimism Foundation实施和管理（见下文），但这种情况不应永久存在。

##### 提案流程

两个议院通过治理提案进行决策。通过投票过程接受或拒绝提案。任何人都可以向治理提交提案。提案必须是以下列出的有效提案类型之一，并且必须遵循此处描述的投票过程。

##### 投票过程

所有治理提案都经历一个为期三周的周期。

每个“周”从周四19:00 GMT（12:00 PST）开始，到下周三19:00 GMT（12:00 PST）结束。

##### 任务补助金

对代币议院任务请求的申请将由补助金委员会审查和选择。对基金会任务请求的申请将由基金会审查和选择。所有申请应遵循github上每个任务请求中概述的提交流程。

##### 其他提案类型

###### **第一至二周：反馈和审查（Draft）**

所有非补助金提案类型应发布到论坛，供任何Optimism社区成员审查。提案作者应响应代表和公民的反馈。

提案应：

- 作为新讨论线程在治理论坛的适当类别中提交。
- 标题中标记为 **Draft** 。
- 格式和内容应符合标准提案模板。
- 任务请求草案只能由Collective反馈委员会和补助金委员会成员提交，并且必须遵循此处的模板。

在第二周结束前，治理管理员将在论坛创建一个投票周期汇总线程，收集所有符合第三周投票要求的提案。此汇总不包括任务补助金申请，这些申请将由基金会或补助金委员会处理。

对于代币议院中提出的非补助金提案，必须有前100名代表中的四人明确批准才能进入第三周。基金会发起的提案不需要代表批准。代表不能批准自己的提案。代表可以通过在提案讨论线程中粘贴以下评论来表示批准：“我是一个Optimism代表**链接到您的承诺**，拥有足够的投票权，我认为该提案已准备好进入投票。”

对于公民议院中提出的非补助金提案，必须有四名公民明确批准才能进入第三周。基金会发起的提案不需要公民批准。公民不能批准自己的提案。公民可以通过在提案讨论线程中粘贴以下评论来表示批准：“我是一个Optimism公民[链接到您的证明]，我认为该提案已准备好进入投票。”

如果代表或公民批准非补助金提案进入投票，这并不意味着他们支持该提案。它只是表示他们认为提案已准备好进入投票。

在非补助金提案获得所需批准后，提案作者应将提案标题从 **Draft** 更新为 **Final** ，并在第二周最后一天19:00 GMT（12:00  PST）之前将提案链接添加为评论到投票周期汇总线程。提案作者还应在提案线程上添加一条反馈总结评论，以便未来的审阅者了解提案的进展。如果反馈是在论坛外收集的（例如在Discord上），提案作者应包括相关链接。

如果提案作者未获得明确批准或希望获得更多反馈，他们应继续从社区获取反馈，并在下一个投票周期提交更新的提案。

###### 第三周：投票

在第三周，所有公民和代表（包括已自我委托的OP代币持有者）都被邀请对提案进行投票。只有在截止时间前添加到投票周期汇总线程并获得所需批准的非补助金提案才会纳入投票。没有明确批准的提案不会进入投票。

代币议院治理提案的批准条件如下：

- **法定人数**：提案所需的最小OP总投票数，包括弃权票。这里的法定人数以投票期开始时的总可投票OP供应量的百分比衡量。“可投票供应量”是已委托的OP总量，因此可以参与投票。总可投票OP供应量的示意图可在此找到。
- **批准门槛**：提案批准所需的最小OP投票数。每个提案的批准门槛是以赞成票占投票总数的百分比衡量的。这不包括弃权票。

在投票期开始时，将对每个代表的投票权进行快照，投票将在Optimism治理门户进行。

公民议院治理提案的批准条件如下：

- **法定人数**：提案所需的最小公民投票数，包括弃权票。这里的法定人数以每季开始时的公民总数的百分比衡量。
- **批准门槛**：提案批准所需的最小公民投票数。每个提案的批准门槛是以每季开始时的公民总数的百分比衡量的。这不包括弃权票。

公民议院的投票将在公民议院快照空间进行。

根据提案类型，确切的法定人数和批准门槛要求可能有所不同。有关更多信息，请参阅下文的提案类型。

如果非补助金提案提交投票但未通过，则该提案不会执行。如果提案作者希望对被拒绝的提案进行迭代，他们应：

- 在论坛上创建一个新提案线程。
- 包括未通过的第一个提案的链接。
- 明确说明新提案中的更改内容。

##### 否决程序

在发展Collective的双院治理系统的下一步中，公民议院将获得选择性否决权。在第6季，公民议院将能够否决由代币议院批准的协议或治理升级。公民议院将在代币议院投票期之后的一周内有权否决任何已批准的协议升级。否决门槛如下面所述。请注意，否决门槛可能会逐步调整。

如果公民议院否决了代币议院批准的协议升级提案，则该提案将不被视为已批准。

##### 有效提案类型

所有v0.3治理提案必须属于以下类别之一：

- **治理基金**
- **协议或治理者升级**
- **通胀调整**
- **董事罢免**
- **财政拨款**
- **行为准则违规**
- **代表罢免**
- **代表结构解散**
- **权利保护**
- **选举**
- **批准**
- **反思期提案（元治理）**

每种提案类型的提交和批准要求如下。如果未指定特定模板，提案应遵循标准提案模板。未来季节可能会增加其他提案类型。

所有补助金申请由选举产生的补助金委员会或基金会处理。补助金申请应遵循github上每个任务请求中概述的流程。

##### 回溯性公共产品资助

公民议院治理包括回溯性公共产品资助（Retro Funding），其投票和拨款分多个“轮次”进行。在每轮回溯中，公民议院投票以回溯性奖励对Collective和超级链有重大影响的公共产品项目。

回溯轮次按照以下流程运行：

1. **范围确定**：在轮次开始时确定奖励的总体金额和影响范围。
2. **申请创建**：邀请项目在回溯资助申请管理器中创建申请。
3. **申请审查**：审查申请是否符合申请规则。
4. **投票**：收集并统计拥有相应AttestationStation条目的公民的投票。
5. **拨款**：根据公民议院投票的加权平均值，将轮次的总体奖励金额分配给获胜项目。
6. **合规**：基金会将收集项目信息以合法合规地分发补助金（包括完成KYC）。

##### 实施和管理

在所有情况下，Optimism Collective治理应与其《工作宪法》、《参与规则》和《行为准则》的精神以及其乐观愿景一致。Optimism Foundation将如以下所述管理这一过程。

##### 管理

Optimism Foundation将促进本《操作手册》中描述的治理程序，以确保Collective成员能够认真参与治理。此类行政服务可能包括：

- 监督治理提案，以确保其有效提交和投票；
- 删除合理认为是欺诈、垃圾信息、诽谤、仇恨或其他不适当或与Collective价值观不一致的提案；
- 监控投票、投票权、可投票代币供应量和投票期，以确定是否达到或准确反映法定人数和批准门槛；
- 管理同时或接近同时提交的相互矛盾的提案；
- 管理网络维护，如紧急漏洞修复或版本回滚（有或没有治理投票）；以及
- 基金会认为与上述相关的其他事项。

##### 实施

通过的治理提案将由Optimism Foundation实施。

收到通过的提案后，Optimism Foundation将确定提案是否安全、可靠、符合基金会和Collective的目的，并能够以合法合规的方式实施（包括完成KYC）。

- 如果是，基金会将以商业上合理的方式尽力实施提案。
- 如果不是，基金会可能会重新提交提案或在其酌情权下实施提案，并附上说明为什么提案被拒绝或限制。

Optimism Foundation将以逐步去中心化其角色的方式进行这些行政工作。

##### 变更流程

本《操作手册》中描述的程序将在GitHub上发布时生效。手册的主要版本将与一系列治理实验（“季节”）相关联。这些变化包括但不限于扩展公民议院，以及添加、删除和修改提案类型和投票过程的规则。任何非文书性更新将反映在本文档顶部的新版本号中，届时更新版本将生效。

##### 流程简要说明

- 提案在三周的投票周期内进行审查。
- 如果您提交的是补助金申请，您需要按照github上每个任务请求中概述的流程提交申请。
- 对于其他提案类型，您可以基于此模板起草提案，并在论坛上以 **Draft** 为标题发布以获取反馈。代表和/或公民将在论坛上对您的提案提供反馈。使用您的判断力来整合反馈。
- 一旦您的非补助金提案获得前100名代表或四名公民的批准，请在第二周的最后一天之前将提案链接添加到投票周期汇总线程，并将标题从 **Draft** 更新为 **Final **。这些提案将进入第三周投票。基金会发起的提案不需要批准。
- 代币议院批准的协议或治理者升级提案，必须通过公民议院的否决程序（如上文否决程序部分所述），才能被正式批准。
- 安全委员会将实施正式批准的协议或治理者升级。Optimism Foundation将促进所有其他通过提案的管理，包括分发任何批准的OP补助金。基金会将与您联系，以收集您的项目的额外信息，以执行提案或补助金，包括完成KYC。
- 如果您的提案通过，Optimism Foundation将促进其管理，包括分发任何批准的OP补助金。基金会将与您联系，以收集您的项目的额外信息，以执行提案或补助金，包括完成KYC。
- 如果您的提案未通过，您可以在下一个周期中提交新的提案，说明您在第一个提案中进行了哪些重大更改。

##### 回溯性公共产品资助

公民议院还管理回溯资助的分配：

- 公民身份目前是临时的，回溯资助3的公民通过AttestationStation的条目记录。
- 回溯资助轮次按照预定义的流程进行，目前包括范围确定、申请创建、申请审查、投票和拨款阶段。基金会将收集项目信息以分发补助金，包括完成KYC。



### 2025.01.13

笔记内容

#### OP治理机制的双院制

##### **双院制结构**：

1. **代币议院（Token House）**：基于“一币一票”的传统治理模式，持有OP代币的用户可以直接投票或将投票权委托给其他代表。这种模式类似于传统的PoS（权益证明）机制，在很多DeFi协议中也被广泛采用。
2. **公民议院（Citizens' House）**：基于“一人一票”的模式，但为了防止女巫攻击，采用的是精英一人一票制。公民议院的成员由社区中的精英组成，包括开发者、社区领袖、艺术家等。这种结构旨在更好地代表公共利益，减少巨鲸操纵的风险。

##### 一币一票的问题

“一币一票”模式中存在一些问题：

- **短视行为**：巨鲸可能为了短期利益而牺牲长期利益，例如Luna试图操纵Curve的事件。
- **治理被绑架**：大户可能会利用其持有的票仓来为自己或相关项目谋取利益，损害整个生态系统的健康发展。

##### 一人一票的挑战

“一人一票”虽然可以更好地代表公共利益，但在去中心化系统中容易受到女巫攻击。因此，OP采用了精英一人一票制，通过选拔社区中的精英来参与治理，形成一个多元化的“90人委员会”。

##### 公共利益与治理机制

OP非常重视公共利益，通过回溯性公共产品资助（Retro Funding）来奖励对生态系统有重大贡献的项目和个人。这种机制不仅考虑了当前的投票权重，还引入了对过去贡献的评估，旨在平衡短期利益和长期发展。

##### OP的中庸之道

OP在治理机制上采取了一种中庸之道，结合了“一币一票”和“一人一票”的优点，避免了各自的缺点。这种折中方案既能防止巨鲸操纵，又能充分利用社区精英的智慧和声誉，形成了一种相对柔和和稳定的治理模式。

##### 结论

总体来说，OP的双院制治理结构是一种创新的尝试，通过结合不同的治理模式和引入精英代表，旨在创造一个更加公平和可持续的生态系统。虽然这种机制并不完美，但它是在不断改进和适应中发展的，展示了对当前治理问题的深刻理解和积极应对。



### 2025.01.14

笔记内容

#### 回溯性公共产品资助（Retro Funding）概述

回溯性公共产品资助（Retro  Funding）基于一个理念，即回顾过去的有用贡献比预测未来的需求更容易达成共识。这是一系列实验，公民议院的成员将超额协议收入或部分Retro  Funding代币分配给他们认为对Optimism  Collective和整个超级链（Superchain）产生了积极影响的项目。这体现了Optimism的核心价值观：影响=利润，集体的积极影响应与个体的利润成比例地得到回报。

##### Retro Funding的主要好处

1. **激励公共产品建设**：
   - Retro Funding为开发对Optimism Collective有益的公共产品提供了强大的激励。
   - 通过可持续地资助公共产品，增强了生态系统，使其更易于构建、学习和连接，从而推动应用程序的使用并增加区块空间的需求。
2. **为项目提供退出流动性**：
   - 它为公共产品项目提供了可能的退出流动性，促进了早期项目的投资市场。
   - 建设者可以在不直接产生收入的情况下，因为他们的积极贡献而获得奖励。
   - 他们可以根据项目的早期潜力和承诺筹集资金。

##### 实验性承诺

**Retro Funding是一项长期计划，旨在构建Optimists所希望看到的未来。** Collective将定期进行Retro Funding轮次，每一轮次都与前一轮次不同，需要社区的参与来不断发展和修剪。

##### 历史轮次

1. **轮次1（2021年底）**：分配了100万美元给58个项目。
2. **轮次2（2023年第一季度）**：分配了1000万OP代币给195个项目。
3. **轮次3（2023年第四季度）**：分配了3000万OP代币给501个项目。
4. **轮次4（2024年第二/三季度）**：将奖励为Optimism成功做出贡献的链上建设者。



##### 实验框架

Retro Funding包括三个核心组件，每个组件都有大量的实验空间：

1. **影响范围**：Collective应该资助什么？如何定义和决定？
2. **影响评分**：公民议院如何评估影响？我们使用什么单位、过程或工具？
3. **影响结算**：投票如何进行？

##### 治理与未来方向

在最初的几轮Retro Funding中，Optimism Foundation将决定范围和投票机制，并征求社区意见。随着时间的推移，这些变量（资助什么、资助多少和如何投票）将由公民议院决定，并由代币议院进行制衡。

长期目标是扩展Retro Funding的范围，支持生产超出Optimism生态系统的公共产品。为了实现这一目标，我们必须根据定期实验改进用于Retro Funding的工具和流程。

这种方法确保Collective可以不断发展和改进其治理和资助机制，以支持一个繁荣和可持续的生态系统。



### 2025.01.15

笔记内容

#### RetroPGF机制的深度剖析与系统性思考

##### 一、机制设计的哲学基础

1. **核心理念解析**
   - "影响=利润"不仅是口号，更是系统设计的指导原则
   - 通过回溯性奖励替代预测性投资，降低决策难度
   - 建立正向反馈循环：贡献→奖励→更多贡献
2. **去中心化治理的平衡**
   - 双院制（Token House + Citizens' House）的制衡作用
   - 权力分散但又避免过度分散导致的效率损失
   - 通过分层治理实现決策的科学性和包容性

##### 二、具体运作机制的精细分析

1. **提名阶段**
   - 开放性提名，允许自荐和他荐
   - 明确的提名标准和资格要求
   - 提供详细的项目信息和贡献证明
2. **评估流程**
   - **定量指标**：
     - 用户数据和增长趋势
     - 代码贡献频率和质量
     - 社区参与度和活跃度
   - **定性指标**：
     - 技术创新的突破性
     - 对生态系统的战略价值
     - 长期发展的可持续性
3. **投票机制**
   - 采用二次方投票（Quadratic Voting）降低财富集中度影响
   - 设置最低和最高投票限额
   - 引入多轮投票机制避免票数过于分散

##### 三、历次实践的深度数据分析

**Round 1 (2021) 特点**

总额：100万美元
项目数：58个
平均值：17,241美元
分配特征：
- 基础设施项目占比：45%
- 开发工具项目占比：30%
- 其他类别项目占比：25%

**Round 2 (2023 Q1) 演进**

总额：1000万OP
项目数：195个
平均值：51,282 OP
重点变化：
- DeFi项目占比提升至35%
- 基础设施项目维持在40%
- 新增社区建设类项目15%

**Round 3 (2023 Q4) 扩展**

总额：3000万OP
项目数：501个
平均值：59,880 OP
领域分布：
- 基础设施：35%
- DeFi：30%
- 社区建设：20%
- 教育内容：10%
- 其他创新：5%

##### 四、系统性改进方向

1. **评估体系优化**
   - 建立更客观的量化指标体系
   - 引入动态权重调整机制
   - 开发自动化评估工具
2. **参与机制改进**
   - 提高投票过程的透明度
   - 加强社区参与的便利性
   - 优化信息披露机制
3. **资金分配创新**
   - 引入阶段性释放机制
   - 设计基于绩效的追加奖励
   - 建立长期激励计划

##### 五、生态系统影响分析

1. **直接影响**
   - 促进公共产品开发
   - 提升开发者积极性
   - 加速技术创新
2. **间接影响**
   - 形成良性竞争环境
   - 建立可持续发展模式
   - 增强社区凝聚力
3. **潜在风险**
   - 评估标准的主观性
   - 治理参与的代表性
   - 资金使用的效率性

##### 六、未来发展展望

1. **近期目标（1-2年）**
   - 优化评估工具和流程
   - 扩大参与群体范围
   - 提升资金使用效率
2. **中期规划（2-3年）**
   - 建立完整的激励生态
   - 实现治理的进一步去中心化
   - 扩展到更广泛的公共产品领域
3. **长期愿景（3年以上）**
   - 形成自治的公共产品生态系统
   - 建立跨链协作机制
   - 实现真正的可持续发展

RetroPGF不仅是一个简单的资助机制，而是一个完整的生态系统建设工具。通过系统性思考和持续优化，它正在逐步实现Optimism的愿景：建立一个可持续的、去中心化的公共产品生态系统。



### 2025.01.16

笔记内容

#### Optimism超级链（Superchain）愿景分析

##### 一、超级链的核心概念

1. **技术架构定义**

   - 基于OP Stack的标准化区块链系统
   - 共享安全性和流动性的多链网络
   - 统一的治理和经济模型

2. **设计目标**
   - **可扩展性**：支持1000+条链的横向扩展
   - **互操作性**：链间无缝通信和资产转移
   - **标准化**：统一的技术标准和接口规范
   - **去中心化**：维持足够的去中心化程度

##### 二、超级链的关键组件

1. **技术层面**
   - **OP Stack**：标准化的区块链开发工具集
   - **共享桥接系统**：统一的跨链通信协议
   - **安全保障机制**：共享的安全验证层
2. **治理层面**
   - **Collective治理**：双院制治理框架
   - **链间协调机制**：跨链治理协议
   - **经济激励模型**：统一的代币经济系统

##### 三、实现路径分析

1. **阶段性目标**

   第一阶段（现在-2026）：
   - 建立15-50条标准化链
   - 完善基础设施
   - 验证治理模型
   
   第二阶段（2026-2028）：
   - 扩展到100-300条链
   - 优化跨链性能
   - 深化经济模型
   
   第三阶段（2028+）：
   - 达到1000+条链规模
   - 实现完全去中心化
   - 建立成熟生态系统

2. **技术路线图**

   - 标准化协议开发
   - 性能优化和扩展
   - 安全性强化

##### 四、生态系统建设

1. **应用生态**
   - DeFi协议整合
   - NFT和GameFi发展
   - 社交应用探索
2. **基础设施**
   - 开发者工具
   - 数据分析平台
   - 跨链桥接服务
3. **社区建设**
   - 教育和培训
   - 技术支持
   - 生态基金

##### 五、经济模型创新

1. **代币经济**
   - 统一的代币标准
   - 跨链流动性管理
   - 手续费分配机制
2. **激励机制**
   - RetroPGF跨链扩展
   - 验证者奖励体系
   - 生态建设激励

##### 六、治理架构设计

1. **多层次治理**

   系统层面：
   - 核心协议升级
   - 安全参数调整
   - 经济模型更新
   
   链级别：
   - 个别链参数配置
   - 本地化治理决策
   - 资源分配优化

2. **决策机制**

   - 分层投票系统
   - 紧急响应机制
   - 跨链协调协议

##### 七、挑战与应对策略

**技术挑战**

- 扩展性瓶颈
- 跨链安全性
- 数据可用性

**治理挑战**

- 决策效率
- 权力分散
- 利益平衡

**解决方案**

- 技术层面：

  - 模块化架构

  - 分片技术应用

  - 优化验证机制


- 治理层面：

  - 改进提案流程

  - 优化投票机制

  - 加强社区参与


##### 八、未来展望

1. **短期目标（1年内）**
   - 完善基础设施建设
   - 扩大开发者生态
   - 提升用户体验
2. **中期规划（1-3年）**
   - 实现规模化扩展
   - 深化跨链互操作
   - 优化经济模型
3. **长期愿景**
   - 建立去中心化计算基础设施
   - 实现Web3大规模采用
   - 创造可持续的价值生态

超级链愿景展示了Optimism对区块链未来的宏大构想，通过标准化、模块化和去中心化的方式，为Web3的大规模采用铺平道路。这个愿景不仅关注技术创新，更注重生态系统的可持续发展，体现了Optimism对"影响力=利润"理念的深度实践。



### 2025.01.17

笔记内容

#### Optimistic Rollup的未来发展与挑战

##### 一、未来发展方向

1. **技术优化**
   - 数据可用性改进
     - 通过EIP-4844（Proto-Danksharding）进一步降低数据存储成本
     - 引入更高效的数据压缩和存储技术
   - 扩展性提升
     - 通过分片技术（Sharding）实现更高的并行处理能力
     - 优化Sequencer和验证者的协调机制
2. **跨链互操作性**
   - 实现与其他Layer 1和Layer 2解决方案的无缝互操作
   - 开发标准化的跨链桥接协议，保证安全性和效率
   - 推动跨链资产和信息流通，促进生态系统的互联互通
3. **治理机制演进**
   - 去中心化治理
     - 逐步增强公民议院（Citizens' House）的权力，减少单一实体的影响
     - 引入更多的社区参与工具和机制，提升治理透明度和参与度
   - 激励机制优化
     - 继续完善回溯性公共产品资助（RetroPGF），激励更多的公共产品开发
     - 建立长期激励计划，确保项目的可持续发展

##### 二、面临的挑战

1. **技术挑战**
   - 安全性
     - 如何在保持高扩展性的同时，确保系统的安全性和稳定性
     - 解决潜在的智能合约漏洞和攻击风险
   - 性能瓶颈
     - 处理高并发交易和复杂智能合约的性能优化
     - 数据存储和检索效率的提升
2. **治理挑战**
   - 去中心化程度
     - 在提升去中心化的同时，保持治理的高效性和决策质量
     - 如何吸引更多的社区成员参与治理，平衡不同利益方的需求
   - 利益冲突
     - 解决不同利益相关者之间的冲突，确保治理过程的公平和公正
     - 通过透明的决策机制和问责机制，减少治理过程中的摩擦和争议
3. **生态系统建设**
   - 开发者生态
     - 吸引更多开发者加入Optimism生态系统，提供必要的工具和支持
     - 通过教育和培训，提升开发者的技术水平和参与度
   - 用户基础
     - 扩大用户基础，提升用户体验和满意度
     - 推动更多的DApp和服务在Optimism上部署，丰富生态系统的应用场景

##### 三、解决方案和策略

1. **技术改进**
   - 安全审计
     - 定期进行智能合约和系统的安全审计，发现并修复潜在漏洞
     - 引入更多的第三方安全审计机构，提升审计的独立性和权威性
   - 性能优化
     - 通过并行计算、分片等技术手段，提升系统的处理能力
     - 优化数据存储和检索算法，提升数据处理效率
2. **治理优化**
   - 去中心化治理工具
     - 开发更多的去中心化治理工具，提升社区成员的参与度和决策质量
     - 引入更多的投票和提案机制，确保治理过程的公平和透明
   - 利益平衡机制
     - 建立利益平衡机制，解决不同利益相关者之间的冲突
     - 通过透明的决策和问责机制，提升治理过程的公信力
3. **生态系统发展**
   - 开发者支持
     - 提供丰富的开发工具和资源，支持开发者进行创新和开发
     - 通过教育和培训，提升开发者的技术水平和参与度
   - 用户推广
     - 推动更多的DApp和服务在Optimism上部署，丰富生态系统的应用场景
     - 通过市场推广和用户教育，提升用户的认知度和参与度

##### 四、总结与展望

Optimistic Rollup作为一种创新的Layer2解决方案，凭借其高扩展性和经济性，正在逐步成为以太坊生态系统的重要组成部分。未来，随着技术的不断优化和治理机制的逐步完善，Optimistic Rollup有望在区块链领域发挥更大的作用，推动整个行业的发展和创新。

通过持续的技术革新和社区参与，Optimism将不断提升其系统的性能和安全性，构建一个更加开放、去中心化和可持续的区块链生态系统。



### 2025.01.18

笔记内容

#### Optimism 与以太坊的深度关系及其未来潜力

##### 一、Optimism 与以太坊的关系

1. **Layer 2 扩展方案**
   - Optimism 是以太坊的 Layer 2 扩展方案，旨在提高以太坊的可扩展性和交易处理速度。
   - 它通过 Optimistic Rollup 技术，将大部分计算和数据存储移至 Layer 2，从而减轻以太坊主网的负担。
2. **共享安全性**
   - Optimism 依赖以太坊主网的安全性，通过发布状态根和提交欺诈证明来确保 Layer 2 交易的正确性。
   - 这种设计使得 Optimism 能够继承以太坊的去中心化和安全性，同时提高交易吞吐量和降低成本。

##### 二、Optimism 对以太坊生态系统的贡献

1. **提高交易吞吐量**
   - 通过将大部分交易移至 Layer 2，Optimism 显著提高了以太坊生态系统的交易吞吐量。
   - 这使得更多的去中心化应用（DApps）可以在以太坊上运行，而无需担心网络拥堵和高昂的交易费用。
2. **降低交易成本**
   - Optimism 采用数据压缩和批处理技术，大幅降低了每笔交易的成本。
   - 这对用户和开发者来说都是一个重要的优势，有助于吸引更多的用户和项目加入以太坊生态系统。
3. **促进去中心化金融（DeFi）发展**
   - 通过提高交易速度和降低成本，Optimism 为 DeFi 项目提供了更好的运行环境。
   - 许多 DeFi 协议已经在 Optimism 上部署，享受到了其带来的性能提升和成本节约。

##### 三、未来发展潜力

1. **技术创新**
   - **EIP-4844（Proto-Danksharding）**：
     - 通过引入 Proto-Danksharding，Optimism 可以进一步降低数据存储成本，提高系统的扩展性。
     - 这种技术将数据分片，提高了数据的可用性和处理效率。
   - **分片技术（Sharding）**：
     - 通过分片技术，实现更高的并行处理能力，进一步提升系统的扩展性。
     - 分片技术将交易和数据分片处理，减少了单个节点的负担，提高了整体网络的性能。
2. **跨链互操作性**
   - **标准化跨链桥接协议**：
     - 开发标准化的跨链桥接协议，确保 Optimism 与其他 Layer 1 和 Layer 2 解决方案之间的无缝互操作。
     - 这种跨链桥接协议将促进资产和信息的流通，增强不同区块链之间的协同效应。
   - **资产跨链流通**：
     - 通过安全高效的跨链桥接服务，实现不同区块链之间的资产流通。
     - 这将为用户提供更多的选择和灵活性，促进区块链生态系统的互联互通。
3. **治理机制的演进**
   - **增强去中心化治理**：
     - 逐步增强公民议院（Citizens' House）的权力，减少单一实体的影响。
     - 引入更多的社区参与工具和机制，提升治理透明度和参与度。
   - **优化激励机制**：
     - 继续完善回溯性公共产品资助（RetroPGF），激励更多的公共产品开发。
     - 建立长期激励计划，确保项目的可持续发展。



### 2025.01.19

笔记内容

#### RetroPGF中的重要项目及其对Optimism生态发展的作用

##### 一、RetroPGF机制简要回顾

RetroPGF（回溯性公共产品资助）是Optimism生态系统的一项创新机制，旨在通过奖励过去对生态系统做出贡献的项目和个人，推动公共产品的开发和应用。该机制通过一系列投票和评估，分配协议收入和代币给那些对Optimism和以太坊生态系统产生重大影响的项目。

##### 二、重要项目及其贡献分析

1. **Uniswap V3 on Optimism**
   - **项目简介**：
     Uniswap V3 是去中心化交易所Uniswap的最新版本，部署在Optimism上，提供了高效的链上交易服务。
   - 贡献分析
     - **提升交易效率**：利用Optimism的高吞吐量和低成本特性，显著提升了交易速度和用户体验。Uniswap V3 的集中流动性特性结合Optimism的扩展性，使得交易更加高效和快速。
     - **降低交易成本**：通过Optimism的扩展性，减少了用户在以太坊主网上进行交易的高额费用，使得更多用户能够负担得起频繁的交易。
     - **促进流动性**：吸引了大量流动性提供者（LP），增强了Optimism上的流动性生态。流动性提供者能够在低成本、高效的环境下进行流动性管理。
2. **Synthetix**
   - **项目简介**：
     Synthetix 是一个去中心化合成资产发行平台，允许用户创建和交易各种合成资产。
   - 贡献分析
     - **丰富金融工具**：为Optimism生态系统引入了多种合成资产（例如sUSD、sBTC等），提供了更多的金融工具和交易机会，提升了DeFi生态的复杂性和深度。
     - **提高用户参与度**：通过低成本和高效率的交易吸引了更多用户参与到DeFi生态中，用户可以在Optimism上快速、低成本地创建和交易合成资产。
     - **增强生态系统安全性**：通过质押和治理机制，提升了Optimism整体生态系统的安全性和稳定性。Synthetix的质押机制确保了资产的价值支持，并通过去中心化治理机制维护系统的安全。
3. **Optimistic Oracle by UMA**
   - **项目简介**：
     UMA 的 Optimistic Oracle 是一个去中心化预言机，提供高效且可靠的数据喂价服务。
   - 贡献分析
     - **数据可靠性**：提供准确和可靠的价格数据，支持各种DeFi应用的运行。预言机的数据质量直接影响到DeFi协议的安全和可靠性。
     - **去中心化预言机**：增强了Optimism生态系统的去中心化程度，减少了对中心化数据提供者的依赖，提高了系统的抗审查性和弹性。
     - **促进创新**：通过提供灵活的数据源，支持更多创新型DeFi应用的开发。开发者可以利用可靠的数据源开发出更多样化的DeFi产品。
4. **Chainlink VRF**
   - **项目简介**：
     Chainlink VRF（可验证随机函数）是Chainlink提供的去中心化随机数生成服务，用于确保智能合约中的随机性。
   - 贡献分析
     - **增强合约安全性**：通过不可预测和可验证的随机数，提升智能合约的安全性和公平性。随机数的质量直接影响到博彩和游戏应用的公正性。
     - **支持新型应用**：为博彩、游戏等需要随机性的应用提供了关键支持，扩大了Optimism的应用场景。开发者可以利用Chainlink VRF构建更加公平和透明的应用。
     - **促进生态多样性**：吸引了更多类型的DApp开发，使得Optimism生态系统更加丰富多样。通过支持多样化的应用，提升了整个生态系统的吸引力和竞争力。
5. **Aave V3**
   - **项目简介**：
     Aave V3 是去中心化借贷协议Aave的最新版本，部署在Optimism上，提供高效的借贷服务。
   - 贡献分析
     - **提升借贷效率**：通过Optimism的高扩展性，大幅提升了借贷交易的速度和效率。用户可以在Optimism上快速进行借贷操作，享受低延迟、高吞吐的服务。
     - **降低借贷成本**：显著降低了用户在以太坊主网上进行借贷操作的费用，使得更多用户能够参与到DeFi借贷中来。
     - **增加流动性池**：吸引了大量流动性提供者，增强了Optimism上的资金流动性。更多的流动性池意味着更高的资本效率和更多的借贷机会。



  RetroPGF机制通过支持和奖励这些重要项目，有力地推动了Optimism生态系统的发展。这些项目不仅提升了生态系统的技术水平和用户体验，还引入了多样化的应用场景，丰富了Optimism的应用生态。



### 2025.01.20

笔记内容

#### Superchain 概念及其对 Optimism 生态的深远影响

##### 一、Superchain 概念简介

**Superchain 定义**

- Superchain 是由多个共享安全性、通信层和开源技术栈的 L2 链（即 OP Chains）组成的网络。
- 这些链通过 OP Stack 实现标准化，使得开发者可以将应用部署到整个 Superchain 而无需关心具体运行在哪条链上。

**Superchain 的目标**

- 提供可横向扩展的区块链解决方案，解决当前区块链技术在扩展性上的瓶颈。
- 将 OP Mainnet 和其他链合并为一个统一的 OP 链网络，实现去中心化计算的规模化应用。

##### 二、Superchain 核心特性

**共享的 L1 区块链**

- 提供所有 OP Chains 的交易总排序。
- 确保所有链在同一个安全模型下运行，减少系统性风险。

**共享桥接系统**

- 实现 OP Chains 之间的标准化安全属性。
- 通过共享桥接系统，用户可以安全地在不同链之间迁移状态和资产。

**低成本链部署**

- 通过链工厂机制，实现 OP 链的低成本部署和交易。
- 使用 CREATE2 生成确定性的合约地址，简化链的交互和部署。

**配置选项**

- 允许 OP 链配置其数据可用性提供者、排序者地址等关键参数。
- 支持不同链根据需求进行个性化配置，提升灵活性。

**安全的跨链交易**

- 引入权限无关的证明系统，允许用户随时提交提取请求。
- 提供安全的跨链消息传递机制，确保用户在不同链之间安全迁移状态。

##### 三、Superchain 的实现路径

**升级 Bedrock 桥接系统**

- 将 Bedrock 桥接系统升级为链工厂，支持所有链的标准化部署和交互。
- 通过扩展 SystemConfig 合约，将所有链配置数据放到 L1 上，实现链的确定性同步。

**权限无关的证明系统**

- 引入提取声明，允许任何人提交提取请求，取消权限角色。
- 使用绑定机制防止垃圾请求，保障系统安全。

**模块化排序**

- 支持 OP 链在部署时配置排序者地址，实现排序者去中心化。
- 允许开发者实验不同的排序协议，促进排序者模型的竞争和优化。

**统一升级路径**

- 引入去中心化安全委员会，负责管理链的升级和紧急暂停。
- 在紧急情况下，通过 L1 软分叉机制解除冻结，保障系统安全。

##### 四、对 Optimism 生态的影响

**提升扩展性**

- 通过横向扩展，实现多条链并行运行，解决单链性能瓶颈。
- 支持大规模应用的部署，为去中心化计算提供坚实基础。

**降低成本**

- 通过低成本链部署和交易，降低用户和开发者的使用门槛。
- 吸引更多项目和用户加入 Optimism 生态，促进生态繁荣。

**增强安全性**

- 通过共享的 L1 安全模型，减少系统性风险。
- 引入权限无关的证明系统，提升系统透明度和安全性。

**促进去中心化**

- 支持排序者去中心化，减少单点故障和审查风险。
- 引入去中心化安全委员会，提升治理的透明度和参与度。



  Superchain 概念的引入标志着 Optimism 生态系统向大规模、去中心化计算迈出了重要一步。通过共享安全模型、低成本部署和配置灵活性，Superchain 有望解决当前区块链技术在扩展性和安全性上的瓶颈，为去中心化应用的广泛采用提供坚实基础。



### 2025.01.21

笔记内容

#### Superchain 的架构设计与技术实现深度解析

##### 一、Superchain 的核心架构设计

**多链协同架构**

**架构层级**

- L1 层（以太坊主网）：提供基础安全性和数据可用性
- Bridge 层：统一的跨链桥接系统
- OP Chains 层：可配置的执行层
- 应用层：跨链应用和服务

**链间通信机制**

- 同步通信
  - 基于共享排序者的原子性交易
  - 跨链闪电贷等即时操作支持
- 异步通信
  - 基于消息传递的状态迁移
  - 支持长周期的跨链操作

##### 二、Superchain 的关键技术组件

**链工厂（Chain Factory）**

```solidity
// 简化的链工厂合约示例
contract ChainFactory {
    struct ChainConfig {
        uint256 chainId;
        address sequencer;
        uint256 blockGasLimit;
        address dataAvailabilityProvider;
    }
    
    mapping(uint256 => ChainConfig) public chains;
    
    function deployChain(ChainConfig memory config) external returns (address) {
        // 验证配置
        require(config.chainId > 0, "Invalid chain ID");
        
        // 使用CREATE2部署新链
        address chainAddress = _deployChainImplementation(config);
        
        // 存储配置
        chains[config.chainId] = config;
        
        return chainAddress;
    }
}
```

**权限无关证明系统**

- 提取声明机制


  - 支持任何人提交提取请求
  - 使用绑定机制防止恶意行为

- 挑战机制


  - 允许验证者挑战无效提取
  - 通过经济激励确保系统安全

**模块化排序系统**

```solidity
// 排序者接口示例
interface ISequencer {
    function submitTransaction(bytes calldata txData) external;
    function submitBatch(bytes[] calldata txBatch) external;
    function getCurrentSequencer() external view returns (address);
    function updateSequencer(address newSequencer) external;
}
```

##### 三、安全性保障机制

1. **多层安全保障**
   - L1 安全性继承
   - 跨链验证机制
   - 经济激励约束
   - 紧急暂停机制
2. **欺诈证明系统**

状态转换验证流程：

- **提交状态声明**

- **进入挑战期**

- **验证者检查**

- **处理挑战结果**

- **安全委员会**

  - 多签机制

  - 升级控制

  - 紧急响应

##### 四、性能优化策略

1. **数据可用性优化**
   - 数据压缩
   - 批处理提交
   - 选择性数据存储
2. **交易处理优化**

- 优化方向：
  - 并行处理	
  - 批量验证
  - 状态缓存
  - 智能合约优化

3. **跨链通信优化**

- 消息聚合
- 选择性同步
- 效率与安全性平衡

##### 五、开发者工具和接口

**标准化API**

```typescript
interface SuperchainProvider {
    // 跨链交易提交
    submitCrossChainTx(
        sourceChain: number,
        targetChain: number,
        data: bytes
    ): Promise<TxResponse>;
    
    // 状态查询
    getChainStatus(chainId: number): Promise<ChainStatus>;
    
    // 链部署
    deployNewChain(config: ChainConfig): Promise<DeployResult>;
}
```

**开发工具集**

- 跨链合约开发套件
- 测试网络工具
- 监控和分析工具

##### 六、未来扩展方向

1. **技术升级路线**

短期目标（6个月内）：
- 完善链工厂功能
- 优化跨链通信
- 提升开发者工具

中期目标（1年内）：
- 引入ZK证明
- 实现完全去中心化排序
- 扩展数据可用性解决方案

长期目标（2年以上）：
- 支持1000+条链
- 实现原子级跨链操作
- 建立完整的生态系统

2. **生态系统发展**

- DApp迁移支持
- 跨链资产管理
- 开发者社区建设


  通过这些技术组件和优化策略的实现，Superchain将为Optimism生态系统提供一个强大的技术基础，支持更多创新应用的开发和部署。随着技术的不断演进，Superchain将继续推动区块链技术向更高效、更安全、更去中心化的方向发展。



### 2025.01.22

笔记内容

#### Superchain 的数据可用性层设计与扩展性方案

##### 一、Alt-DA（替代数据可用性）协议详解

1. **基本概念**

   - **定义**：Alt-DA是一种允许OP链使用替代数据可用性提供者的协议，用于补充L1有限的数据存储能力

   - 特点
     - 仅需要对交易数据感兴趣的用户下载数据
     - 通过哈希承诺在L1上保证数据完整性
     - 支持可验证的数据可用性挑战机制

2. **工作流程**

   数据提交流程：
   1. DA Provider接收交易数据
   2. 计算数据哈希并提交到Alt-DA合约
   3. 向用户发送包含性证明
   4. 用户验证证明的有效性

##### 二、Alt-DA合约设计

1. **核心功能**

```solidity
   contract AltDAContract {
       struct DataCommitment {
           bytes32 dataHash;
           uint256 timestamp;
           bool challenged;
           address provider;
       }
       
       mapping(bytes32 => DataCommitment) public commitments;
       
       // 提交数据哈希
       function submitDataHash(bytes32 dataHash) external {
           commitments[dataHash] = DataCommitment({
               dataHash: dataHash,
               timestamp: block.timestamp,
               challenged: false,
               provider: msg.sender
           });
       }
       
       // 提交数据可用性挑战
       function challengeDataAvailability(bytes32 dataHash) external {
           require(commitments[dataHash].timestamp > 0, "Hash not found");
           commitments[dataHash].challenged = true;
           // 启动挑战期
       }
   }
```

2. **安全机制**

   - 挑战期设计

     - 固定时间窗口用于验证数据可用性
  - 在网络拥堵时可延长挑战期
    
   - 惩罚机制

     - DA Provider未能提供数据时的经济惩罚
- 恶意挑战的抵押损失

##### 三、可扩展性优化

1. **数据分片**

   分片策略：
   - 水平分片：按链ID划分
   - 垂直分片：按数据类型划分
   - 动态分片：根据负载自动调整

2. **并行处理**

   - 多DA Provider支持

     - 允许多个提供者并行处理数据
  - 提供者之间的负载均衡
    
   - 批处理优化

     - 合并多笔交易的数据提交
- 优化Gas成本

##### 四、与其他Superchain组件的交互

1. **链工厂集成**

```solidity
   interface ChainFactory {
       // 部署支持Alt-DA的新链
       function deployChainWithAltDA(
           ChainConfig config,
           address daProvider
       ) external returns (address);
       
       // 更新链的DA提供者
       function updateDAProvider(
           uint256 chainId,
           address newProvider
       ) external;
   }
```

2. **跨链消息传递**

   - 保证数据可用性的跨链通信
   - 优化跨链数据传输效率

##### 五、性能指标和优化目标

1. **关键指标**
   吞吐量：
   - 每秒数据处理量 > 1MB
   - 交易确认时间 < 2秒
   
   成本效率：
   - 数据存储成本降低90%
   - Gas使用优化50%
   
   可用性：
   - 系统可用性 > 99.9%
   - 数据检索延迟 < 100ms

2. **优化方向**

   - 数据压缩算法改进
   - 网络传输协议优化
   - 存储结构优化

##### 六、应用场景分析

1. **大规模应用支持**

   - 游戏应用

     ：

     - 高频数据更新
     - 状态同步需求

   - 社交应用

     ：

     - 大量用户数据
     - 实时交互需求

2. **开发者工具**

   ```solidity
   class AltDAProvider {
       // 提交数据
       async submitData(data: Buffer): Promise<string> {
           // 数据处理和哈希计算
           const hash = await this.computeHash(data);
           // 提交到Alt-DA合约
           await this.contract.submitDataHash(hash);
           // 存储数据
           await this.storeData(data, hash);
           return hash;
       }
       
       // 验证数据可用性
       async verifyDataAvailability(hash: string): Promise<boolean> {
           // 实现验证逻辑
       }
   }
   ```

##### 七、未来发展规划

1. **短期目标**

   - 完善Alt-DA协议实现
   - 优化数据处理性能
   - 提升开发者工具可用性

2. **长期规划**
   技术升级：
   
   - 引入更高效的数据压缩算法
   - 实现完全去中心化的数据存储
   - 支持更复杂的数据可用性证明
   
   生态建设：
   - 吸引更多DA提供者
   - 建立数据市场机制
   - 推动标准化发展

  Alt-DA协议的设计和实现代表了Superchain在数据可用性方面的重要创新，为实现真正的区块链可扩展性提供了关键支持。通过优化数据处理和存储机制，该协议能够支持更大规模的应用部署，推动Optimism生态系统的进一步发展。



### 2025.01.23

笔记内容

#### OP Stack：Optimism的技术基石与发展方向

##### 一、OP Stack 概述

1. **核心定义**

   - OP Stack 是由 Optimism Collective 维护的标准化、共享、开源的开发技术栈
   - 作为以太坊和 Optimism 生态系统的公共产品，支撑着 Optimism 的运行

2. **主要特点**
   - 模块化设计
   - 开源共享
   - 标准化接口
   - 可扩展架构

##### 二、OP Stack 的层次结构

1. **基础层**
   - **数据可用性层**：
     - 负责数据存储和访问
     - 确保交易数据的可用性
   - **执行层**：
     - 处理交易执行
     - 维护状态更新
2. **功能层**
   - **桥接层**：
     - 处理跨链通信
     - 管理资产转移
   - **治理层**：
     - 实现链上治理
     - 管理协议升级

##### 三、Bedrock 版本特性

1. **核心功能**

   ```typescript
   interface BedrockFeatures {
       rollupConfig: {
           dataAvailability: "onchain" | "altDA",
           sequencer: "permissioned" | "permissionless",
           proofSystem: "fault" | "validity"
       }
       
       chainManagement: {
           deployment: "automated" | "manual",
           upgrades: "governed" | "autonomous"
       }
   }
   ```

2. **改进点**

   - 简化 L2 区块链部署流程
   - 优化跨链通信机制
   - 提升系统性能和安全性

##### 四、OP Stack 的应用场景

1. **Superchain 支持**

   - 为 Superchain 网络提供技术基础
   - 支持多链互操作性
   - 确保安全性和可扩展性

2. **开发者工具**

   ```javascript
   // 链部署示例
   class ChainDeployer {
       async deployChain(config) {
           // 初始化配置
           const chainConfig = {
               chainId: config.chainId,
               sequencerAddress: config.sequencer,
               dataAvailability: config.dataAvailability
           };
           
           // 部署链
           const chainContract = await this.deployChainContract(chainConfig);
           
           // 设置桥接
           await this.setupBridge(chainContract.address);
           
           return chainContract;
       }
   }
   ```

##### 五、未来发展方向

1. **技术演进**
   近期目标：
   - 模块化组件解耦
   - 接口标准化
   - 性能优化
   
   长期规划：
   - 支持更多链类型
   - 增强互操作性
   - 简化开发流程

2. **生态建设**

   - 完善开发者文档
   - 提供更多工具和示例
   - 建立活跃的开发者社区

##### 六、对开发者的影响

1. **开发便利性**

   - 标准化的开发接口
   - 丰富的工具支持
   - 完善的文档资源

2. **使用建议**
   
   - 使用官方 Bedrock 版本进行开发
   
   - 遵循 Superchain 兼容性要求
   
   - 参与社区讨论和贡献
   
   - 关注技术栈更新和演进



  OP Stack 作为 Optimism 的技术基石，不仅简化了 L2 区块链的部署和管理，还为 Superchain  的实现提供了必要的技术支持。通过标准化和模块化的设计，OP Stack 使得开发者能够更容易地参与到 Optimism 生态系统的建设中。

  这种模块化、标准化的技术栈设计思路，不仅有助于降低开发门槛，还能促进整个生态系统的良性发展。通过持续的技术创新和社区参与，OP Stack 将在推动区块链技术普及和应用方面发挥越来越重要的作用。



### 2025.01.24

笔记内容

#### Superchain 项目分析：当前进展与未来展望

##### 一、Superchain 项目的当前进展

1. **核心组件的开发与集成**
   - **OP Stack**：作为 Superchain 的技术基石，OP Stack 的 Bedrock 版本已经成功发布并运行，提供了稳定的 L2 Rollup 部署和管理工具。
   - **链工厂（Chain Factory）**：支持通过标准化配置快速部署新的 OP 链，为 Superchain 的扩展性提供了基础保障。
   - **跨链桥接系统**：实现了 OP 链之间的标准化桥接，确保了跨链资产转移和状态迁移的安全性和效率。
2. **数据可用性解决方案**
   - **Alt-DA 协议**：替代数据可用性（Alt-DA）协议的初步实现已经上线，支持通过多数据提供者的方式提升数据存储和访问性能。
   - **数据挑战机制**：引入了数据可用性挑战机制，确保数据提供者的行为受到经济激励和约束。
3. **去中心化治理**
   - **安全委员会**：建立了多签机制的去中心化安全委员会，负责管理链的升级和紧急响应。
   - **治理层设计**：初步实现了链上治理系统，支持通过社区投票进行协议升级和参数调整。

##### 二、Superchain 的未来发展方向

1. **技术优化与扩展**
   - **模块化排序系统**：继续优化排序者的配置和管理，实现完全去中心化排序，支持多种排序协议的实验和应用。
   - **ZK 证明集成**：引入零知识（ZK）证明，提升跨链通信的安全性和效率，逐步替代现有的欺诈证明系统。
   - **数据压缩与存储优化**：开发更高效的数据压缩算法和存储结构，进一步降低数据存储成本，提高系统性能。
2. **生态系统建设**
   - **DApp 支持与迁移**：提供完善的开发工具和文档，支持现有 DApp 迁移到 Superchain，丰富 Superchain 的应用生态。
   - **开发者社区建设**：通过教育和培训，吸引更多开发者参与到 Superchain 的建设中，建立活跃的开发者社区。
   - **生态基金与激励机制**：设立生态基金和激励机制，鼓励公共产品和创新项目的发展，推动生态系统的可持续繁荣。
3. **安全与治理**
   - **多层次安全保障**：进一步加强 L1 安全模型的继承，优化跨链验证机制，提升系统的整体安全性。
   - **治理机制优化**：引入更多的社区参与工具和机制，提升治理透明度和参与度，确保治理过程的公平和高效。

##### 三、Superchain 的应用场景与案例分析

1. **去中心化金融（DeFi）**
   - **应用场景**：高频交易、跨链借贷、流动性挖矿
   - **案例分析**：Synthetix 在 Superchain 上的部署，通过低成本和高效的交易，提升了用户参与度和流动性。
2. **去中心化自治组织（DAO）**
   - **应用场景**：社区治理、协议升级、资源分配
   - **案例分析**：Optimism Collective 自身的治理系统，通过多签机制和社区投票，确保了治理的透明和高效。
3. **非同质化代币（NFT）**
   - **应用场景**：数字艺术、游戏资产、虚拟地产
   - **案例分析**：通过 Superchain 的高扩展性和低成本，支持大规模 NFT 交易和应用，促进了 NFT 生态的发展。
   
    

  Superchain 项目作为 Optimism 生态系统的重要组成部分，通过标准化、模块化和去中心化的设计，为实现真正的区块链可扩展性提供了关键支持。当前，Superchain 项目已经在核心组件开发、数据可用性解决方案和去中心化治理方面取得了显著进展。

  这种模块化、标准化的技术栈设计思路，不仅有助于降低开发门槛，还能促进整个生态系统的良性发展。



### 2025.01.25

笔记内容

#### 使用 Superchain 的知名项目分析

在 Superchain 项目逐步完善和推广的过程中，越来越多的知名项目选择在 Superchain 上部署和运行。以下是几个在 Superchain 上运行的知名项目以及它们的具体实现和贡献。

##### 一、Uniswap V3 on Superchain

1. **项目简介**
   - Uniswap V3 是去中心化交易所 Uniswap 的最新版本，提供高效的链上交易服务。
2. **在 Superchain 上的实现**

```Solidity
// Uniswap V3 核心合约示例
contract UniswapV3Pool {
    // 状态变量
    address public token0;
    address public token1;

    // 构造函数
    constructor(address _token0, address _token1) {
        token0 = _token0;
        token1 = _token1;
    }

    // 交易函数
    function swap(uint256 amount0In, uint256 amount1Out) external {
        // 交易逻辑
    }
}
```

**贡献与影响**

- **提升交易效率**：利用 Superchain 的高吞吐量和低成本特性，显著提升了交易速度和用户体验。
- **降低交易成本**：Superchain 的扩展性减少了用户在以太坊主网上进行交易的高额费用。
- **促进流动性**：吸引了大量流动性提供者（LP），增强了 Superchain 上的流动性生态。

##### 二、Synthetix on Superchain

1. **项目简介**
   - Synthetix 是一个去中心化合成资产发行平台，允许用户创建和交易各种合成资产。
2. **在 Superchain 上的实现**

```Solidity
// Synthetix 核心合约示例
contract Synthetix {
    // 状态变量
    mapping(address => uint256) public synthBalances;

    // 创建合成资产
    function mintSynth(address to, uint256 amount) external {
        synthBalances[to] += amount;
    }

    // 交易合成资产
    function transferSynth(address from, address to, uint256 amount) external {
        require(synthBalances[from] >= amount, "Insufficient balance");
        synthBalances[from] -= amount;
        synthBalances[to] += amount;
    }
}
```

**贡献与影响**

- **丰富金融工具**：为 Superchain 生态系统引入多种合成资产，提供更多的金融工具和交易机会。
- **提高用户参与度**：通过低成本和高效率的交易吸引更多用户参与到 DeFi 生态中。
- **增强生态系统安全性**：通过质押和治理机制，提升了 Superchain 整体生态系统的安全性和稳定性。

##### 三、Aave V3 on Superchain

1. **项目简介**
   - Aave V3 是去中心化借贷协议 Aave 的最新版本，提供高效的借贷服务。
2. **在 Superchain 上的实现**

```Solidity
// Aave V3 核心合约示例
contract AaveV3 {
    // 状态变量
    mapping(address => uint256) public deposits;

    // 存款函数
    function deposit(address asset, uint256 amount) external {
        deposits[asset] += amount;
    }

    // 借款函数
    function borrow(address asset, uint256 amount) external {
        require(deposits[asset] >= amount, "Insufficient liquidity");
        deposits[asset] -= amount;
    }
}
```

**贡献与影响**

- **提升借贷效率**：通过 Superchain 的高扩展性，大幅提升了借贷交易的速度和效率。
- **降低借贷成本**：显著降低了用户在以太坊主网上进行借贷操作的费用。
- **增加流动性池**：吸引了大量流动性提供者，增强了 Superchain 上的资金流动性。

##### 四、Chainlink VRF on Superchain

1. **项目简介**
   - Chainlink VRF（可验证随机函数）是 Chainlink 提供的去中心化随机数生成服务，用于确保智能合约中的随机性。
2. **在 Superchain 上的实现**

```Solidity
// Chainlink VRF 核心合约示例
contract ChainlinkVRF {
    // 状态变量
    address public vrfCoordinator;

    // 构造函数
    constructor(address _vrfCoordinator) {
        vrfCoordinator = _vrfCoordinator;
    }

    // 请求随机数
    function requestRandomness(bytes32 keyHash, uint256 fee) external returns (bytes32 requestId) {
        // 请求逻辑
    }

    // 接收随机数
    function fulfillRandomness(bytes32 requestId, uint256 randomness) external {
        // 接收逻辑
    }
}
```

**贡献与影响**

- **增强合约安全性**：通过不可预测和可验证的随机数，提升智能合约的安全性和公平性。
- **支持新型应用**：为博彩、游戏等需要随机性的应用提供关键支持，扩大 Superchain 的应用场景。
- **促进生态多样性**：吸引更多类型的 DApp 开发，使得 Superchain 生态系统更加丰富多样。



### 2025.01.26

笔记内容

#### 重点项目分析：Base - Superchain 上的重要生态系统

##### 一、Base 项目概述

**项目背景**

- Base 是由 Coinbase 基于 OP Stack 构建的去中心化生态系统
- 作为 Superchain 的重要组成部分，Base 继承了 OP Stack 的核心优势
- 得益于 Coinbase 的影响力，为 Superchain 带来了大量机构级用户

**技术架构**

```TypeScript
interface BaseArchitecture {
    // 核心组件
    core: {
        sequencer: "optimistic-rollup",
        dataAvailability: "ethereum-l1",
        proofSystem: "fault-proofs"
    },
    
    // 扩展功能
    extensions: {
        bridging: "universal-bridge",
        authentication: "cb-wallet-integration",
        trading: "advanced-orderbook"
    }
}
```

##### 二、Base 的创新特性

**机构级基础设施**

```Solidity
// Base 机构级交易系统示例
contract BaseInstitutionalTrading {
    // 机构账户结构
    struct InstitutionalAccount {
        address owner;
        uint256 tradingLimit;
        bool isVerified;
        mapping(address => bool) authorizedTraders;
    }
    
    // 机构交易逻辑
    function institutionalTrade(
        uint256 amount,
        address token,
        bool isBuy
    ) external onlyVerifiedInstitution {
        // 交易执行逻辑
    }
}
```

**企业级安全保障**

- 多层级安全架构
  - 链级安全：继承 Superchain 的安全模型
  - 应用级安全：专业的安全审计和监控
  - 机构级安全：多重签名和权限管理

**流动性聚合**

```Solidity
// Base 流动性聚合器示例
contract BaseLiquidityAggregator {
    // 流动性来源管理
    struct LiquiditySource {
        address protocol;
        uint256 liquidity;
        uint256 lastUpdate;
    }
    
    // 智能路由系统
    function findOptimalRoute(
        address tokenIn,
        address tokenOut,
        uint256 amount
    ) external view returns (Route memory) {
        // 路由计算逻辑
    }
}
```

##### 三、Base 在 Superchain 生态中的作用

**机构用户引入**

- 通过 Coinbase 的用户基础，为 Superchain 带来大量机构用户
- 提供专业的机构级服务和支持
- 建立机构间的合作网络

**生态系统建设**

```JavaScript
// Base 生态系统开发框架示例
class BaseEcosystemSDK {
    // 应用部署
    async deployApp(config) {
        // 配置验证
        this.validateConfig(config);
        
        // 部署流程
        const deployment = await this.orchestrator.deploy({
            name: config.name,
            version: config.version,
            contracts: config.contracts,
            dependencies: config.dependencies
        });
        
        return deployment;
    }
    
    // 生态系统集成
    async integrateWithEcosystem(appId) {
        // 集成逻辑
    }
}
```

##### 四、Base 的技术创新

**高性能交易系统**

```Solidity
// Base 高性能交易引擎示例
contract BaseTradeEngine {
    // 订单匹配引擎
    struct OrderBook {
        mapping(uint256 => Order) buyOrders;
        mapping(uint256 => Order) sellOrders;
        uint256 lastMatchPrice;
    }
    
    // 快速撮合逻辑
    function matchOrders(
        Order[] memory buyOrders,
        Order[] memory sellOrders
    ) external returns (Trade[] memory) {
        // 撮合算法实现
    }
}
```

**创新性功能**

- **智能订单路由**：优化交易路径和执行效率
- **机构级分析工具**：提供专业的市场分析和风险管理
- **跨链互操作性**：支持与其他 Superchain 生态系统的无缝交互

##### 五、未来发展规划

**技术路线图**

- 2025 Q1-Q2

  - 优化机构级交易系统

  - 增强安全性措施

  - 扩展跨链功能


- 2025 Q3-Q4

  - 推出创新性 DeFi 产品

  - 深化机构合作

  - 扩大生态系统规模


**生态系统扩展**

- 吸引更多机构级应用
- 建立更广泛的合作伙伴网络
- 推动创新型金融产品开发

##### 

  Base 作为 Superchain 生态系统中的重要组成部分，通过其独特的机构级基础设施和创新性功能，为整个生态系统带来了显著的价值。其专业的技术实现和广泛的机构用户基础，不仅推动了 Superchain 的发展，还为区块链技术的企业级应用树立了标杆。

<!-- Content_END -->

