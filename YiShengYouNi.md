---
timezone: Asia/Shanghai
---

# Henry Wei

1.自我介绍

大家好！我是一名拥有 10 年 Web 开发经验的技术经理和架构师，在多家公司中带领过团队，也主导过多个中大型项目的技术设计。写代码、解决问题、优化用户体验这些事，一直让我感到兴奋，因为我热爱创造并看到它产生实际影响。

最近，我对 Web3 领域产生了浓厚的兴趣。这个充满未知和可能性的领域让我很兴奋，也让我重新找回了刚开始学习编程时的那种好奇心。我希望未来能在这方面做一些尝试，深入探索区块链和去中心化的世界。

生活中，我喜欢和不同文化、背景的人交流，总能从他们的故事中获得灵感。我相信，每一次真诚的交流都是一次成长的机会。

我是个对未来充满信心的人，无论是面对技术还是生活中的挑战，我始终相信，只要脚踏实地，总会迎来让人惊喜的结果。期待和更多志同道合的人一起交流，共同学习！

2.你认为你会完成本次残酷学习吗？

很高兴可以参加这次共建学习，我相信自己会坚持到第21天，加油吧！

## Notes

<!-- Content_START -->

### 2025.01.06

#### Layer2 扩容方案

Layer 2 扩容方案是为了提升区块链的性能，尤其是`处理速度`和`降低交易成本`，它们通常在现有的 Layer 1 区块链（如以太坊）之上运行

##### 状态通道（State Channels）

状态通道是允许用户在链外进行多次交易，然后仅在最终结果时将其提交到主链的一种方法。通过这种方式，可以显著减少链上交易的数量，从而提高效率

- 优点：交易速度快、成本低、隐私保护好
- 缺点：适用于交互频繁的小额支付场景，不适合大规模应用

例子：

- 闪电网络（Lightning Network）：比特币的状态通道扩容方案
- Raiden Network：以太坊的状态通道扩容方案

##### Rollups

Rollups 是将交易打包成批次后，发送到主链上进行验证的技术。通过将交易批量化处理，减少了主链的负担，同时保持了安全性

Rollups 主要有两种类型：

- **ZK-Rollups（零知识汇总）**：

  通过零知识证明（ZKP）将链外的计算结果验证到链上。ZK-Rollups 提供高效的可扩展性和安全性，支持更高的交易吞吐量和更低的延迟

- **Optimistic Rollups（乐观汇总）**：
  
  假设交易是合法的，并且在有争议时会通过挑战机制来验证。Optimistic Rollups 更易实现，但相比 ZK-Rollups 在效率上有所牺牲
  
优点：

- ZK-Rollups：高效、安全、低延迟
- Optimistic Rollups：实现简单、易于扩展

例子：

- zkSync、StarkWare（基于 ZK-Rollups）
- OP、Arbitrum（基于 Optimistic Rollups）

##### Plasma

Plasma 是一种构建在主链上的子链架构，它通过在链下处理交易并定期将其压缩后提交到主链来扩展区块链的处理能力

它允许更多的交易通过“子链”进行，并且在子链与主链之间使用特殊的验证程序来保证安全性

优点：

- 可扩展性强。
- 主链的安全性得到保障。

缺点：

- 状态更新的延迟。
- 需要定期进行“退出”操作，防止欺诈。

例子：

- OmiseGo：基于 Plasma 的扩容解决方案

#### Sidechains

Sidechains 是独立的区块链，可以与主链进行双向资产转移。与 Rollups 不同，Sidechains 通常有自己的共识机制，并且交易处理是完全独立于主链的

优点：

- 可以根据需要自定义链的参数和共识机制。
- 可扩展性较强。

缺点：

- 安全性较差，因为 Sidechain 可能没有和主链同样强的安全保障。
- 需要用户对资产的管理和监控。

例子：

Polygon（原 Matic）：提供 Layer 2 扩容的 Sidechain 解决方案

#### Nested Blockchains

通过创建多个嵌套的链结构，允许每个子链处理不同的应用或交易类型，从而提高主链的吞吐量。每个嵌套区块链都有自己的操作规则，并与主链进行通信。

优点：

- 高度可定制。
- 可以分散工作负载，减少主链的压力。

缺点：

- 系统复杂度较高。
- 可能会影响数据的同步和一致性

### 2025.01.07

#### Layer2 扩容方案（续）

##### Validium

Validium 是一种类似于 ZK-Rollups 的方案，它通过使用`零知识证明`来确保数据的正确性，但与 ZK-Rollups 不同，Validium 将数据存储在链外（而非链上）。这种方案减少了链上存储的需求，从而提供更高的扩展性。

优点：

- 高效、安全，特别适合大规模的数据处理。
- 交易处理速度非常快，吞吐量极高。

缺点：

- 数据不存储在链上，可能会影响去中心化和安全性。
- 用户需要信任数据可用性提供者。

例子：

- StarkWare 的 StarkEx 使用 Validium。

##### Channel Networks

Channel Networks 是一种扩容技术，它基于多个状态通道连接形成一个网络，让多个参与者之间的交易可以快速、低成本地进行，并且可以跨多个链路进行支付。这种方式通常用于点对点的交易系统，可以高效处理大规模的支付网络。

优点：

- 支持高效的支付通道网络
- 可以跨多个参与方进行交易

缺点：

- 需要预先设立支付通道
- 与普通的状态通道相比，复杂度更高

例子：

- Raiden Network：实现了一个基于以太坊的支付通道网络，支持跨链支付。

##### Optimistic Virtual Machines (OVM)

Optimistic Virtual Machines 是一种在 Optimistic Rollups 上的进一步扩展。OVM 允许开发者在 Optimistic Rollups 上执行任何 EVM 兼容的智能合约，同时保持较低的交易费用和较高的吞吐量。

优点：

- 与 EVM 兼容，可以在 Rollups 上运行现有的智能合约。
- 提供了更高的扩展性和可编程性。

点：

- 需要优化与 EVM 的兼容性和性能。
- 提供的安全性依赖于挑战机制的有效性。

例子：

- OP：利用 OVM 技术来运行基于以太坊的智能合约。

##### 执行层分片（Execution Layer Sharding）

执行层分片是将区块链网络的计算负载分担到多个并行处理的子网络（或分片）上。每个分片负责一部分计算任务，从而实现对交易的并行处理。这种方式通常与其他 Layer 2 技术结合使用，以提供更高效的扩展性。

优点：

- 大大提高了交易的并行处理能力。
- 更高的吞吐量和更低的延迟。

缺点：

- 实现较为复杂，存在一致性和协调问题。
- 需要大量的网络和存储资源。

例子：

- Ethereum 2.0 中的分片设计，就是将执行层与数据层分离，通过执行层分片来扩展性能。

##### Hybrid Layer 2 Solutions

Hybrid Layer 2 方案结合了不同类型的 Layer 2 技术，如 Rollups 和状态通道，以弥补各自的不足之处。这些方案通常允许灵活选择合适的扩容技术，以满足具体应用场景的需求。

优点：

- 灵活、可定制，能够根据应用的需求选择不同的技术。
- 提供更高的扩展性和更低的交易成本。

缺点：

- 需要更复杂的设计和实施。
- 在不同技术之间可能存在协作问题。

例子：

- Loopring：结合了 ZK-Rollups 和状态通道技术，用于去中心化交易所（DEX）场景。

##### Data Availability Sampling (DAS)

DAS 是一种通过`采样`来检查数据可用性的方法，通常与其他扩容技术如 Rollups 或 Validium 一起使用。通过采样，用户可以确定数据是否可用，而不需要下载整个数据集，从而提高效率。

优点：

- 高效的数据可用性验证。
- 减少了数据存储和传输的开销。

缺点：

- 需要设计和实现有效的采样机制。
- 可能存在数据可用性风险，依赖于节点和协议的正确性。

例子：

- Celestia：一个新的区块链设计，专注于数据可用性和分布式计算，结合了 DAS 技术。

##### Comet (Cosmos SDK)

Comet 是 Cosmos SDK 中的一种基于区块链架构的扩容方案，通过支持不同区块链间的互操作性来提高网络的扩展性。Comet 提供了跨链通信和独立的区块链治理机制，可以大幅提升吞吐量。

优点：

- 强调链间互操作性和去中心化。
- 可扩展的多链架构。

缺点：

- 跨链通信需要高效的共识协议和安全保障。
- 实现和维护较为复杂。

例子：

- Cosmos：通过 IBC（Inter-Blockchain Communication）协议实现区块链间的通信和协作，支持大规模的扩展

### 2025.01.08

#### OP 与其他L2扩容比较

##### Optimistic Rollups (OP)

Optimistic Rollups 假设交易是有效的，只有在出现争议时才会通过`挑战机制`进行验证。它们将计算和状态更新移到链外，而交易的最终性则通过链上的验证确保。

- 优点：

  - 兼容性：可以与现有的以太坊智能合约兼容，支持 EVM。
  - 简单实现：相比于 ZK-Rollups，实现较为简单，开发者可以较容易上手。
  - 扩展性：相比直接在 Layer 1 上处理，吞吐量大幅提升。
  - 交易费用较低：相比直接使用 Layer 1，交易成本显著下降。

- 缺点：

  - 最终性延迟：因为交易的验证是异步的，可能会经历挑战期，最终性存在延迟。
  - 挑战机制复杂：需要有效的挑战机制来保证安全性，一旦挑战机制被滥用或失效，可能会影响系统安全。
  - 数据可用性问题：挑战期内，交易数据的可用性和透明性是一个潜在问题。

- 适用场景：

  - 去中心化金融（DeFi），尤其是有大量的复杂智能合约的场景。
  - 中等复杂度的应用，注重 EVM 兼容性。

- 典型例子：

  - **OP**
  - **Arbitrum**

##### ZK-Rollups (Zero-Knowledge Rollups)

ZK-Rollups 使用`零知识证明`技术，将大量交易批量打包，然后通过一个`ZK-SNARK（零知识简洁非交互式论证）`提交给主链。这种方案能在保证安全性的同时，提供非常高的扩展性。

- 优点：

  - 最终性快速：ZK-Rollups 不需要挑战期，交易的最终性几乎是即时的。
  - 更高的扩展性：可以在单个区块中批量处理更多交易，吞吐量极高。
  - 隐私保护：通过零知识证明，ZK-Rollups 可以实现数据隐私保护。

- 缺点：

  - 开发难度大：ZK-Rollups 的实现相对复杂，开发者需要掌握零知识证明技术。
  - 与现有合约兼容性差：与以太坊现有的智能合约兼容性较差，迁移现有合约较为困难。
  - 计算复杂性：生成和验证零知识证明所需的计算资源较高。

- 适用场景：

  - 对`性能和隐私`有较高要求的场景，尤其是`大规模交易`。
  - 区块链需要较高安全性和即时交易确认的场景。

- 典型例子：

  - zkSync
  - StarkWare（StarkEx）
  - Loopring

##### Plasma

Plasma 是一种通过`子链`将计算工作移至链外的扩容方案。交易先在子链中处理，最终结果通过`Merkle Tree`提交到主链。

- 优点：

  - 强大的安全性：主链通过提交`状态根`来确保子链的安全。
  - 能处理复杂应用：适合需要大量计算的复杂应用场景。
  - 适合批量处理：可以高效地处理批量交易。

- 缺点：

  - 退出机制复杂：用户需要能够安全地从 Plasma 链退出，确保他们的资金不会被卡住。
  - 状态更新延迟：由于 Plasma 的退出机制依赖于挑战期，因此存在一定的延迟。
  - 数据可用性问题：可能存在子链的数据不可用或不可访问的风险。

- 适用场景：

  - 大规模数据处理，如 游戏 和 高频交易。
  - 对 去中心化 和 安全性 有较高要求的场景。

- 典型例子：

  - OmiseGO

##### Sidechains

Sidechains 是独立的区块链，可以与主链进行`双向`资产转移。它们拥有自己的共识机制和治理方式，能够提供定制的特性和高扩展性。

- 优点：

  - 高度可定制：可以针对具体应用需求定制共识机制和链的参数。
  - 较低的交易费用：可以降低交易的成本，提升吞吐量。
  - 灵活性强：支持自定义智能合约和应用逻辑。

- 缺点：
  - 安全性较低：侧链的安全性依赖于它的共识机制，通常不如主链强。
  - 资产迁移复杂：虽然支持双向资产转移，但迁移资产时需要额外的信任机制。

- 适用场景：

  - 有特殊需求的应用，如需要定制化共识机制的项目。
  - 高吞吐量场景，如 游戏 和 内容创作平台。

- 典型例子：

  - Polygon（Matic）
  - XDAI

##### 状态通道（State Channels）

State Channels 允许用户在链外进行多次交易，只有最终的交易结果被提交到主链。这种方案适用于需要频繁交互的小额支付场景。

- 优点：

  - 低延迟：由于大部分交易在链外处理，交易响应速度非常快。
  - 低交易费用：链外交易不需要每笔都支付费用，只有最终结果被提交时才产生费用。
  - 隐私保护：交易过程完全链外，提供更好的隐私保护。

- 缺点：

  - 仅适用于特定场景：主要适合小额支付和频繁交易的应用，不适合所有应用。
  - 需事先设置通道：需要在参与方之间事先建立支付通道。

- 适用场景：

  - 即时支付，如 游戏内支付 和 微支付。
  - 频繁交互，如 去中心化交易所（DEX）。

- 典型例子：

  - Raiden Network（以太坊的状态通道）
  - Lightning Network（比特币的状态通道）

|特性|OP|Zk-rollup| Plasma | sideChains| State Channels|
|---|---|---|---|---|---|  
|扩展性| 中等，依赖于挑战期 | 高，批量处理大量交易 | 高，适用于大规模数据处理  | 高，适合大规模应用 |  高，针对小额支付和频繁交易 |
|安全性 |依赖挑战机制，有延迟 | 高，几乎即时的最终性 | 高，有退出机制和数据可用性问题  |较低，依赖于侧链的共识机制 | 高，链外交易有隐私保护 |
|开发难度| 中等，基于现有智能合约 | 高，零知识证明实现较复杂 |中等，需实现退出和挑战机制  | 低至中等，侧链可以定制 | 低，需要预设支付通道 |
|最终性 | 延迟较长，依赖挑战期  | 几乎即时，零知识证明确保最终性 | 延迟较长，退出期较复杂 | 快，资产可实时转移到侧链  | 快，链外交易立刻生效 |
|适用场景 | DeFi、智能合约复杂应用  | 高吞吐量、隐私保护、大规模交易 | 大规模数据处理、复杂应用 | 特定应用、定制化需求  | 微支付、小额频繁交易 |

### 2025.01.09

#### Rollup 成熟度评估

**Rollup成熟度评估框架**是一种用来评估 Rollup 解决方案的去中心化程度、安全性和治理结构的工具，旨在帮助开发者、用户和投资者理解不同 Rollup 项目在向完全去中心化和信任最小化过渡中的进展。

评估框架通过对 Rollup 的发展阶段、关键技术要求和治理模式的分析，为 Rollup 项目的成熟度提供量化和结构化的评估。

##### 为什么要评估Rollup的成熟度？

评估 Rollup 的成熟度主要是为了以下几个原因：

- **去中心化进程透明化**
  Rollup 是一种扩容解决方案，其目的是提升区块链的扩展性，同时保持去中心化和安全性。评估其成熟度可以帮助用户和开发者了解一个 Rollup 项目是否已经具备去中心化的能力，以及其去中心化进程是否符合预期。

- **确保安全性**
  一个 Rollup 项目的安全性直接关系到资金的安全、数据的完整性以及用户的信任。评估框架有助于识别项目中可能存在的安全漏洞，并帮助项目改进安全性。

- **帮助治理决策**
  不同阶段的 Rollup 可能采用不同的治理结构，从完全由运营商控制到逐步去中心化，再到完全去中心化。评估成熟度框架有助于确定项目治理是否适应其去中心化目标，并对潜在的风险进行管理。

- **评估用户保护机制**
  用户在使用 Rollup 时，可能面临系统升级、退出和其他治理变动的风险。评估框架帮助确保项目具备足够的用户保护措施，确保用户的资产在系统发生变动时能够安全退出。

- **为投资者提供决策依据**
  对于投资者而言，评估 Rollup 项目的成熟度可以帮助其判断一个项目是否已经达到了成熟的去中心化状态，并为投资决策提供数据支持

##### Rollup 成熟度评估框架

**L2BEAT**提出的评估框架是目前最为广泛采用的一种，它将 Rollup 的成熟度分为三个阶段：

###### **Stage 0 — 完全依赖“训练轮”**

在这一阶段，Rollup 系统的管理`完全由运营商`控制，系统处于“训练轮”状态。此时，虽然系统可能是开源的，但它的安全性和去中心化程度较低，很多关键操作仍然依赖运营商的信任。

- 特点：
  - 主要由运营商控制。
  - 数据可用性和状态根发布依赖 L1。
  - 系统缺乏去中心化的治理，安全性较弱

###### **Stage 1 — 限制性“训练轮”**

在这个阶段，Rollup 开始向`智能合约治理`过渡，但安全委员会仍然存在以解决潜在的问题。此时，系统实现了更为健全的证明机制，并允许用户在没有运营商协调的情况下进行资产退出。

- 特点：
  - 智能合约治理开始生效。
  - 允许欺诈证明，且至少有 5 个外部参与者能够提交欺诈证明。
  - 用户能够在没有运营商协调的情况下退出系统。
  - 存在安全委员会来保障系统安全。

###### **Stage 2 — 完全去中心化，无“训练轮”**

这一阶段，Rollup 完全由智能合约管理，系统去中心化程度达到最高。所有的操作，包括欺诈证明的提交、用户的退出等，都已完全去中心化，并且安全委员会的作用被大大限制，只有在系统发生重大问题时才能介入。

- 特点：
  - 完全去中心化
  - 允许任何用户提交欺诈证明。
  - 用户可以在 30 天内退出系统。
  - 安全委员会仅在链上错误时介入

##### Rollup成熟度评估框架的关键要求

每个阶段的框架都涉及以下几个方面的要求：

- 数据可用性（Data Availability）
  数据可用性确保所有的 L2 数据能在 L1 上进行验证，以便进行状态恢复和资产撤回。

- 证明系统（Proof System）
  包括 欺诈证明（Fraud Proofs） 和 零知识证明（zk-proofs），证明系统是保障 Rollup 操作正确性的核心部分。

- 治理和用户退出机制
  评估是否允许用户在没有运营商协调的情况下自主退出系统，并且是否提供足够长的退出时间窗口。

- 安全委员会的角色
  在 Stage 1 和 Stage 2 中，评估安全委员会是否过度干预，以及其是否由去中心化的参与者组成。

- 去中心化程度
  通过逐步去除“训练轮”的支持，逐渐实现完全的去中心化治理

#### OP和 Arbitrum 的成熟度评估

OP (OP) 和 Arbitrum 是目前最为流行的两个 Optimistic Rollup 解决方案，它们的成熟度在 L2BEAT 提出的阶段框架中大致可以归类为`Stage 1`，但是两者的具体情况略有不同

##### OP (OP)

- 治理和智能合约

  OP 在治理上逐步实现去中心化，已经引入了一个名为`**Optimism Collective**`的治理机制，结合了`代币持有者`和`治理代表`，旨在逐步移除中心化控制。
  虽然智能合约已经开始治理，但仍然存在一定程度的集中控制，特别是在**安全委员会**的角色上，虽然它在逐步去中心化。

- 欺诈证明（Fraud Proofs）

  OP 已经引入了一个相对成熟的欺诈证明机制，允许外部参与者提交欺诈证明来验证状态根的正确性。这个机制正在逐步开放，但仍然在一个受限的状态下运营，符合 Stage 1 的要求，即至少允许`5个外部参与者`提交欺诈证明。

- 数据可用性和状态根发布

  OP 会将 L2 的状态根发布到 L1，以确保用户能够撤回资产并进行审计。
  数据可用性方面，OP 保证 L1 上的数据是可用的，且任何人都可以基于 L1 数据来验证 L2 状态。

- 退出机制

  用户在系统发生不希望的升级时，可以在一定的时间窗口内退出，通常是`7 天`。这个时间窗口符合 Stage 1 的要求，允许用户在不满意的情况下进行资产撤回。

- 安全委员会

  OP 仍然依赖于`安全委员会`来解决潜在的系统问题。该委员会由多个独立实体组成，确保在出现错误时可以采取紧急措施

##### Arbitrum

- 治理和智能合约

  Arbitrum 同样实现了逐步去中心化的治理。它的治理体系包括 Arbitrum DAO 和 Arbitrum Foundation，并且正在推进更多的社区参与。尽管治理已经部分去中心化，但核心的决策和控制仍然由 Arbitrum 团队以及基金会掌握。

- 欺诈证明（Fraud Proofs）

  Arbitrum 采用了欺诈证明系统，这个系统在 Stage 1 阶段允许外部参与者提交欺诈证明。它的欺诈证明机制相对完善，且已经对外开放，至少有`5个独立的外部参与者`可以参与验证。

- 数据可用性和状态根发布

  Arbitrum 将其 L2 的状态根定期发布到 L1，以便在需要时用户可以进行提现或审计。
  与 OP 相似，Arbitrum 的数据可用性通过 L1 来保障，确保系统的透明性和可靠性。

- 退出机制  

  Arbitrum 同样为用户提供了在`7 天`的时间窗口内退出的机制，确保在不满意的情况下，用户可以退出并撤回资产。

- 安全委员会

  Arbitrum 也拥有一个类似的`安全委员会`，该委员会在出现问题时可以进行干预。委员会由多个不同的实体组成，参与者必须达到一定的共识阈值

### 2025.01.10

#### Stages

Stages 描述了从用户提交交易到最终确认这些交易的整个过程

##### **1. 提交阶段（Submission Stage）**

在这个阶段，Rollup 上的交易首先由用户提交，通常是通过智能合约或交易输入进行。这些交易信息并没有立即在主链上执行，而是通过 Rollup 机制被收集并准备进一步处理。

- Optimistic Rollups：在此阶段，交易被视为有效并提交到链外，但是它们并没有立即在主链上验证。在这个阶段，交易将被暂时存储在一个队列或待处理状态中。
- ZK-Rollups：在 ZK-Rollups 中，交易会通过零知识证明提交，并在链下执行，但在主链上提交的是计算的证明而不是交易本身。

##### **2. 数据聚合阶段（Aggregation Stage）**

在这个阶段，多个交易被批量处理并聚合成一个大的数据包或批次。这是 Rollup 的核心特性，目的是将多个交易合并为单一交易，减少对主链的负载。

- Optimistic Rollups：交易被聚合到一个批次中，这些交易在一段时间内不会立即进行验证，系统假设它们是有效的，除非有人提出挑战。
- ZK-Rollups：交易被打包成一个单独的“区块”，然后使用零知识证明生成该批次的合法性证明，这个证明被提交到主链。

##### **3. 提交证明阶段（Proof Submission Stage）**

这是 Rollup 方案中的一个关键阶段，涉及将交易数据的合法性证明提交到主链。不同类型的 Rollups 在这个阶段的处理方式有所不同：

- Optimistic Rollups：交易提交到主链后，通常会有一个**挑战期**，在此期间任何节点都可以发起`欺诈证明（Fraud Proof）`，以证明某个交易或状态变更是无效的。如果没有挑战，交易会被认为有效。
- ZK-Rollups：在提交批次的交易后，ZK-Rollups 会将`零知识证明（ZK-SNARK 或 ZK-STARK）`提交到主链上，证明这些交易是有效的。由于零知识证明的特性，一旦提交，交易就能立即被认为有效。

##### **4. 验证阶段（Verification Stage）**

在这个阶段，提交的交易或证明被主链验证，确保其合法性。

- Optimistic Rollups：主链不需要立即验证所有交易，除非有争议发生。挑战期结束后，如果没有提交有效的欺诈证明，则交易被视为有效。
- ZK-Rollups：主链通过验证零知识证明来确认所有交易的有效性。ZK-Rollups 的验证非常快速，因为它只需要验证一个小的证明，而不是验证每一笔交易。

##### **5. 最终确认阶段（Finality Stage）**

一旦交易通过了验证过程，它们将被最终确认并记录在主链上，通常意味着这些交易不可撤销。

- Optimistic Rollups：交易的最终确认通常会有一定的延迟（通常是挑战期过后）。只有在挑战期结束并且没有发现欺诈行为时，交易才会被最终确认。
- ZK-Rollups：由于零知识证明的即时验证，交易的确认速度更快，一旦证明提交到主链，交易就会被认为是最终确认的

##### **6. 撤销阶段（Exit Stage）**

当用户或智能合约需要从 Rollup 环境中取回资金时，会进入撤销阶段。这个阶段涉及将资产从 Rollup 转移回主链。

- Optimistic Rollups：用户在退出时通常需要等待一个挑战期，以确保资产的撤销是合法的。如果没有其他人提出挑战，用户的资金可以安全地转移到主链。
- ZK-Rollups：ZK-Rollups 在撤销阶段通常会更快速，因为它们的验证过程即时且安全。一旦交易的合法性被确认，资产便可以快速转移回主链

总之，Rollup 的 Stages 术语通常用于描述整个交易处理和验证过程，涵盖从用户提交交易到最终确认的每一个步骤

### 2025.01.11

#### 由浅入深了解 Op 治理理念

OP 是一种**Layer 2**扩容解决方案，旨在提高**以太坊**网络的吞吐量和效率。OP 的治理理念在于**逐步去中心化**，这意味着随着时间的推移，系统会逐渐从一个由少数团队控制的结构，转变为一个由**社区**和**用户**共同决策和管理的系统。

##### 什么是治理

在区块链和加密货币的世界里，治理指的是**如何管理和决策一个项目的未来发展**。具体来说，治理决定了**谁**可以做出重要决策，**什么样的规则**应该适用于网络，以及如何解决出现的问题。简单来说，**治理就是管理和控制区块链项目的方式**。

##### 治理理念：去中心化交

`去中心化`是区块链的核心理念之一。它意味着**没有单一的控制者**（如公司或个人），而是由许多不同的参与者共同控制和管理系统。对于 OP 来说，治理的目标是**让决策过程不再集中在少数几个团队或公司手中，而是让更多的人（包括开发者、用户和投资者等）都有机会参与**

“去中心化”是区块链的核心理念之一。它意味着 没有单一的控制者（如公司或个人），而是由许多不同的参与者共同控制和管理系统。对于 OP 来说，治理的目标是让决策过程不再集中在少数几个团队或公司手中，而是让更多的人（包括开发者、用户和投资者等）都有机会参与。

##### OP 的治理机制

OP 的治理机制分为几个不同的阶段，逐步向去中心化的方向发展。OP 目前的治理机制是通过一个叫做**Optimism Collective**的组织来进行管理。这个组织结合了**代币持有者**和**治理代表**的角色，逐步推动项目的去中心化进程。

- 初期：集中化管理

  在 OP 的初期阶段，治理是由 OP 团队（即项目的创始人和开发者）主导的。团队负责做出关于系统更新、功能改进、资金分配等重要决策。这就像是一个初创公司，创始人控制着一切。

- 逐步去中心化

  随着时间的推移，OP 开始引入更多的**社区参与**。例如，推出了**代币（OP token）**，代币持有者可以通过**投票**来参与决策过程。代币持有者可以对重要的提案进行投票，决定是否接受某些更改。通过这种方式，项目的控制权逐渐从少数开发者手中转移到广大社区成员手中。

- 完全去中心化

  最终，OP 的目标是实现**完全去中心化治理**。意味着项目的所有决策都应该由**社区**来共同决定，而不再依赖任何中心化的控制。为此，OP 会继续改进治理结构，增加更多的治理代表和投票机制，让所有参与者都能够在公平的基础上提出和讨论提案

##### OP 的治理结构

- Optimism Collective: OP 采用了一种**双重治理**的模型，包括两大部分：

  - `治理代表`（Governance Delegates）：这些代表由**OP 代币持有者**选举产生，负责投票和决策。
  - `公民`（Citizens）：公民是 OP 社区的所有成员，可以参与到治理中，但他们不直接参与决策投票，而是通过提案、投票和讨论影响决策。

- 激励机制：为了鼓励更多的参与者参与治理，OP 为**OP 代币持有者**和**治理代表**提供激励，比如奖励代币或者其他奖励。这有助于增加社区的参与度。

- 多签钱包（Multisig Wallet）：在决策执行阶段，OP 还使用多签钱包进行资金管理。这意味着，只有当多个治理代表达成一致时，资金才能被支出或转移，从而避免了单一实体的滥用权力

#### OP 的治理组织

OP 的治理组织分为两大部分：**Optimism Collective**和**OP Foundation**。两者共同作用于 OP 网络的管理和发展，但职责和作用各有不同

##### Optimism Collective

Optimism Collective：OP 网络的去中心化治理`核心`，是由 OP 网络社区中的各方参与者组成的组织，旨在**管理和决策**关于 OP 的关键问题，包括但不限于：系统升级、资金分配、协议更新等

###### Optimism Collective 组成

Optimism Collective 主要组成部分，它们各自负责不同的治理职能：

- **公民（Citizens）**

  - 公民是 Optimism Collective 中最广泛的群体，由**所有 OP 代币持有者**和**参与者**组成。这些人通过持有 OP 代币成为公民，并有权参与到治理活动中。
  - 公民的主要作用是参与**提案**、**讨论**和**投票**等。尽管不能直接做出最终决策，但他们的意见对治理流程具有重要影响。
  - 公民的奖励：Optimism 会通过**OP 代币**激励公民参与到治理中来，促进更多的社区互动。

- 治理代表（Governance Delegates）

  - 治理代表是由**OP 代币持有者**选举产生的核心决策者。代表们通常拥有更大的投票权，负责做出关键的决策，如对重要提案的投票、批准资金支出等。
  - 治理代表的职责包括：评估提案、向公民报告并解释决策、投票决定是否批准特定提案等。每位治理代表都可以代表一定数量的OP 代币持有者，并将其投票权行使到决策中。
  - 治理代表可以通过 持有**OP 代币**选举出来，选举的过程是公开的，旨在确保这些代表具有充分的支持和授权

- 安全委员会（Security Council）

  - 安全委员会 是 Optimism Collective 中一个重要的安全保障角色。它由一组多签持有者组成，负责在特定情况下处理系统的紧急问题，例如 bug 或漏洞修复。
  - 安全委员会的成员来自不同的背景和组织，以确保决策的多样性和去中心化

###### Optimism Collective 的运作机制

Optimism Collective 的运作分为几个关键流程，确保其去中心化治理目标的实现：

- 1. 提案与讨论：
  
  - 提案发起：任何持有 OP 代币的公民都可以提出提案。提案可以涉及网络升级、资金的使用、或协议的更新等内容。
  - 讨论和审议：提出的提案会进入社区的讨论阶段。在这段时间里，社区成员、治理代表及开发者等会参与讨论、修改和优化提案。
  - 社区反馈：公民和治理代表会通过线上平台（如论坛、投票系统等）表达意见和建议。反馈可以帮助改进提案，并为最终决策提供依据。

- 2. 投票与决策：

  - 治理代表投票：治理代表会在经过充分讨论后对提案进行投票。如果提案通过，相关的变更或决策就会执行。
  - 投票权的分配：治理代表的投票权通常取决于他们代表的代币数量，代表更多代币的治理代表会有更多的影响力。这个投票过程也包括了公民的参与，尤其是在提案内容的初步审核阶段。

- 3. 资金分配与激励

  - Optimism Collective 还负责**资金管理**，例如，决定如何分配 Optimism 的**财政资金**。Optimism 使用这些资金来资助社区项目、开发者奖励、协议更新等。
  - 资金的分配也是通过**提案和投票**的方式进行，确保每一笔资金的支出都符合社区的需求和利益。
  - 代币激励：通过为公民和治理代表提供 OP 代币奖励，Optimism 鼓励更多人参与到治理中来，推动治理过程更加民主化

###### Optimism Collective 与 OP 代币的关系

Optimism Collective 的治理结构与**OP 代币**紧密相关，OP 代币不仅是 Optimism 网络的**原生代币**，还是其治理的基础

- 公民通过持有 OP 代币参与治理，持有一定数量的 OP 代币就能获得参与提案、投票和治理的资格。
- 治理代表的选举：OP 代币持有者可以投票选举治理代表。治理代表将代表公民投票并参与决策。
- 代币激励：为了鼓励积极参与治理，Optimism 为公民和治理代表提供了 OP 代币奖励。例如，治理代表可以通过批准或反对某些提案来获得奖励，激励他们参与更多的治理活动。

###### Optimism Collective 在 OP 治理中的作用

- 决策管理者：它负责管理和协调治理提案，确保提案得到充分讨论和审议后才能进行投票。
- 社区声音的代表：通过治理代表，Optimism Collective 代表了广泛社区成员的意见，并确保他们的声音能够影响最终决策。
- 资金的管理者：它控制和管理 Optimism 网络的资金，确保资金被公平地分配给有价值的社区和开发者项目。
- 推动去中心化：通过逐步增加社区和公民的参与度，Optimism Collective 推动 Optimism 网络的去中心化进程。

###### 为什么 Optimism Collective 重要

- 去中心化治理：它是 Optimism 向去中心化过渡的关键机制之一，能够逐步减少团队对项目的控制权，让社区能够共同参与决策，避免了单一实体控制的风险。
- 增强透明度：Optimism Collective 的决策是公开的，所有提案、投票和资金分配都会接受社区监督，确保项目的透明度和公正性。
- 激励创新和发展：通过为开发者和社区成员提供激励，Optimism Collective 可以推动生态系统中的创新和增长，吸引更多的人参与到网络的建设中

##### Optimism Foundation

Optimism Foundation 是一个非营利性组织，负责优化和推动 Optimism 生态系统的长期发展。在初期阶段扮演着重要角色，现在将更多权力交给 Optimism Collective 和社区成员

### 2025.01.12

#### OP投票机制

**Optimism 的投票机制**是其治理架构的重要组成部分，旨在促进社区参与并确保治理过程的公平性和透明性。投票机制的设计融合了**代币投票**和**基于公民身份**的治理，结合了**权力去中心化**和**社区驱动**的原则

##### 投票机制的核心特点

###### (1) 双院治理结构

Optimism 的治理模型采用了**双院制结构**，分为以下两个主要部分：

- Token House（代币院）

  - 由 OP 代币持有者 组成，代表资本驱动的决策。
  - 持有 OP 代币的用户可以基于其持有量参与投票。
  - 主要负责 资金分配 和 生态资助 的相关决策。

- Citizens' House（公民院）

  - 由被授予`公民身份（Citizenship）`的个人组成，代表社区的长远利益。
  - 公民身份通过`非代币化`方式授予，强调去中心化和包容性，避免治理完全被资本控制。
  - 主要负责 公共物品资助 和与社会影响相关的决策。

- 双院治理的目标：

  - 代币院 聚焦资本和发展效率。
  - 公民院 强调社会价值和公益性，平衡短期经济利益与长期社区利益。

###### (2) 基于二次方投票的机制

在某些治理决策中，Optimism 采用**二次方投票机制（Quadratic Voting）**，以减少代币持有量对投票结果的绝对影响。

- 二次方投票的原理：

  - 每个投票者的**投票权重**与其用于支持某一选项的代币数量成**平方根关系**。
    - 如果一个用户投 1 OP，则计算为 √1 = 1
    - 如果投 4 OP，则权重为 √4 = 2
    - 如果投 9 OP，则权重为 √9 = 3
  - 优势：
    - 降低了大户（鲸鱼）的投票权优势
    - 鼓励广泛的社区参与，小持有者的影响力被放大
    - 确保治理更加公平，不完全受资本的控制

###### (3) 动态调整机制

投票规则和标准可以随着社区需求和治理经验的增加进行优化

##### 投票流程

投票机制分为以下几个阶段：

1.提案阶段

- 社区成员可以在 Optimism 治理论坛（Governance Forum）提交提案。
- 提案需包括明确的目标、预算（如有）及预期影响。

2.社区讨论

- 提案发布后，社区成员可以对其进行公开讨论，提出建议或反对意见。
- 提案提交者可根据社区反馈优化内容。

3.正式投票

- 提案进入正式投票流程，由 Token House 或 Citizens' House 决定结果。
- 投票的执行根据提案性质决定：
  - 代币院投票：与资金分配、激励相关的提案。
  - 公民院投票：与公共物品资助相关的提案。

4.执行阶段

- 获得通过的提案交由 Optimism Foundation 或相关团队负责实施。
- 实施过程中，社区可以监督进展。

##### 提案的种类和投票门槛

###### (1) 普通提案

- 例如协议升级、小规模的生态资助、社区改进计划等。
- 投票门槛相对较低，通常由 代币院 或 公民院 单独投票决定。

###### (2) 重大提案

- 例如协议的核心功能变更、大规模资金分配、治理规则调整等。
- 可能需要 双院制协商，即代币院和公民院共同决定。

###### (3) 紧急提案

- 在网络遭遇漏洞、攻击或其他紧急情况下，由 安全委员会 临时决策，并在事后由社区进行表决确认。

##### 意义与影响

- 增强社区参与感

  任何持有 OP 的用户都可以参与投票，或通过贡献获得公民身份，直接影响决策。

- 推动去中心化治理

  双院制治理模式和公平的投票规则有助于实现真正的去中心化。

- 保障长远发展

  通过公民院的存在，Optimism 不仅关注短期经济利益，还致力于公共物品资助和社区价值

### 2025.01.13

#### OP 委员会

Optimism 的委员会主要由**安全委员会（Security Council）**和**治理委员会（Governance Committees）**组成，它们在 OP 网络的安全和治理方面发挥着重要作用

##### 主要委员会及其作用

###### 1. 安全委员会（Security Council）

- 定位：

  安全委员会是 Optimism 治理结构中的快速响应小组，在面对紧急情况时充当“防火墙”。

- 主要职责：

  - **紧急提案决策**：在网络出现漏洞、攻击或其他重大问题时，安全委员会可以迅速采取行动，例如冻结智能合约或修复漏洞。
  - **保障网络安全**：评估提案的技术风险，确保提案不会对网络的运行造成潜在威胁。
  - **提案监督**：定期审查和跟踪已通过的提案执行情况，确保执行符合原始意图。

- 特点：

  - 成员构成：由高信誉的社区成员、开发者或外部专家组成，采用多签（Multisig）机制。
  - 多签门槛：通常要求 50%-60% 的签名同意才能执行决策，这减少了单一成员操控的可能性。
  - 透明度：委员会成员的身份（或其匿名化标识）和操作记录均需公开，以增强社区信任。

###### 2. 治理委员会（Governance Committees）

- 定位：

  治理委员会在日常治理中起到指导和支持作用，帮助社区提案更高效地通过流程。

- 主要职责：

  - **提案预审核**：对社区成员提交的提案进行技术和逻辑性审查，提供改进建议。
  - **社区沟通与教育**：解释提案内容，确保社区成员理解其意义和影响，鼓励更多人参与投票。
  - **治理框架改进**：根据社区反馈和实际运行情况，提出改进治理流程的建议。

- 特点：

  - 成员构成：由对治理流程熟悉的社区成员和独立顾问组成。
  - 长期稳定性：重点在于优化治理，而非紧急响应。
  - 非正式权力：不直接决定提案的通过或否决，但其建议在社区中具有较高权重

##### 委员会的运作机制

###### 1. 多签机制（Multisig）

- 多签要求：所有委员会的关键决策需通过多签方式完成。
- 好处：减少了个体操控决策的风险，增强了治理的安全性和公正性。

##### 2. 定期轮换

- 目的：防止权力集中，促进新成员加入。
- 方式：委员会成员定期通过社区投票或提名产生，任期通常为 6-12 个月。

###### 3. 社区透明度

- 操作记录：委员会的决策、投票记录和提案建议公开记录在链上。
- 反馈渠道：社区成员可以通过治理论坛向委员会提供建议或质疑其行为

##### 委员会的意义

- 提高治理效率：

  通过委员会预审提案，可以减少冗长的讨论周期，让高质量提案更快进入投票环节。

- 增强安全性：

  安全委员会能迅速应对紧急问题，降低重大事件对网络造成的损害。

- 促进社区参与：

  治理委员会帮助新成员理解治理流程，降低参与门槛，吸引更多人加入治理。

- 推动长远发展：

  通过专业的审核和建议，确保治理决策对 Optimism 生态有益。

##### 委员会的挑战与改进方向

- 中心化风险：

  委员会成员的集中可能导致某种程度的权力垄断，需通过透明和轮换机制缓解。

- 成员选择机制：

  如何确保选出的成员具有专业能力且能够真正代表社区利益，是一个持续优化的方向。

- 透明性与隐私的平衡：

  在保护成员隐私的同时，确保操作记录的公开透明，需要寻找技术和制度上的平衡。

### 2025.01.14

#### OP RetroPGF

在 Optimism 生态中，RetroPGF 是一种创新的激励机制，全称为`Retroactive Public Goods Funding`，即 “**后付式公共物品资助**”。

它是 Optimism Collective 治理体系的重要组成部分，旨在通过**后置奖励**的方式，为那些为公共利益做出贡献的个人或项目提供资金支持。

##### RetroPGF 的核心理念

RetroPGF 的理念源于以下两点：

1.公共物品的重要性：

  公共物品（如开源软件、教育资源等）是区块链生态和社会发展中不可或缺的组成部分，但往往缺乏可持续的资助来源。

2.基于贡献的奖励机制：
  
  与传统的资助模式不同，RetroPGF 不在项目开始前提供资金，而是在贡献被证明对生态或社会产生积极影响后进行奖励。通过“事后付费”的方式，确保资源分配更公平、更高效。

##### RetroPGF 的运作机制

1. 资金来源

RetroPGF 的资金主要来源于以下几个方面：

- Optimism 网络费用：Optimism 的网络收入的一部分被分配到公共物品资金池中。
- 社区捐赠：来自社区成员和外部组织的资金支持。
- 治理提案拨款：由 Optimism Collective 的治理机构投票决定的资助金额。

2. 资助周期

RetroPGF 以周期（Rounds）为单位进行，例如 RetroPGF Round 1 和 Round 2。每一轮资助有以下流程：

- 提名阶段：

  社区成员可以提名个人、项目或团队，认为其为公共物品做出了重要贡献。

- 评估阶段：

  由 RetroPGF 的评审委员会（Badgeholders）对提名进行评估，基于其贡献的影响力、重要性和创新性打分。

- 资金分配阶段：

  根据评审结果，公共物品资金池中的资金按比例分配给获奖者

##### RetroPGF 的特点

- 后付式资助：

  与前置资助（如预售或众筹）不同，RetroPGF 只有在项目贡献被证明对生态系统有积极影响后才会提供奖励。这种机制激励项目专注于长期价值创造，而非短期目标。

- 贡献导向：

  RetroPGF 更注重实际影响，评估指标包括项目的使用量、社区反馈、对生态的促进作用等。

- 民主性和透明性：

  资助决策由社区选出的 Badgeholders 负责，确保公平和多样性。所有评审和分配记录公开透明，增强社区信任。

- 广泛适用性：

  RetroPGF 不仅限于区块链领域，还可以资助科学研究、教育资源、开源软件等各种公共物品。

##### RetroPGF 的关键角色

1. Badgeholders（评审员）

  Badgeholders 是被选举出来的评审员，负责对提名进行打分和评估。他们的评判依据包括贡献的规模、持久性和对 Optimism 生态的意义。

2. 被提名者

  包括个人、团队或项目，只要他们对公共物品做出显著贡献，就有资格获得提名。提名可以由社区成员发起，也可以由个人或团队自荐。

3. Optimism Collective

  作为治理主体，Collective 制定 RetroPGF 的政策和方向，例如资金池规模、评审标准等。

##### RetroPGF 的意义

- 激励公共物品建设：

  通过事后奖励的方式，为公共物品贡献者提供资金支持，激励更多人参与生态建设。

- 推动公平分配：

  以贡献为导向的分配机制，避免了传统资助中可能存在的资源浪费或不公正现象。

- 增强生态系统的可持续性：

  通过资金激励机制，确保 Optimism 和更广泛的区块链生态系统中的基础设施、工具和教育资源得到持续发展

###### RetroPGF 的实际案例

- RetroPGF Round 1

  主要奖励了一些对区块链生态有重要贡献的开源开发者和工具，例如以太坊基础设施建设者

- RetroPGF Round 2
  
  扩大了资助范围，包括教育项目、社区治理工具等，为更广泛的公共物品提供支持

###### RetroPGF 的挑战与未来

1. 挑战

   - 评估标准主观性：如何量化公共物品的贡献是一个复杂的问题
   - 公平性：确保不同类型的贡献者都有机会获得资助

2. 未来展望

   - 跨链协作：将 RetroPGF 扩展到 Optimism 以外的生态系统，推动更广泛的公共物品建设
   - 自动化评估：通过链上数据分析和机器学习模型，进一步优化提名和评估流程
   - 社区赋权：更多地将决策权交还给普通社区成员，增强治理的去中心化程度

### 2025.01.15

#### RetroPGF 奖励

RetroPGF 是 Optimism 为资助公共利益项目而设计的计划，目前已完成 Round 1 和 Round 2 两轮资助。

##### RetroPGF 的周期概述

RetroPGF 的设计理念是**事后奖励**，通过社区提名和投票，奖励那些已经为区块链生态和公共利益做出重要贡献的项目或个人。以下是 RetroPGF 的运作周期特点：

- 周期性：

  RetroPGF 并未严格规定每轮的固定间隔时间，但通常会根据生态发展需要适时启动。例如，Round 1 和 Round 2 间隔了约半年时间。

- 阶段划分：

  - 提名阶段：社区成员可提名认为对公共利益有显著贡献的项目或个人。提名的范围不限，可以是工具、基础设施、教育资源、研究项目等。
  - 评审与投票阶段：治理委员会或授权投票人对提名进行审核，并根据贡献的重要性、影响力和创新性进行投票。
  - 奖励分配阶段：根据投票结果按比例分配 RetroPGF 资金池中的资金，获奖者通常以 OP 代币的形式获得奖励。

- 资金来源：

  RetroPGF 的资金主要来自 Optimism 生态系统中为公共利益保留的 OP 代币供应（如总量的 20% 被划拨为公共物品资金）

##### Round 1 和 Round 2 的详细介绍

###### Round 1

时间：2022 年 3 月

目标：奖励那些为整个以太坊和 Optimism 生态奠定基础的关键公共产品和项目。

资金池：100 万 OP 代币

代表性获奖项目：

- Ethers.js：开发工具，用于与以太坊交互。
- Hardhat：智能合约开发框架。
- L2BEAT：Layer 2 数据透明化平台。
- OpenZeppelin：智能合约安全库。
- Scaffold-ETH：一站式 Web3 开发工具包。

特点：作为首轮资助，Round 1 的重点是识别和奖励那些已经在区块链生态中建立了关键基础设施的项目，进一步鼓励它们继续发展。

###### Round 2

时间：2023 年 10 月

目标：扩大公共物品的支持范围，不仅局限于技术工具，还包括教育、研究和社区建设等领域。

资金池：3000 万 OP 代币（规模显著增加，显示出 Optimism 对公共物品资助的更大承诺）。

代表性获奖项目：

- EthGlobal：组织黑客松活动，培养全球开发者社区。
- Solidity：以太坊智能合约语言，奠定了整个生态的技术基础。
- Optimism Quests：通过交互式教程教育新用户如何使用 Optimism 网络。
- 色彩鲜明的教育内容创建者：为新手开发者提供友好的入门指导和知识传播。

特点：

- 规模扩大：相比 Round 1，Round 2 的资助金额和获奖项目范围显著提升。
- 多样化：涵盖了更多非技术性项目，如教育和社区驱动的计划。
- 鼓励新方向：推动更多元化的公共物品开发

##### RetroPGF 的周期特点

- 灵活性：RetroPGF 的周期并没有固定的时间表，而是根据生态发展需求和资金分配状况动态调整。
- 逐步扩大规模：从 Round 1 的 100 万 OP 到 Round 2 的 3000 万 OP，可以看出资助范围和金额随着生态的发展不断增长。
- 长期规划：Optimism 承诺长期支持公共物品开发，将持续推出后续的 RetroPGF 轮次，以确保生态系统的可持续性

##### RetroPGF 的意义

- 激励机制的创新：通过事后奖励机制，确保资源分配到对生态系统发展真正有贡献的项目，而不是依赖传统的事前资助模式
- 促进公共利益发展：通过 RetroPGF，Optimism 为公共物品的开发提供了强大的资金支持，推动整个区块链行业的基础设施完善
- 加强社区参与：通过开放提名和社区投票，RetroPGF 加强了社区的治理参与感和归属感
- 优化激励分配：引导开发者专注于长远的公共利益，而不是短期的利润动机

##### 获奖项目

###### 1.Ethers.js

- 领域：开发工具
- 用途：Ethers.js 是一种轻量级且易用的 JavaScript 库，专门用于与以太坊交互。它帮助开发者快速构建与以太坊智能合约和账户交互的前端应用。
- 创新点：
  - 设计精简，注重开发者体验。
  - 支持浏览器和 Node.js，广泛适用于 Web3 应用开发。
- 意义：降低开发者入门门槛，促进以太坊生态系统中去中心化应用（dApps）的普及。

###### 2. Hardhat

- 领域：智能合约开发工具
- 用途：Hardhat 是一个以太坊开发环境，提供了智能合约编译、部署、调试和测试的全流程支持。
- 创新点：
  - 内置本地区块链网络，支持时间操控和快速调试。
  - 强大的插件生态（如 Hardhat-ethers、Hardhat-waffle 等）。
- 意义：显著提升智能合约开发和测试的效率，是开发者构建 Web3 应用的关键工具之一。

###### 3. Solidity

- 领域：编程语言
- 用途：作为以太坊智能合约的主要编程语言，Solidity 是大多数去中心化应用（dApps）和区块链协议的基础。
- 创新点：
  - 提供面向对象的语法，专门针对以太坊虚拟机（EVM）设计。
  - 不断更新以改进安全性和开发者体验（如引入 Yul 中间语言）。
- 意义：奠定了智能合约开发的基础，是整个以太坊生态系统的基石。

###### 4. L2BEAT

- 领域：Layer 2 数据透明化
- 用途：L2BEAT 提供了关于以太坊 Layer 2 扩展解决方案（如 Rollups）的全面数据和风险评估。它帮助用户了解不同 Layer 2 的技术细节、去中心化程度和安全性。
- 创新点：
  - 实时数据更新，涵盖 TVL（锁仓量）、安全模型和技术实现。
  - 风险透明化，揭示中心化依赖和潜在漏洞。
- 意义：为社区提供客观透明的信息，帮助用户和项目团队做出更明智的选择。

###### 5. OpenZeppelin

- 领域：智能合约安全
- 用途：OpenZeppelin 提供一套开源的智能合约库，涵盖常见功能（如 ERC-20、ERC-721）和安全工具（如防止重入攻击的模块）。
- 创新点：
  - 标准化的智能合约实现，减少重复工作。
  - 提供防御性编程模式，显著提高智能合约的安全性。
- 意义：降低开发者的安全风险，推动 Web3 应用的安全性发展。

###### 6. Scaffold-ETH

- 领域：开发模板
- 用途：Scaffold-ETH 是一个 Web3 开发入门工具包，集成了前端、后端和智能合约的模板，为开发者提供一站式解决方案。
- 创新点：
  - 内置多种示例智能合约，快速启动项目开发。
  - 强调开发者体验，支持热更新和本地测试。
- 意义：加速 Web3 开发者的学习曲线，为新手和资深开发者提供便利。

###### 7. EthGlobal

- 领域：教育与社区
- 用途：EthGlobal 是一个举办全球黑客松和开发者活动的平台，旨在通过教育和协作推动以太坊生态发展。
- 创新点：
  - 提供丰富的开发资源和导师指导。
  - 汇集全球开发者，共同探索创新解决方案。
- 意义：培养新一代开发者，增强以太坊社区的技术实力和多样性

### 2025.01.16

#### OP Stack

OP Stack 是由 Optimism 团队设计的一套模块化开发框架，旨在为开发者提供构建去中心化网络和 Layer 2 解决方案（如 Rollup）的标准化工具集合。

它支持以太坊扩容，同时通过灵活的模块化设计支持定制化开发，为 Layer 2 和其他链的构建者提供了强大的灵活性和可扩展性。

##### OP Stack 的主要组成模块

OP Stack 是一个模块化框架，分为多个功能组件，每个组件负责特定功能。以下是 OP Stack 的核心模块：

1.Execution Layer（执行层）

- 负责智能合约的部署和执行，与以太坊的 EVM 兼容。
- 支持所有基于 EVM 的应用程序，从而实现无缝迁移。
- 开发者可以在此层自定义虚拟机，例如支持 zkEVM 或其他非 EVM 的执行环境。

2.Consensus Layer（共识层）

- 决定系统的共识机制，例如使用 Optimistic Rollups 或 zk-Rollups。
- 为 Rollup 提供基础共识逻辑，如交易排序和状态更新。

3.Settlement Layer（结算层）

- 负责 Rollup 和以太坊主网（L1）的交互，包括状态根的提交和验证。
- 确保 Layer 2 的状态可以由主网验证，以继承以太坊的安全性。

4.Data Availability Layer（数据可用性层）

- 负责存储和传播 Rollup 的数据，确保所有数据都可以公开访问和验证。
- 开发者可以选择自定义数据存储方案，例如直接使用以太坊主网或集成外部数据可用性解决方案（如 EigenDA）。

5.Networking Layer（网络层）

- 处理节点间的通信，确保数据可以在系统中高效地传输和同步。
- 支持多链互操作性，允许不同的链通过统一标准相互连接。

6.Governance Layer（治理层）

- 支持去中心化治理模块，用于管理 Layer 2 升级、参数调整和规则变更。
- 通过治理系统协调社区共识和生态发展

##### OP Stack 的特点和优势

1.模块化设计

- 开发者可以根据需要选择或自定义模块，构建满足特定需求的 Rollup 或区块链。
- 支持不同的执行环境（EVM、zkEVM）和共识机制。

2.开放性和可扩展性

- OP Stack 是开源的，允许开发者在其基础上构建和优化。
-2不仅支持 Layer 2 网络，也可以扩展到 Layer 3，甚至独立的 Layer 1 区块链。

3.与以太坊的强兼容性

- OP Stack 深度整合以太坊生态，继承其安全性、去中心化和开发者工具生态。
- EVM 兼容性允许现有以太坊应用程序无缝迁移到 OP Stack 构建的网络。

4.多链协作

- 通过 OP Stack，开发者可以创建共享安全性和数据可用性的多链生态，支持跨链互操作性。

5.灵活的数据可用性选项

- 开发者可以选择依赖以太坊主网作为数据可用性层，或者集成外部解决方案来优化性能和成本。

6.生态系统扩展

- OP Stack 支持构建和扩展超链（Superchain），通过共享技术基础设施连接多个链，形成多链协作网络

##### OP Stack 的目标

1.简化扩容技术的开发

- OP Stack 提供了标准化工具，降低了开发 Rollup 和其他区块链的技术门槛。
- 开发者不需要从零开始构建整个链，只需定制需要的模块。

2.推动多链互操作性

- 不同网络之间可以通过 OP Stack 共享技术基础设施，实现链间的无缝协作。
- 这为构建“超链（Superchain）”生态奠定了基础。

3.增强以太坊扩容能力

- OP Stack 专为 Rollup 和扩容解决方案设计，致力于提升以太坊的交易吞吐量和用户体验。
- 同时继承以太坊的安全性和去中心化特性。

4.支持去中心化公共物品

- OP Stack 与 Optimism 的治理理念一致，鼓励开发者为公共利益开发工具和基础设施

##### OP Stack 的实际应用案例

- Optimism Mainnet

  Optimism 主网本身就是 OP Stack 的首个实现，作为 Layer 2 扩容解决方案运行在以太坊之上。

- Base by Coinbase

  Base 是 Coinbase 基于 OP Stack 构建的 Layer 2 网络，展示了 OP Stack 的灵活性和模块化能力。

- 未来的超链（Superchain）生态

  OP Stack 支持创建多个互联网络，这些网络可以协同共享资源，形成一个高度互操作的多链生态。

##### OP Stack 的意义

- 降低开发门槛

  开发者可以专注于特定模块的优化，而不是从零开始构建整个区块链。

- 加速区块链技术迭代

  OP Stack 提供了统一的标准，开发者可以快速实现定制化链或扩容方案，推动技术创新。

- 推动多链协作

  通过共享技术基础设施，OP Stack 为多链生态的合作和互操作性奠定了基础。

- 强化公共物品的建设

  与 Optimism 的治理模式相辅相成，OP Stack 鼓励开发者构建对整个生态有益的公共产品

### 2025.01.17

#### OP Bedrock

OP Bedrock 是 Optimism 开发的一种**新型升级架构**，代表了 Optimism 主网技术栈的核心重构。

它是基于 OP Stack 实现的，旨在提供`更高的性能`、`更好的兼容性`，以及`更强的可扩展性`，为构建以太坊生态的 Superchain 奠定坚实基础。

##### OP Bedrock 的核心特点

###### 1.与以太坊的高兼容性

- 完全兼容以太坊 Layer 1：OP Bedrock 使用与以太坊相同的执行环境（EVM）和同步逻辑，确保开发者可以轻松迁移现有的以太坊 dApp 到 OP 主网。
- 多客户端支持：通过与以太坊主网保持一致，OP Bedrock 能更方便地支持以太坊的多个客户端。

###### 2.简化架构

- OP Bedrock 减少了传统 Optimism Rollup 中的冗余逻辑，通过模块化设计来增强代码的可读性和可维护性。
- 通过优化区块生成逻辑和数据存储方式，提升整体运行效率。

###### 3.更快的交易确认

- 降低延迟：OP Bedrock 通过改进交易批处理和提交机制，显著减少了从 Layer 2 到 Layer 1 的交易延迟。
- 状态更新优化：通过更高效的状态更新流程，缩短了确认和验证时间。

###### 4.可扩展性

- OP Bedrock 支持基于 OP Stack 构建多个 Rollup 或链，允许开发者创建定制化的 L2 网络，同时共享统一的安全性和标准。

###### 5.数据压缩

- 更高效的数据处理：使用先进的批量数据压缩技术（如 calldata 压缩），降低了存储和传输的成本。
- 节省 Gas：由于优化了数据存储在 Layer 1 上的方式，大幅减少了与以太坊交互时的 Gas 费用。

###### 6.可升级性

- OP Bedrock 通过模块化的设计，为未来的新功能升级提供了灵活性。例如，开发者可以无缝集成新的共识机制或证明系统（如 zk-Rollups）

##### OP Bedrock 的意义

1.推动 Superchain 的实现

- OP Bedrock 是 OP Stack 和 Superchain 的核心组成部分，为跨链互操作性和多链协作提供技术支持。
- 使得多个基于 OP Stack 构建的链能够共享安全性和标准，实现真正的多链生态。

2.降低用户和开发者成本

- 通过优化 Gas 和提高交易效率，用户的使用成本显著降低。
- 开发者可以轻松构建、部署和扩展他们的应用。

3.提高以太坊的可扩展性

- 通过利用 OP Bedrock，Optimism 能够减轻以太坊主网的负担，进一步扩展以太坊的整体交易吞吐量。

4.推动去中心化

- OP Bedrock 的模块化架构促进了治理的去中心化，使得更多项目可以参与到 Layer 2 基础设施的构建中

### 2025.01.18

#### Superchain

Superchain 是 Optimism 生态系统中提出的一个具有远见的概念，旨在构建一个由多个区块链（链）组成的高度互联、兼容且去中心化的区块链网络。

通过共享技术栈、数据可用性层和治理体系，Superchain 为多个链之间实现无缝交互和高效通信提供了解决方案。

简单来说，Superchain 就像一个“多链网络”，在每个链之间打通壁垒，增强了它们的协作能力。

##### 为什么需要Superchain

区块链生态中存在以下挑战：

- 碎片化生态系统：多个 Rollup 或链各自为政，难以实现互操作性。
- 跨链交互困难：链之间通信效率低，增加了用户和开发者的使用复杂度。
- 扩展需求增加：单一 Rollup 面临扩展性瓶颈，而多链网络可以分散负载。

Superchain 提供了一个解决方案，通过统一的技术架构实现生态系统的协作。

##### Superchain 核心特点

1.**基于 OP Stack**： OP Stack 是一种模块化的区块链开发框架，允许开发者轻松创建高度定制化的 Rollup。Superchain 中的每条链都是基于 OP Stack 构建的，这使得它们具备天然的兼容性。

2.**共享数据可用性层**： Superchain 中的所有链可以共享以太坊主链（L1）或其他数据可用性层的安全性。意味着每条链的数据和状态可以轻松同步，无需复杂的跨链桥。

3.**统一治理**： 通过 Optimism Collective，Superchain 生态的链之间可以共享一个共同的治理体系，使得决策更加高效。

4.**互操作性**： Superchain 中的链之间可以像同一链上的智能合约一样直接交互，减少跨链桥的依赖，降低安全风险。

5.**无限扩展性**： Superchain 允许通过增加新的链来分散负载，从而突破单链的性能瓶颈。

##### Superchain 工作原理

1.统一技术栈

- Superchain 的所有 Rollup 链共享 OP Stack 提供的基础模块，因此开发者可以在不同链之间快速部署相同的应用。

- 示例：在一条链上运行的 DeFi 协议可以轻松扩展到其他链，无需重新开发。

2.链间通信

- Rollup 链之间通过内置协议实现低延迟的消息传递，支持资产转移、状态同步和合约调用。

- 创新点：通过消除跨链桥，避免了传统桥接机制常见的双花攻击和资产丢失问题。

3.扩展网络容量

- 每条链可以承担特定的功能（如支付、游戏、DeFi），分担主链（L1）和其他 Rollup 的负载。

- 例子：Superchain 的设计让不同的链可以处理不同类型的交易，同时互相协作，例如游戏链为 DeFi 链提供游戏奖励的结算功能。

4.分层安全性

- 各条链通过以太坊（或其他共享层）提供的数据可用性获得安全保障，同时链本身可以实现自治。

- 特点：安全性由基础层继承，同时允许链的灵活性和独立性。

##### Superchain 愿景

- 构建区块链互联网
  
  像互联网将全球的计算机连接起来，Superchain 的目标是连接所有基于 OP Stack 的区块链，形成一个无缝、去中心化的网络。

- 推动 Web3 的普及

  通过降低开发和交互的复杂性，Superchain 希望吸引更多的开发者和用户进入 Web3 世界。

- 企业级应用的支持

  由于其模块化和高效的设计，Superchain 可以为企业提供定制化的区块链解决方案。

##### Superchain 创新点

1.模块化架构

  OP Stack 允许开发者选择和替换模块（如数据可用性方案），这让每条链可以根据自己的需求调整特性，同时保持与其他链的兼容性。

2.跨链安全性

  通过共享数据可用性和消息传递协议，Superchain 消除了传统跨链桥的许多安全隐患。

3.去中心化治理

  将经济决策（Token House）与公共物品分配（Citizen House）分离，提高了治理的包容性和效率

### 2025.01.19

#### Superchain 生态

- **OP Mainnet**

  特点：Optimism 的主网，OP Mainnet 是一个基于以太坊的 Layer 2 扩展解决方案，旨在提供高吞吐量和低延迟的交易体验。

- **Base**

  特点：由 Coinbase 推出的 Layer 2 网络，Base 利用 OP Stack 构建，旨在为去中心化应用提供安全、低成本的开发平台。

- **Mode Network**

  特点：Mode 是一个基于 DeFi 的模块化 Layer 2 网络，采用 OP Stack 构建，旨在为世界级应用程序生态系统提供支持。通过 Bedrock 升级优化，Mode 提供的项目费用比以太坊低95%

- **Zora**

  特点：Zora 是一个去中心化的 NFT 市场，利用 OP Stack 构建，提供高效的数字资产交易平台

- Lisk

  特点：Lisk 是一个区块链应用平台，致力于通过 JavaScript 和 TypeScript 使区块链技术更易于访问和开发。

- **Kroma**

  特点：Kroma 是一个以游戏为中心的 Layer 2 扩展解决方案，服务于新一代游戏行业，提供高度可扩展、安全且高效的平台

- Cyber

  特点：Cyber 是一个去中心化的搜索协议，旨在为 Web3 提供高效的搜索功能，增强用户在去中心化网络中的体验。

- Mint

  特点：Mint 是一个去中心化的铸币平台，允许用户轻松创建和管理他们的数字资产，支持多种代币标准。

- Redstone

  特点：Redstone 提供去中心化的预言机服务，确保智能合约能够获取可靠的外部数据，增强区块链应用的功能性。

- **Ancient8**

  特点：Ancient8 是一个区块链游戏公会，致力于通过教育和工具支持，帮助玩家和开发者在区块链游戏领域取得成功

- **GameSwift**

  特点：GameSwift 是一个模块化游戏 Layer 2 链，旨在为游戏项目提供支持，满足游戏开发者的特定需求和挑战

>> 粗体标注：使用了Bedrock升级优化的项目

### 2025.01.20

#### OP 代币经济学

Optimism (OP) 的代币经济学设计（Tokenomics）围绕其核心使命展开：**推动公共品的发展、激励生态系统的增长，并加强治理机制**

##### OP 代币分配

OP 代币的分配注重平衡多方利益，包括社区激励、生态发展、公共品资助和项目可持续性。以下是 OP 代币的主要分配：

###### 总量

OP 代币的总供应量固定为 **43.1 亿**枚，分配计划具有长期性（约 4 年）

###### 分配

| 类别 |  占比 | 用途说明 |
|---|---|---|
| 社区基金 | 19% | 赋能治理系统，支持 Optimism Collective 的治理发展和运行 |
| 生态基金 | 25% | 激励开发者和生态项目，如资助协议迁移到 Optimism 上或开发新功能 |
| RetroPGF | 20% |Retroactive Public Goods Funding，用于奖励对公共品和基础设施有贡献的项目 |
| 核心贡献者 | 19% | 分配给团队成员和早期支持者，以激励长期的生态建设 |
| 用户空投 | 17% | 吸引新用户并奖励早期用户，空投计划分批执行，目标是扩大社区规模 |

##### OP 代币用途

###### 1.治理代币

- OP 代币是 Optimism Collective 的治理代币，持币者可以参与以下治理活动：

  - 协议升级投票： 包括 OP Stack 的改进和 Optimism Rollup 的技术迭代
  - 资金分配： 决定如何分配社区基金和生态基金

- 治理机制由两院制（Token House 和 Citizens' House）支持，OP 代币用于 Token House 的投票

###### 2.生态激励

- 吸引开发者和用户：

  - 开发者激励：支持开发者将项目迁移到 Optimism 上，并补贴部署成本。
  - 用户激励：通过空投或奖励机制吸引用户使用 Optimism 的应用（如交易、流动性提供等）。

- DeFi 协议奖励：

  - OP 代币分发给在生态中表现优异的 DeFi 协议（如 Uniswap 和 Aave），用于奖励用户提供流动性或使用协议

###### 3.公共品资助

- RetroPGF：

  - RetroPGF 是 OP 代币经济学的一大创新。通过资助基础设施、开源工具和教育项目，鼓励为公共品做出贡献的开发者和组织。
  - 此机制与治理机制相结合，由社区投票决定哪些项目将获得资助

###### 4.价值捕获与网络效应

- 链上活动增加代币价值：

  - 随着生态系统的扩展，链上活动（如交易、智能合约交互）增加，激励更多用户和开发者使用 Optimism，推动 OP 代币需求增长。

- 长尾效应：

  - 将 OP 代币用于生态激励和公共品资助，帮助构建更强的网络效应和长期增长

##### OP 空投策略

Optimism 的空投计划旨在吸引新用户，并激励现有用户长期参与生态发展：

- 多轮空投：

  - OP 的空投分多轮进行，目前已完成 Airdrop #1，未来计划执行更多轮次。
  - 空投目标包括早期 Optimism 用户、长期持币者、以太坊生态的活跃用户等。

- 行为奖励：

  - 不仅奖励早期用户，还注重激励对生态有长期贡献的用户，如参与治理、贡献流动性等

##### 激励机制

###### 1.用户激励

- Gas 费补贴：

  - 使用 OP 代币为用户提供交易费用折扣，吸引更多用户参与。

- 流动性激励：

  - OP 代币奖励流动性提供者，增强 DeFi 协议的流动性。

###### 2.开发者激励

- 生态基金分配：

  - OP 代币用于资助新项目开发、现有协议的迁移和基础设施建设。

- RetroPGF：

  - RetroPGF 激励对 Optimism 和以太坊生态系统有长期贡献的开发者和项目

##### 长期经济影响

OP 的代币经济学设计，意图实现以下目标：

- 公共品激励：

  - 通过 RetroPGF 和生态基金，支持公共品开发，促进区块链基础设施的长远发展。

- 去中心化治理：

  - 通过治理代币的投票权，赋能社区，实现链上治理的透明化与去中心化。

- 生态扩展：

  - 激励更多项目和用户参与 Optimism，逐步扩大 Superchain 生态。

- 持续创新：

  - 通过 RetroPGF 和激励机制，推动 Layer 2 技术和应用的不断创新

### 2025.01.21

#### OP 生态

Optimism 生态中的重要应用涵盖了多个关键赛道，如**DeFi（去中心化金融）、NFT、游戏、工具和基础设施**等。

OP作为Layer 2解决方案，OP上部署了各种类型的应用，OP为这些应用提供了高性能、低成本的区块链基础设施，推动了区块链技术的发展和应用场景的多样化。

而这些应用也为OP生态带来了更多的用户和流动性，共同构建了一个繁荣的区块链生态系统。

##### DeFi 赛道

DeFi 是 Optimism 生态的重要组成部分，众多知名协议已经在 Optimism 部署或扩展。

###### 1.Uniswap

- 类别： 去中心化交易所（DEX）
- 功能： 提供低成本、高速度的代币交换和流动性池。
- 影响：
  - 减少了交易成本，为用户提供了以太坊主网无法比拟的高效率。
  - 增加了 OP 生态的流动性，为其他 DeFi 应用奠定基础。

###### 2.Aave

- 类别： 借贷协议
- 功能： 提供代币借贷和质押功能，支持多种资产。
- 影响：
  - 吸引更多资产进入 Optimism 生态。
  - 为用户提供资本效率更高的借贷服务。

###### 3.Synthetix

- 类别： 衍生品交易协议
- 功能： 创建和交易`合成资产（synths）`，如股票、商品和法币的代币化版本。
- 影响：
  - 扩展了 DeFi 的应用范围，增加了 OP 生态的多样性。
  - 提供复杂的金融工具，为高级用户创造价值。

###### 4.Velodrome

- 类别： DEX
- 功能： 侧重于高效的流动性激励，通过投票锁定代币（veToken）增加治理权重。
- 影响：
  - 为 OP 生态中的其他协议提供了强大的流动性基础。
  - 提供创新的代币经济模式，为用户创造更大收益

##### NFT 赛道

Optimism 的低交易费用和高性能特别适合 NFT 的铸造和交易。

###### 1.Quix

- 类别： NFT 市场
- 功能： 提供 NFT 的铸造、买卖和展示服务。
- 影响：
  - 降低了铸造和交易 NFT 的成本。
  - 吸引了更多创作者和收藏家，推动了 NFT 社区的发展。

###### 2.Zora

- 类别： NFT 协议
- 功能： 为创作者提供无许可的 NFT 铸造和销售工具。
- 影响：
  - 增强了创作者的自主性和盈利能力
  - 推动 Web3 创意经济的发展

##### 游戏赛道

Optimism 的高吞吐量和低延迟为区块链游戏提供了理想的环境

###### 1 Loot Exchange

- 类别： 游戏内资产交易平台
- 功能： 提供去中心化的游戏内物品交易市场
- 影响：
  - 让玩家能够真正拥有和交易虚拟资产
  - 为区块链游戏生态带来了流动性和真实的经济模型

###### 2.GameSwift

- 类别： Web3 游戏生态平台
- 功能： 提供区块链游戏开发工具、资产管理和用户入口
- 影响：
  - 降低了游戏开发的门槛
  - 吸引更多 Web2 开发者和玩家进入 Web3 世界

##### 工具和基础设施

###### 1.Etherscan

- 类别： 区块链浏览器
- 功能： 提供交易、区块和地址信息的查询服务
- 影响：
  - 增强了透明性，帮助用户追踪资金流动
  - 为开发者提供调试和分析工具

###### 2.The Graph

- 类别： 去中心化数据索引协议
- 功能： 帮助开发者快速获取和处理链上数据
- 影响：
  - 大幅提升了 dApp 的开发效率
  - 支持复杂的应用场景，如 DeFi 和 NFT 市场

###### 3.Chainlink

- 类别： 去中心化预言机
- 功能： 提供链下数据（如价格）到链上的桥梁
- 影响：
  - 为智能合约提供可靠的数据来源
  - 支持复杂金融产品和游戏机制的开发
  
##### 社区与治理工具

###### 1.Snapshot

- 类别： 去中心化投票平台
- 功能： 为 DAO 和治理系统提供无 Gas 费的投票功能。
- 影响：
  - 增强了社区治理的效率和包容性。
  - 让小额代币持有者也能参与治理。

###### 2.Tally

- 类别： 治理仪表盘
- 功能： 提供治理提案的跟踪和管理工具。
- 影响：
  - 增强了治理的透明度和社区参与度。
  - 帮助持币者了解治理动态

### 2025.01.22

#### OP Sequencer

在 Optimism 生态中，**Sequencer** 是 Rollup 技术架构中至关重要的组件之一，它负责`管理交易的排序、打包和提交，以确保高效性和低延迟的用户体验`

##### Sequencer 的主要功能

1.**交易排序与打包**

- 作用： Sequencer 接收用户提交的交易请求，按时间顺序或优先级进行排序，并将其打包成批次（batch）。
- 意义： 通过集中化的排序机制，显著提高了交易的确认速度，通常可以实现接近即时的交易确认

2.**生成Rollup批次**

- 作用： 将多个交易组合成一个 Rollup 批次（Rollup Batch），并提交到以太坊主链作为数据可用性和状态更新的记录。
- 意义： 确保所有交易的状态变化都被最终记录在以太坊上

3.**状态更新**

- 作用： 处理每笔交易后更新 L2 的状态树，并通过状态根（State Root）将结果提交到以太坊。
- 意义： 确保 L2 的状态变化可以通过以太坊上的状态根进行验证

4.**用户体验优化**

- 作用： 在提交到以太坊主网之前，Sequencer 会立即为用户提供交易状态的反馈。
- 意义： 提升了用户体验，使交易确认时间几乎达到“即时”

##### Sequencer 的工作流程

1.接收交易：

- 用户通过钱包或应用将交易发送到 Sequencer。
- Sequencer 会对交易进行基本验证，例如签名检查和账户余额验证。

2.排序和打包：

- 将交易按照时间戳或优先级（如 Gas 费用）排序。
- 将多个交易合并为一个 Rollup 批次。

3.执行交易：

- Sequencer 模拟执行每笔交易并更新状态树（MPT）。
- 生成交易的最终状态根和收据。

4.提交数据到以太坊：

- Sequencer 将 Rollup 批次的数据和状态根提交到以太坊主链。
- 数据包含交易的压缩版本，以节约 Gas 费用。

5.公开数据以支持挑战机制：

- 提交的数据可以被所有节点查看和验证。
- 如果 Sequencer 提交的数据与真实状态不符，任何人都可以发起挑战，确保系统的公正性

##### 数据可用性参与机制

在 Rollup 架构中，数据可用性（Data Availability, DA）是确保链上交易安全性的核心。Sequencer 在以下几个方面与数据可用性相关联：

1.Sequencer 的数据提交

- 压缩交易数据
  - Sequencer 会将交易数据压缩，并提交到以太坊主网。这些数据记录在以太坊的 calldata 中，供验证者节点检索。
- 作用： 数据的提交使得所有节点都可以重建 L2 状态，从而确保系统的透明性和审计能力。

2.状态根的提交

- **状态根**：每个交易批次会产生一个新的状态根，Sequencer 将其提交到以太坊。
- 作用：确保每笔交易的执行结果是可验证的，同时为 L2 提供链上状态的快照。

3.挑战机制（Fraud Proof）

- 机制：如果 Sequencer 提交的状态或数据不正确，验证者可以发起欺诈证明（Fraud Proof）。
- 作用：
  - 提供了一种经济激励机制，防止 Sequencer 作恶。
  - 通过挑战和验证，确保 Rollup 系统的安全性和正确性。

4.数据可用性协议的改进

- 随着以太坊生态中 EigenLayer、Danksharding 等技术的开发，未来 Optimism 的数据可用性可能转向使用去中心化的 DA 层。
- 这将减少对以太坊 calldata 的依赖，同时降低 Gas 成本。
  
##### 如何参与 Optimism 的数据可用性？

1.运行节点（Verifier Node）：

- `验证者节点`会下载所有提交到以太坊的数据，并通过重放交易来验证 L2 的状态。
- 参与方法：
  - 部署和运行 Optimism 的节点客户端。
  - 监控 Sequencer 提交的数据并验证状态根。

2.参与挑战机制：

- 如果发现 Sequencer 提交了不正确的数据或状态根，任何人都可以发起欺诈证明。
- 意义： 通过挑战机制确保系统的去中心化和安全性。

3.提供数据服务：

- 第三方服务可以通过存储和提供 L2 的交易和状态数据，帮助节点减少存储需求。
- 示例： 类似 The Graph 的索引协议可以在 Optimism 数据可用性方面发挥作用。

4.社区贡献：

- 参与治理提案，改进数据可用性协议。
- 帮助推广和开发更高效的压缩技术。

##### Sequencer 与去中心化的未来

目前，Sequencer 是由 Optimism 官方团队运行的中心化组件，但未来计划将其去中心化：

- 短期目标

  引入多个 Sequencer 节点，通过共识机制排序交易，降低单点故障的风险。

- 长期目标：

  完全去中心化的 Sequencer 网络，使任何节点都可以成为 Sequencer，进一步提升 Rollup 的去信任化属性

##### Sequencer 与 Superchain

在 Superchain 的愿景中，各个 Rollup 链（例如 Optimism 和其他 OP Stack 链）可以共享 Sequencer 网络：

- 优势

  - 提高交易排序的效率。
  - 不同 Rollup 链之间的互操作性将更加顺畅。
  - 降低单个 Rollup 链的运行成本

Sequencer 是 Optimism 生态中确保`交易高效性、状态更新和数据可用性`的关键组件。通过**中心化管理交易的排序和提交**，当前的 Sequencer 提供了接近即时的交易确认体验。

随着未来**去中心化 Sequencer 网络**的发展，它将在提高安全性、可扩展性和透明性方面发挥更大作用，同时与 Superchain 的共享架构无缝集成，为整个 L2 生态注入更多活力和潜力。

### 2025.01.23

### 2025.01.24

### 2025.01.25

### 2025.01.26

#### OP 本质回归

从第一性原则出发，无论 OP 的技术、治理还是生态如何演进，其核心目标始终是**扩展以太坊的边界，构建一个更加开放、公平和高效的去中心化网络**

##### Layer 2 的本质：扩展以太坊，而非替代

- 第一性原理

  以太坊的区块链基础具有去中心化、安全性和可信性，但牺牲了性能（扩展性）。
  Layer 2 的核心目标是通过`将交易执行、数据存储等任务从主链（L1）转移到次级层（L2），以降低成本并提高交易吞吐量`，同时保持与以太坊的信任关系。

- Optimism 的角色

  OP 是以太坊的扩展工具，利用 Rollup 技术在以太坊 L1 的**安全性**基础上，优化性能和降低费用。
  它是**信任最小化的扩展解决方案**，不是与以太坊竞争，而是帮助以太坊达成其“世界计算机”的愿景。

##### Optimistic Rollup 的核心思想：乐观假设与欺诈证明

- 第一性原理

  如果我们假设绝大多数交易是诚实的，系统的效率会显著提高。只有当发生恶意行为时才需要介入验证。

- 机制剖析：

  - 数据处理：用户提交交易，Sequencer 快速排序打包，并将交易的压缩数据和状态根提交到 L1。
  - 信任验证：L2 提交的结果默认被认为是有效的（“乐观”假设），但系统保留了一段时间窗口（挑战期）允许其他验证者提交欺诈证明（Fraud Proof）。
  - 影响：这一设计减少了不必要的验证开销，同时确保恶意行为可被惩罚。

- 本质逻辑：只验证有问题的交易，减少资源消耗，实现扩展。

##### 数据可用性：Rollup 与以太坊的紧密绑定

- 第一性原理

  区块链的安全性取决于“**数据可用性**”，即所有状态的更新都能在任何时间被重建和验证。

- Optimism 的设计：

  - 将交易数据（压缩后的）发布到以太坊 L1，确保即使 L2 无法正常运行，任何人仍然可以利用 L1 数据重建 L2 的状态。
  - 本质逻辑：L2 的信任来源于 L1 的数据可用性，Optimism 在本质上是**将计算移出以太坊**，而非数据或信任

##### 简化与模块化：构建开放生态的可扩展架构

- 第一性原理

  复杂系统需要通过分解为模块化组件来提升扩展性和适应性。

- OP Stack 的意义：

  - Optimism 的开发堆栈（OP Stack）是一个开源、模块化的框架，支持不同项目基于统一协议创建自己的 Rollup。
  - 本质逻辑：提供基础工具，让开发者构建独立又互通的 Rollup 系统，形成一个共享资源和安全的“**Superchain**”。
  - 影响：这类似于“Layer 2 的互联网”，促进跨链通信和资源共享，为 Web3 应用带来更多创新可能。

##### 社区驱动：治理与公共利益最大化

- 第一性原理

  区块链的核心精神是**去中心化与社区共识**，治理机制必须设计为激励所有利益相关者朝共同目标努力。

- Optimism 的治理创新

  - Optimism Collective：一个治理组织，融合了Token House（OP 持有者投票）和Citizen House（身份绑定的公民投票），共同决定网络发展的技术方向和公共资源分配。
  - RetroPGF：一种创新性资金分配机制，奖励为生态作出贡献的项目和个人，激励长远发展。
  - 本质逻辑：通过社区驱动的治理和公平的价值分配，激发创新活力，维持网络健康。

##### 经济学设计：网络效应与可持续发展

- 第一性原理

  任何系统都需要激励机制维持长期稳定运行，同时避免财富和权力过度集中。

- OP Token 的功能

  - 用于网络治理（投票权）。
  - 激励生态发展（如资助开发者和项目）。
  - 支持链上经济活动（如支付费用）。

- 意义：代币经济学通过引入多样化的使用场景，促进网络效应，为生态参与者提供持续价值。

<!-- Content_END -->
