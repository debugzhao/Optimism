---
timezone: Asia/Shanghai
---

# debugzhao

1. web3 newcomer，受够了web2枯燥的CRUD工作，共同进步共同成长。
2. 一定会的！

## Notes

<!-- Content_START -->

### 2025.01.06

#### 区块链层级介绍

区块链技术能够实现去中心化、安全可靠的数据存储和交易。区块链技术由多个层级组成，每个层级都有其特定的目的和功能。包括Layer1、Layer2 和 Layer3。

- layer1

  Layer1 是区块链的基础层，它负责处理区块链网络中的所有交易和数据存储。例如，比特币、莱特币和以太坊都是 Layer1 区块链。

  Layer1 区块链通常采用**共识算法**来实现分布式共识。这些共识算法包括**`工作量证明`**（Proof of Work, PoW）、`权益证明`（Proof of Stake, PoS）和`委托权益证明`（Delegated Proof of Stake, DPoS）等。

- layer2

  Layer2 是建立在 Layer1 区块链之上的第三方协议，**旨在提高区块链网络的性能**。它通过智能合约设计的规则进行**`仲裁`**，以经济激励的形式将信任传递到 Layer2。
  目前常见的 Layer2 解决方案包括**`状态通道`**（State Channels）、**`侧链`**（Sidechains）、**`等离子体`**（Plasma）和 **`Roll Up`** 等。这些解决方案都旨在通过在**链下进行交易来提高区块链网络的性能**。

- layer3

  Layer3 代表了基于区块链的应用程序，例如去中心化金融（DeFi）应用、游戏或分布式存储应用。这些应用程序通常建立在 Layer1 和 Layer2 的基础之上，并利用区块链技术实现安全可靠的数据存储和交易。	

#### Layer1难以扩容的问题

Layer 1网络普遍存在**难以扩容**的问题。面对日益增长的交易需求，比特币和其他大型区块链都在力图加快交易的处理速度。比特币使用的工作量证明(PoW)共识机制需要大量计算资源。PoW兼顾了去中心化和安全性，但在交易高峰期，网络运行速度仍会下降，从而导致交易确认时间延长，费用上涨。

多年以来，区块链开发人员一直在研究可拓展性解决方案，但是至今仍未就最优替代方案达成一致。Layer 1扩容的可选方案包括：

- 扩大区块规模，使每个区块能够处理更多交易。

- 更改共识机制。即将上线的以太坊2.0版本就采用了这一方案。

- 实施分片

  分片是一种常见的Layer 1扩展解决方案，可用于增加交易的吞吐量。这是一种数据库分割技术，可以应用于区块链的分布式账本。**网络连同上面的节点一起被分割成不同的分片，以此平摊工作量并提升交易速度。**每个分片处理整个网络的一部分活动，即每个分片都有自己负责的交易、自己的节点和独立的区块。
  分片后，无需在每个节点上保存完整的区块链副本。每个节点会将完成的工作写入主链，实时共享本地数据，包括地址余额和其他关键参数。

改进Layer 1需要大费一番周折。很多情况下，不是所有网络用户都会同意这样的变更。这么做可能会导致社区分裂，甚至发生硬分叉。2017年比特币分裂出比特币现金就是**`硬分叉`**的后果。

Layer 1存在一些无法突破的瓶颈。由于受到技术限制，区块链主网很难或几乎不可能实施某些变更。例如，以太坊正在升级过渡到权益证明(PoS)系统，但是整个流程已耗时数年。
由于可扩展性问题，Layer 1本身并不适合某些用例。比特币网络的交易流程耗时过长，现实中不可能在网络上运行任何区块链游戏。但是，游戏的开发人员可能仍然想利用Layer 1的安全性和去中心化属性。那么，**最佳办法就是在这一网络上构建Layer 2解决方案**。

#### 什么是Layer2？

Layer 2（第二层）是指在区块链技术和网络协议中用于扩展基础区块链（Layer 1）的解决方案。**其目的是提高交易速度、降低交易费用，并增强网络的可扩展性和效率**。Layer 2 通过在**主链之外处理大量交易，然后将结果批量提交到主链**，从而减轻主链的负担。以下是 Layer 2 的一些关键特点和技术：

- 扩展性

  Layer 2 解决方案可以处理更多的交易量，从而缓解 Layer 1（如以太坊和比特币）上的拥堵问题。

- 成本降低

  通过在链下处理交易，Layer 2 可以显著降低用户的交易费用。

- 提高速度

  由于交易不需要在主链上逐一确认，Layer 2 可以大幅提高交易处理速度。

- 安全性

  尽管交易在链下处理，但 Layer 2 解决方案仍依赖于主链的安全性来保证最终的交易结果是可信和不可篡改的。

##### Layer2解决方案

- 状态通道

  这种方法允许两方或多方在链下进行多次交易，只在交易结束时将最终状态提交到区块链。一个典型的例子是闪电网络（Lightning Network），主要用于比特币。

- 侧链

  侧链是一条独立的区块链，使用其自身的共识机制，但通过双向锚定与主链（母链）连接。侧链可以自由地实现不同的功能和优化，同时主链依旧保持其主要的安全和稳定性。

- Rollups

  Rollups 通过将大量交易打包到一个单一交易中，并将其提交到主链。这种方法可以分为两种类型：乐观 Rollups（Optimistic Rollups）和零知识 Rollups（zk-Rollups）。

  - Op Rollups

    假设交易是有效的，只有在有争议时才进行验证

  - Zk Rollups

    通过零知识证明技术，在提交交易数据的同时，保证其正确性。

- Plasma

  Plasma 是一种框架，允许创建多层的子链结构，每层都可以处理大量的交易。尽管其理论基础较强，但在实际应用中面临一定的挑战。

##### 闪电网络

闪电网络就是一个著名的示例。在流量高峰期要花费数小时才能在比特币网络上完成一笔交易。而闪电网络允许用户在主链下使用比特币进行快速支付，稍后再将余额提交至主链。这样可以将所有人的交易汇总成一份最终记录，从而节省时间和资源。 

#### Optimistic rollups

Optimistic Rollups 是一种扩展以太坊网络的 Layer 2 解决方案，通过在 Layer 2 处理大部分计算和交易，同时利用以太坊的安全性来验证这些交易。其核心特点包括：

- 通过乐观假设提高效率：

  默认假设交易是有效的，只在必要时运行欺诈证明（Fraud Proof）来验证交易的正确性。

  减少了重复计算，提升了吞吐量和效率。

- 安全性依赖以太坊

  Optimistic Rollups 的安全性建立在以太坊 Layer 1 的基础上。所有 Layer 2 的状态都被提交到以太坊，确保数据可用性和抗审查性。

- 欺诈证明机制

  提供了一种仲裁机制，允许用户对不正确的交易进行仲裁，如果交易被发现无效，系统将回滚并修正状态。

- 数据可用性

  所有交易数据都发布到以太坊 Layer 1，以确保任何人都可以独立验证 Rollup 的状态。

- 适用场景

  Optimistic Rollups 适合 DeFi 等需要较高安全性和较低交易费用的应用。	

#### ref

- [区块链层级layer0，layer1，layer2，layer3？](https://juejin.cn/post/7255475756322979897)
- [什么是区块链中的Layer 1？](https://academy.binance.com/zh/articles/what-is-layer-1-in-blockchain)
- [Layer2 的基本概念和主流项目分析](https://learnblockchain.cn/article/8163)

### 2025.01.07

以太坊目前的账户体系分为外部账户（EOA）和合约账户（CA），其中 EOA 功能简单但限制较多，而 CA 尽管功能强大，但使用复杂且门槛较高。账户抽象通过引入智能合约和统一入口机制，旨在改善用户体验，弥补传统账户体系的不足。

EIP-4337 的核心机制包括一个名为 **EntryPoint** 的合约，用于处理账户抽象逻辑；**UserOperation** 对象作为标准化的交易数据结构；以及 **Bundler（捆绑器）**，用于聚合多个用户操作以提高性能。这些机制共同实现了灵活的 Gas 费支付方式、支持多签名与权限管理、提供账户恢复功能、以及优化 dApp 交互体验的目标。例如，用户可以使用 ERC-20 代币支付 Gas，设置更复杂的权限规则，或通过社交账号操作钱包。

账户抽象带来了诸多优势，例如降低 Web3 使用门槛、增强安全性、提供更强的账户功能和简化开发者与用户之间的交互。然而，它也面临技术复杂性、安全风险以及生态推广难度等挑战。尽管如此，EIP-4337 已经在链游、DeFi 和社交钱包等场景中展现出广泛的应用潜力，为以太坊生态的未来发展奠定了坚实基础。

### 2025.01.08

 **Stages** 的框架，用于评估 **Rollups** 技术的成熟度。Stage提供一个系统化的方法来衡量不同 **Layer 2 Rollups** 的发展阶段，以便开发者、投资者和区块链生态系统的其他参与者可以更好地了解每个 Rollup 的进展、风险和潜力。

随着以太坊的 **Layer 2** 解决方案不断发展，Rollup 技术逐渐成为主流，它们承载着大量交易并向以太坊主链提供扩展性。然而，不同的 Rollup 项目在技术实现和安全性方面存在差异，因此，如何评估这些项目的成熟度变得尤为重要。为了填补这一空白，**Stages** 框架应运而生。

**Stages 框架的目的**

**Stages** 框架的目的是通过量化 Rollups 的发展阶段，为开发者和社区提供一套标准化的衡量工具。框架依据不同的标准对 Rollups 进行评分，进而评估它们的成熟度和可靠性。文章特别指出，Rollups 在从 **实验性** 阶段向 **成熟商业化** 阶段过渡时面临不同的挑战和机遇，因此框架提供了不同的发展阶段划分。

**框架的结构**

框架将 Rollups 的发展分为以下几个阶段：

**Stage 0：实验性阶段**

这个阶段的 Rollup 项目通常处于试验阶段，尚未广泛投入生产环境。技术尚不成熟，存在较高的风险和不确定性，主要用于研究和原型验证。

**Stage 1：测试阶段**

Rollup 进入测试阶段，进行一定规模的实验验证。虽然它们可能在小范围内成功运行，但依然存在许多技术不确定性和潜在的安全问题。开发者正在测试其扩展性和可操作性。

**Stage 2：早期生产阶段**

Rollup 开始进入较为稳定的生产环境，并在一些真实的交易中发挥作用。此时，它们的扩展性和稳定性有所提高，但依然可能存在不小的风险，尤其是在处理大量交易时。

**Stage 3：成熟阶段**

Rollup 技术在这个阶段已获得广泛认可并成功应用于生产环境。它们具有较高的可用性、可靠性和扩展性，已解决大部分安全性和性能问题，能够承载大量交易。

**Stage 4：商业化阶段**

这是 Rollup 技术发展的最终阶段，已经完全成熟并投入到商业应用中。它们能够处理复杂的应用场景，且具备高水平的安全性、低成本和高效能，完全符合企业级需求。

**框架的目标**

通过使用 **Stages** 框架，社区能够更透明地了解每个 Rollup 在不同发展阶段的成熟度。这对于项目投资者、开发者以及生态系统其他成员来说至关重要，因为他们可以根据 Rollup 的发展阶段来评估风险、规划业务战略和选择合适的技术平台。

通过 **Stages** 框架强调了 Rollups 技术在不同发展阶段的变化，尤其是从实验性到商业化的过程。随着 Rollups 技术的逐步成熟，整个区块链生态系统将能够更好地应对扩展性和性能挑战。文章呼吁整个社区积极参与评估和推动这些技术的演进，以确保区块链的未来更加可持续和高效。

### 2025.01.09

<!-- Content_END -->
